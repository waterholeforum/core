(function(){"use strict";function ke(t){return t.replace(/(?:[_-])([a-z0-9])/g,(e,n)=>n.toUpperCase())}function dt(t){return ke(t.replace(/--/g,"-").replace(/__/g,"_"))}function z(t){return t.charAt(0).toUpperCase()+t.slice(1)}function ft(t){return t.replace(/([A-Z])/g,(e,n)=>`-${n.toLowerCase()}`)}function ve(t){return t!=null}function we(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Z(t,e){const n=je(t);return Array.from(n.reduce((o,i)=>(ht(i,e).forEach(r=>o.add(r)),o),new Set))}function pt(t,e){return je(t).reduce((o,i)=>(o.push(...mt(i,e)),o),[])}function je(t){const e=[];for(;t;)e.push(t),t=Object.getPrototypeOf(t);return e.reverse()}function ht(t,e){const n=t[e];return Array.isArray(n)?n:[]}function mt(t,e){const n=t[e];return n?Object.keys(n).map(o=>[o,n[o]]):[]}(()=>{function t(n){function o(){return Reflect.construct(n,arguments,new.target)}return o.prototype=Object.create(n.prototype,{constructor:{value:o}}),Reflect.setPrototypeOf(o,n),o}function e(){const o=t(function(){this.a.call(this)});return o.prototype.a=function(){},new o}try{return e(),t}catch{return o=>class extends o{}}})(),Object.assign(Object.assign({enter:"Enter",tab:"Tab",esc:"Escape",space:" ",up:"ArrowUp",down:"ArrowDown",left:"ArrowLeft",right:"ArrowRight",home:"Home",end:"End",page_up:"PageUp",page_down:"PageDown"},Te("abcdefghijklmnopqrstuvwxyz".split("").map(t=>[t,t]))),Te("0123456789".split("").map(t=>[t,t])));function Te(t){return t.reduce((e,[n,o])=>Object.assign(Object.assign({},e),{[n]:o}),{})}function gt(t){return Z(t,"classes").reduce((n,o)=>Object.assign(n,bt(o)),{})}function bt(t){return{[`${t}Class`]:{get(){const{classes:e}=this;if(e.has(t))return e.get(t);{const n=e.getAttributeName(t);throw new Error(`Missing attribute "${n}"`)}}},[`${t}Classes`]:{get(){return this.classes.getAll(t)}},[`has${z(t)}Class`]:{get(){return this.classes.has(t)}}}}function yt(t){return Z(t,"outlets").reduce((n,o)=>Object.assign(n,Et(o)),{})}function Se(t,e,n){return t.application.getControllerForElementAndIdentifier(e,n)}function Ce(t,e,n){let o=Se(t,e,n);if(o||(t.application.router.proposeToConnectScopeForElementAndIdentifier(e,n),o=Se(t,e,n),o))return o}function Et(t){const e=dt(t);return{[`${e}Outlet`]:{get(){const n=this.outlets.find(t),o=this.outlets.getSelectorForOutletName(t);if(n){const i=Ce(this,n,t);if(i)return i;throw new Error(`The provided outlet element is missing an outlet controller "${t}" instance for host controller "${this.identifier}"`)}throw new Error(`Missing outlet element "${t}" for host controller "${this.identifier}". Stimulus couldn't find a matching outlet element using selector "${o}".`)}},[`${e}Outlets`]:{get(){const n=this.outlets.findAll(t);return n.length>0?n.map(o=>{const i=Ce(this,o,t);if(i)return i;console.warn(`The provided outlet element is missing an outlet controller "${t}" instance for host controller "${this.identifier}"`,o)}).filter(o=>o):[]}},[`${e}OutletElement`]:{get(){const n=this.outlets.find(t),o=this.outlets.getSelectorForOutletName(t);if(n)return n;throw new Error(`Missing outlet element "${t}" for host controller "${this.identifier}". Stimulus couldn't find a matching outlet element using selector "${o}".`)}},[`${e}OutletElements`]:{get(){return this.outlets.findAll(t)}},[`has${z(e)}Outlet`]:{get(){return this.outlets.has(t)}}}}function kt(t){return Z(t,"targets").reduce((n,o)=>Object.assign(n,vt(o)),{})}function vt(t){return{[`${t}Target`]:{get(){const e=this.targets.find(t);if(e)return e;throw new Error(`Missing target element "${t}" for "${this.identifier}" controller`)}},[`${t}Targets`]:{get(){return this.targets.findAll(t)}},[`has${z(t)}Target`]:{get(){return this.targets.has(t)}}}}function wt(t){const e=pt(t,"values"),n={valueDescriptorMap:{get(){return e.reduce((o,i)=>{const r=xe(i,this.identifier),a=this.data.getAttributeNameForKey(r.key);return Object.assign(o,{[a]:r})},{})}}};return e.reduce((o,i)=>Object.assign(o,jt(i)),n)}function jt(t,e){const n=xe(t,e),{key:o,name:i,reader:r,writer:a}=n;return{[i]:{get(){const l=this.data.get(o);return l!==null?r(l):n.defaultValue},set(l){l===void 0?this.data.delete(o):this.data.set(o,a(l))}},[`has${z(i)}`]:{get(){return this.data.has(o)||n.hasCustomDefaultValue}}}}function xe([t,e],n){return xt({controller:n,token:t,typeDefinition:e})}function U(t){switch(t){case Array:return"array";case Boolean:return"boolean";case Number:return"number";case Object:return"object";case String:return"string"}}function M(t){switch(typeof t){case"boolean":return"boolean";case"number":return"number";case"string":return"string"}if(Array.isArray(t))return"array";if(Object.prototype.toString.call(t)==="[object Object]")return"object"}function Tt(t){const{controller:e,token:n,typeObject:o}=t,i=ve(o.type),r=ve(o.default),a=i&&r,l=i&&!r,p=!i&&r,c=U(o.type),d=M(t.typeObject.default);if(l)return c;if(p)return d;if(c!==d){const h=e?`${e}.${n}`:n;throw new Error(`The specified default value for the Stimulus Value "${h}" must match the defined type "${c}". The provided default value of "${o.default}" is of type "${d}".`)}if(a)return c}function St(t){const{controller:e,token:n,typeDefinition:o}=t,r=Tt({controller:e,token:n,typeObject:o}),a=M(o),l=U(o),p=r||a||l;if(p)return p;const c=e?`${e}.${o}`:n;throw new Error(`Unknown value type "${c}" for "${n}" value`)}function Ct(t){const e=U(t);if(e)return _e[e];const n=we(t,"default"),o=we(t,"type"),i=t;if(n)return i.default;if(o){const{type:r}=i,a=U(r);if(a)return _e[a]}return t}function xt(t){const{token:e,typeDefinition:n}=t,o=`${ft(e)}-value`,i=St(t);return{type:i,key:o,name:ke(o),get defaultValue(){return Ct(n)},get hasCustomDefaultValue(){return M(n)!==void 0},reader:_t[i],writer:Oe[i]||Oe.default}}const _e={get array(){return[]},boolean:!1,number:0,get object(){return{}},string:""},_t={array(t){const e=JSON.parse(t);if(!Array.isArray(e))throw new TypeError(`expected value of type "array" but instead got value "${t}" of type "${M(e)}"`);return e},boolean(t){return!(t=="0"||String(t).toLowerCase()=="false")},number(t){return Number(t.replace(/_/g,""))},object(t){const e=JSON.parse(t);if(e===null||typeof e!="object"||Array.isArray(e))throw new TypeError(`expected value of type "object" but instead got value "${t}" of type "${M(e)}"`);return e},string(t){return t}},Oe={default:Ot,array:Ie,object:Ie};function Ie(t){return JSON.stringify(t)}function Ot(t){return`${t}`}class P{constructor(e){this.context=e}static get shouldLoad(){return!0}static afterLoad(e,n){}get application(){return this.context.application}get scope(){return this.context.scope}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get targets(){return this.scope.targets}get outlets(){return this.scope.outlets}get classes(){return this.scope.classes}get data(){return this.scope.data}initialize(){}connect(){}disconnect(){}dispatch(e,{target:n=this.element,detail:o={},prefix:i=this.identifier,bubbles:r=!0,cancelable:a=!0}={}){const l=i?`${i}:${e}`:e,p=new CustomEvent(l,{detail:o,bubbles:r,cancelable:a});return n.dispatchEvent(p),p}}P.blessings=[gt,kt,wt,yt],P.targets=[],P.outlets=[],P.values={};function V(t){if(typeof t!="string"||!t)throw new Error("expected a non-empty string, got: "+t)}function Q(t){if(typeof t!="number")throw new Error("expected a number, got: "+t)}const It=1,$t=1,I="emoji",A="keyvalue",ee="favorites",At="tokens",$e="tokens",Dt="unicode",Ae="count",Lt="group",Ft="order",De="group-order",te="eTag",G="url",Le="skinTone",D="readonly",ne="readwrite",Fe="skinUnicodes",Mt="skinUnicodes",Pt="https://cdn.jsdelivr.net/npm/emoji-picker-element-data@^1/en/emojibase/data.json",Nt="en";function Bt(t,e){const n=new Set,o=[];for(const i of t){const r=e(i);n.has(r)||(n.add(r),o.push(i))}return o}function Me(t){return Bt(t,e=>e.unicode)}function Rt(t){function e(n,o,i){const r=o?t.createObjectStore(n,{keyPath:o}):t.createObjectStore(n);if(i)for(const[a,[l,p]]of Object.entries(i))r.createIndex(a,l,{multiEntry:p});return r}e(A),e(I,Dt,{[$e]:[At,!0],[De]:[[Lt,Ft]],[Fe]:[Mt,!0]}),e(ee,void 0,{[Ae]:[""]})}const oe={},K={},W={};function Pe(t,e,n){n.onerror=()=>e(n.error),n.onblocked=()=>e(new Error("IDB blocked")),n.onsuccess=()=>t(n.result)}async function zt(t){const e=await new Promise((n,o)=>{const i=indexedDB.open(t,It);oe[t]=i,i.onupgradeneeded=r=>{r.oldVersion<$t&&Rt(i.result)},Pe(n,o,i)});return e.onclose=()=>re(t),e}function Ut(t){return K[t]||(K[t]=zt(t)),K[t]}function O(t,e,n,o){return new Promise((i,r)=>{const a=t.transaction(e,n,{durability:"relaxed"}),l=typeof e=="string"?a.objectStore(e):e.map(c=>a.objectStore(c));let p;o(l,a,c=>{p=c}),a.oncomplete=()=>i(p),a.onerror=()=>r(a.error)})}function re(t){const e=oe[t],n=e&&e.result;if(n){n.close();const o=W[t];if(o)for(const i of o)i()}delete oe[t],delete K[t],delete W[t]}function Vt(t){return new Promise((e,n)=>{re(t);const o=indexedDB.deleteDatabase(t);Pe(e,n,o)})}function Gt(t,e){let n=W[t];n||(n=W[t]=[]),n.push(e)}const Kt=new Set([":D","XD",":'D","O:)",":X",":P",";P","XP",":L",":Z",":j","8D","XO","8)",":B",":O",":S",":'o","Dx","X(","D:",":C",">0)",":3","</3","<3","\\M/",":E","8#"]);function L(t){return t.split(/[\s_]+/).map(e=>!e.match(/\w/)||Kt.has(e)?e.toLowerCase():e.replace(/[)(:,]/g,"").replace(/‚Äô/g,"'").toLowerCase()).filter(Boolean)}const Wt=2;function Ne(t){return t.filter(Boolean).map(e=>e.toLowerCase()).filter(e=>e.length>=Wt)}function Ht(t){return t.map(({annotation:n,emoticon:o,group:i,order:r,shortcodes:a,skins:l,tags:p,emoji:c,version:d})=>{const h=[...new Set(Ne([...(a||[]).map(L).flat(),...(p||[]).map(L).flat(),...L(n),o]))].sort(),f={annotation:n,group:i,order:r,tags:p,tokens:h,unicode:c,version:d};if(o&&(f.emoticon=o),a&&(f.shortcodes=a),l){f.skinTones=[],f.skinUnicodes=[],f.skinVersions=[];for(const{tone:b,emoji:j,version:T}of l)f.skinTones.push(b),f.skinUnicodes.push(j),f.skinVersions.push(T)}return f})}function Be(t,e,n,o){t[e](n).onsuccess=i=>o&&o(i.target.result)}function $(t,e,n){Be(t,"get",e,n)}function Re(t,e,n){Be(t,"getAll",e,n)}function ie(t){t.commit&&t.commit()}function qt(t,e){let n=t[0];for(let o=1;o<t.length;o++){const i=t[o];e(n)>e(i)&&(n=i)}return n}function ze(t,e){const n=qt(t,i=>i.length),o=[];for(const i of n)t.some(r=>r.findIndex(a=>e(a)===e(i))===-1)||o.push(i);return o}async function Xt(t){return!await se(t,A,G)}async function Yt(t,e,n){const[o,i]=await Promise.all([te,G].map(r=>se(t,A,r)));return o===n&&i===e}async function Jt(t,e){return O(t,I,D,(o,i,r)=>{let a;const l=()=>{o.getAll(a&&IDBKeyRange.lowerBound(a,!0),50).onsuccess=p=>{const c=p.target.result;for(const d of c)if(a=d.unicode,e(d))return r(d);if(c.length<50)return r();l()}};l()})}async function Ue(t,e,n,o){{const i=Ht(e);await O(t,[I,A],ne,([r,a],l)=>{let p,c,d=0;function h(){++d===2&&f()}function f(){if(!(p===o&&c===n)){r.clear();for(const b of i)r.put(b);a.put(o,te),a.put(n,G),ie(l)}}$(a,te,b=>{p=b,h()}),$(a,G,b=>{c=b,h()})})}}async function Zt(t,e){return O(t,I,D,(n,o,i)=>{const r=IDBKeyRange.bound([e,0],[e+1,0],!1,!0);Re(n.index(De),r,i)})}async function Ve(t,e){const n=Ne(L(e));return n.length?O(t,I,D,(o,i,r)=>{const a=[],l=()=>{a.length===n.length&&p()},p=()=>{const c=ze(a,d=>d.unicode);r(c.sort((d,h)=>d.order<h.order?-1:1))};for(let c=0;c<n.length;c++){const d=n[c],h=c===n.length-1?IDBKeyRange.bound(d,d+"Ôøø",!1,!0):IDBKeyRange.only(d);Re(o.index($e),h,f=>{a.push(f),l()})}}):[]}async function Qt(t,e){const n=await Ve(t,e);return n.length?n.filter(o=>(o.shortcodes||[]).map(r=>r.toLowerCase()).includes(e.toLowerCase()))[0]||null:await Jt(t,i=>(i.shortcodes||[]).includes(e.toLowerCase()))||null}async function en(t,e){return O(t,I,D,(n,o,i)=>$(n,e,r=>{if(r)return i(r);$(n.index(Fe),e,a=>i(a||null))}))}function se(t,e,n){return O(t,e,D,(o,i,r)=>$(o,n,r))}function tn(t,e,n,o){return O(t,e,ne,(i,r)=>{i.put(o,n),ie(r)})}function nn(t,e){return O(t,ee,ne,(n,o)=>$(n,e,i=>{n.put((i||0)+1,e),ie(o)}))}function on(t,e,n){return n===0?[]:O(t,[ee,I],D,([o,i],r,a)=>{const l=[];o.index(Ae).openCursor(void 0,"prev").onsuccess=p=>{const c=p.target.result;if(!c)return a(l);function d(b){if(l.push(b),l.length===n)return a(l);c.continue()}const h=c.primaryKey,f=e.byName(h);if(f)return d(f);$(i,h,b=>{if(b)return d(b);c.continue()})}})}const H="";function rn(t,e){const n=new Map;for(const i of t){const r=e(i);for(const a of r){let l=n;for(let c=0;c<a.length;c++){const d=a.charAt(c);let h=l.get(d);h||(h=new Map,l.set(d,h)),l=h}let p=l.get(H);p||(p=[],l.set(H,p)),p.push(i)}}return(i,r)=>{let a=n;for(let c=0;c<i.length;c++){const d=i.charAt(c),h=a.get(d);if(h)a=h;else return[]}if(r)return a.get(H)||[];const l=[],p=[a];for(;p.length;){const d=[...p.shift().entries()].sort((h,f)=>h[0]<f[0]?-1:1);for(const[h,f]of d)h===H?l.push(...f):p.push(f)}return l}}const sn=["name","url"];function an(t){const e=t&&Array.isArray(t),n=e&&t.length&&(!t[0]||sn.some(o=>!(o in t[0])));if(!e||n)throw new Error("Custom emojis are in the wrong format")}function Ge(t){an(t);const e=(f,b)=>f.name.toLowerCase()<b.name.toLowerCase()?-1:1,n=t.sort(e),i=rn(t,f=>{const b=new Set;if(f.shortcodes)for(const j of f.shortcodes)for(const T of L(j))b.add(T);return b}),r=f=>i(f,!0),a=f=>i(f,!1),l=f=>{const b=L(f),j=b.map((T,C)=>(C<b.length-1?r:a)(T));return ze(j,T=>T.name).sort(e)},p=new Map,c=new Map;for(const f of t){c.set(f.name.toLowerCase(),f);for(const b of f.shortcodes||[])p.set(b.toLowerCase(),f)}return{all:n,search:l,byShortcode:f=>p.get(f.toLowerCase()),byName:f=>c.get(f.toLowerCase())}}const cn=typeof wrappedJSObject<"u";function N(t){if(!t)return t;if(cn&&(t=structuredClone(t)),delete t.tokens,t.skinTones){const e=t.skinTones.length;t.skins=Array(e);for(let n=0;n<e;n++)t.skins[n]={tone:t.skinTones[n],unicode:t.skinUnicodes[n],version:t.skinVersions[n]};delete t.skinTones,delete t.skinUnicodes,delete t.skinVersions}return t}function Ke(t){t||console.warn("emoji-picker-element is more efficient if the dataSource server exposes an ETag header.")}const un=["annotation","emoji","group","order","version"];function ln(t){if(!t||!Array.isArray(t)||!t[0]||typeof t[0]!="object"||un.some(e=>!(e in t[0])))throw new Error("Emoji data is in the wrong format")}function We(t,e){if(Math.floor(t.status/100)!==2)throw new Error("Failed to fetch: "+e+":  "+t.status)}async function dn(t){const e=await fetch(t,{method:"HEAD"});We(e,t);const n=e.headers.get("etag");return Ke(n),n}async function ae(t){const e=await fetch(t);We(e,t);const n=e.headers.get("etag");Ke(n);const o=await e.json();return ln(o),[n,o]}function fn(t){for(var e="",n=new Uint8Array(t),o=n.byteLength,i=-1;++i<o;)e+=String.fromCharCode(n[i]);return e}function pn(t){for(var e=t.length,n=new ArrayBuffer(e),o=new Uint8Array(n),i=-1;++i<e;)o[i]=t.charCodeAt(i);return n}async function He(t){const e=JSON.stringify(t);let n=pn(e);const o=await crypto.subtle.digest("SHA-1",n),i=fn(o);return btoa(i)}async function hn(t,e){let n,o=await dn(e);if(!o){const i=await ae(e);o=i[0],n=i[1],o||(o=await He(n))}await Yt(t,e,o)||(n||(n=(await ae(e))[1]),await Ue(t,n,e,o))}async function mn(t,e){let[n,o]=await ae(e);n||(n=await He(o)),await Ue(t,o,e,n)}async function gn(t,e){try{await hn(t,e)}catch(n){if(n.name!=="InvalidStateError")throw n}}class bn{constructor({dataSource:e=Pt,locale:n=Nt,customEmoji:o=[]}={}){this.dataSource=e,this.locale=n,this._dbName=`emoji-picker-element-${this.locale}`,this._db=void 0,this._lazyUpdate=void 0,this._custom=Ge(o),this._clear=this._clear.bind(this),this._ready=this._init()}async _init(){const e=this._db=await Ut(this._dbName);Gt(this._dbName,this._clear);const n=this.dataSource;await Xt(e)?await mn(e,n):this._lazyUpdate=gn(e,n)}async ready(){const e=async()=>(this._ready||(this._ready=this._init()),this._ready);await e(),this._db||await e()}async getEmojiByGroup(e){return Q(e),await this.ready(),Me(await Zt(this._db,e)).map(N)}async getEmojiBySearchQuery(e){V(e),await this.ready();const n=this._custom.search(e),o=Me(await Ve(this._db,e)).map(N);return[...n,...o]}async getEmojiByShortcode(e){V(e),await this.ready();const n=this._custom.byShortcode(e);return n||N(await Qt(this._db,e))}async getEmojiByUnicodeOrName(e){V(e),await this.ready();const n=this._custom.byName(e);return n||N(await en(this._db,e))}async getPreferredSkinTone(){return await this.ready(),await se(this._db,A,Le)||0}async setPreferredSkinTone(e){return Q(e),await this.ready(),tn(this._db,A,Le,e)}async incrementFavoriteEmojiCount(e){return V(e),await this.ready(),nn(this._db,e)}async getTopFavoriteEmoji(e){return Q(e),await this.ready(),(await on(this._db,this._custom,e)).map(N)}set customEmoji(e){this._custom=Ge(e)}get customEmoji(){return this._custom.all}async _shutdown(){await this.ready();try{await this._lazyUpdate}catch{}}_clear(){this._db=this._ready=this._lazyUpdate=void 0}async close(){await this._shutdown(),await re(this._dbName)}async delete(){await this._shutdown(),await Vt(this._dbName)}}const ce=[[-1,"‚ú®","custom"],[0,"üòÄ","smileys-emotion"],[1,"üëã","people-body"],[3,"üê±","animals-nature"],[4,"üçé","food-drink"],[5,"üè†Ô∏è","travel-places"],[6,"‚öΩ","activities"],[7,"üìù","objects"],[8,"‚õîÔ∏è","symbols"],[9,"üèÅ","flags"]].map(([t,e,n])=>({id:t,emoji:e,name:n})),ue=ce.slice(1),yn=2,qe=6,Xe=typeof requestIdleCallback=="function"?requestIdleCallback:setTimeout;function Ye(t){return t.unicode.includes("‚Äç")}const En={"ü´™":17,"ü´©":16,"ü´®":15.1,"ü´†":14,"ü•≤":13.1,"ü•ª":12.1,"ü•∞":11,"ü§©":5,"üë±‚Äç‚ôÄÔ∏è":4,"ü§£":3,"üëÅÔ∏è‚Äçüó®Ô∏è":2,"üòÄ":1,"üòêÔ∏è":.7,"üòÉ":.6},kn=1e3,vn="üñêÔ∏è",wn=8,jn=["üòä","üòí","‚ù§Ô∏è","üëçÔ∏è","üòç","üòÇ","üò≠","‚ò∫Ô∏è","üòî","üò©","üòè","üíï","üôå","üòò"],Je='"Twemoji Mozilla","Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji","EmojiOne Color","Android Emoji",sans-serif',Tn=(t,e)=>t<e?-1:t>e?1:0,Ze=(t,e)=>{const n=document.createElement("canvas");n.width=n.height=1;const o=n.getContext("2d",{willReadFrequently:!0});return o.textBaseline="top",o.font=`100px ${Je}`,o.fillStyle=e,o.scale(.01,.01),o.fillText(t,0,0),o.getImageData(0,0,1,1).data},Sn=(t,e)=>{const n=[...t].join(","),o=[...e].join(",");return n===o&&!n.startsWith("0,0,0,")};function Cn(t){const e=Ze(t,"#000"),n=Ze(t,"#fff");return e&&n&&Sn(e,n)}function xn(){const t=Object.entries(En);try{for(const[e,n]of t)if(Cn(e))return n}catch{}return t[0][1]}let le;const de=()=>(le||(le=new Promise(t=>Xe(()=>t(xn())))),le),fe=new Map,_n="Ô∏è",On="\uD83C",In="‚Äç",$n=127995,An=57339;function Dn(t,e){if(e===0)return t;const n=t.indexOf(In);return n!==-1?t.substring(0,n)+String.fromCodePoint($n+e-1)+t.substring(n):(t.endsWith(_n)&&(t=t.substring(0,t.length-1)),t+On+String.fromCodePoint(An+e-1))}function _(t){t.preventDefault(),t.stopPropagation()}function pe(t,e,n){return e+=t?-1:1,e<0?e=n.length-1:e>=n.length&&(e=0),e}function Qe(t,e){const n=new Set,o=[];for(const i of t){const r=e(i);n.has(r)||(n.add(r),o.push(i))}return o}function Ln(t,e){const n=o=>{const i={};for(const r of o)typeof r.tone=="number"&&r.version<=e&&(i[r.tone]=r.unicode);return i};return t.map(({unicode:o,skins:i,shortcodes:r,url:a,name:l,category:p,annotation:c})=>({unicode:o,name:l,shortcodes:r,url:a,category:p,annotation:c,id:o||l,skins:i&&n(i)}))}const q=requestAnimationFrame;let Fn=typeof ResizeObserver=="function";function Mn(t,e,n){let o;Fn?(o=new ResizeObserver(n),o.observe(t)):q(n),e.addEventListener("abort",()=>{o&&o.disconnect()})}function et(t){{const e=document.createRange();return e.selectNode(t.firstChild),e.getBoundingClientRect().width}}let he;function Pn(t,e,n){let o=!0;for(const i of t){const r=n(i);if(!r)continue;const a=et(r);typeof he>"u"&&(he=et(e));const l=a/1.8<he;fe.set(i.unicode,l),l||(o=!1)}return o}function Nn(t){return Qe(t,e=>e)}function Bn(t){t&&(t.scrollTop=0)}function B(t,e,n){let o=t.get(e);return o||(o=n(),t.set(e,o)),o}function tt(t){return""+t}function Rn(t){const e=document.createElement("template");return e.innerHTML=t,e}const zn=new WeakMap,Un=new WeakMap,Vn=Symbol("un-keyed"),Gn="replaceChildren"in Element.prototype;function Kn(t,e){Gn?t.replaceChildren(...e):(t.innerHTML="",t.append(...e))}function Wn(t,e){let n=t.firstChild,o=0;for(;n;){if(e[o]!==n)return!0;n=n.nextSibling,o++}return o!==e.length}function Hn(t,e){const{targetNode:n}=e;let{targetParentNode:o}=e,i=!1;o?i=Wn(o,t):(i=!0,e.targetNode=void 0,e.targetParentNode=o=n.parentNode),i&&Kn(o,t)}function qn(t,e){for(const n of e){const{targetNode:o,currentExpression:i,binding:{expressionIndex:r,attributeName:a,attributeValuePre:l,attributeValuePost:p}}=n,c=t[r];if(i!==c)if(n.currentExpression=c,a)if(c===null)o.removeAttribute(a);else{const d=l+tt(c)+p;o.setAttribute(a,d)}else{let d;Array.isArray(c)?Hn(c,n):c instanceof Element?(d=c,o.replaceWith(d)):o.nodeValue=tt(c),d&&(n.targetNode=d)}}}function Xn(t){let e="",n=!1,o=!1,i=-1;const r=new Map,a=[];let l=0;for(let c=0,d=t.length;c<d;c++){const h=t[c];if(e+=h.slice(l),c===d-1)break;for(let m=0;m<h.length;m++)switch(h.charAt(m)){case"<":{h.charAt(m+1)==="/"?a.pop():(n=!0,a.push(++i));break}case">":{n=!1,o=!1;break}case"=":{o=!0;break}}const f=a[a.length-1],b=B(r,f,()=>[]);let j,T,C;if(o){const m=/(\S+)="?([^"=]*)$/.exec(h);j=m[1],T=m[2];const E=/^([^">]*)("?)/.exec(t[c+1]);C=E[1],e=e.slice(0,-1*m[0].length),l=E[0].length}else l=0;const F={attributeName:j,attributeValuePre:T,attributeValuePost:C,expressionIndex:c};b.push(F),!n&&!o&&(e+=" ")}return{template:Rn(e),elementsToBindings:r}}function nt(t,e,n){for(let o=0;o<t.length;o++){const i=t[o],r=i.attributeName?e:e.firstChild,a={binding:i,targetNode:r,targetParentNode:void 0,currentExpression:void 0};n.push(a)}}function Yn(t,e){const n=[];let o;if(e.size===1&&(o=e.get(0)))nt(o,t,n);else{const i=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT);let r=t,a=-1;do{const l=e.get(++a);l&&nt(l,r,n)}while(r=i.nextNode())}return n}function Jn(t){const{template:e,elementsToBindings:n}=B(zn,t,()=>Xn(t)),o=e.cloneNode(!0).content.firstElementChild,i=Yn(o,n);return function(a){return qn(a,i),o}}function Zn(t){const e=B(Un,t,()=>new Map);let n=Vn;function o(r,...a){const l=B(e,r,()=>new Map);return B(l,n,()=>Jn(r))(a)}function i(r,a,l){return r.map((p,c)=>{const d=n;n=l(p);try{return a(p,c)}finally{n=d}})}return{map:i,html:o}}function Qn(t,e,n,o,i,r,a,l,p){const{labelWithSkin:c,titleForEmoji:d,unicodeWithSkin:h}=n,{html:f,map:b}=Zn(e);function j(m,E,w){return b(m,(S,R)=>f`<button role="${E?"option":"menuitem"}" aria-selected="${E?R===e.activeSearchItem:null}" aria-label="${c(S,e.currentSkinTone)}" title="${d(S)}" class="${"emoji"+(E&&R===e.activeSearchItem?" active":"")+(S.unicode?"":" custom-emoji")}" id="${`${w}-${S.id}`}" style="${S.unicode?null:`--custom-emoji-background: url(${JSON.stringify(S.url)})`}">${S.unicode?h(S,e.currentSkinTone):""}</button>`,S=>`${w}-${S.id}`)}const C=f`<section data-ref="rootElement" class="picker" aria-label="${e.i18n.regionLabel}" style="${e.pickerStyle||""}"><div class="pad-top"></div><div class="search-row"><div class="search-wrapper"><input id="search" class="search" type="search" role="combobox" enterkeyhint="search" placeholder="${e.i18n.searchLabel}" autocapitalize="none" autocomplete="off" spellcheck="true" aria-expanded="${!!(e.searchMode&&e.currentEmojis.length)}" aria-controls="search-results" aria-describedby="search-description" aria-autocomplete="list" aria-activedescendant="${e.activeSearchItemId?`emo-${e.activeSearchItemId}`:null}" data-ref="searchElement" data-on-input="onSearchInput" data-on-keydown="onSearchKeydown"><label class="sr-only" for="search">${e.i18n.searchLabel}</label> <span id="search-description" class="sr-only">${e.i18n.searchDescription}</span></div><div class="skintone-button-wrapper ${e.skinTonePickerExpandedAfterAnimation?"expanded":""}"><button id="skintone-button" class="emoji ${e.skinTonePickerExpanded?"hide-focus":""}" aria-label="${e.skinToneButtonLabel}" title="${e.skinToneButtonLabel}" aria-describedby="skintone-description" aria-haspopup="listbox" aria-expanded="${e.skinTonePickerExpanded}" aria-controls="skintone-list" data-on-click="onClickSkinToneButton">${e.skinToneButtonText||""}</button></div><span id="skintone-description" class="sr-only">${e.i18n.skinToneDescription}</span><div data-ref="skinToneDropdown" id="skintone-list" class="skintone-list hide-focus ${e.skinTonePickerExpanded?"":"hidden no-animate"}" style="transform:translateY(${e.skinTonePickerExpanded?0:"calc(-1 * var(--num-skintones) * var(--total-emoji-size))"})" role="listbox" aria-label="${e.i18n.skinTonesLabel}" aria-activedescendant="skintone-${e.activeSkinTone}" aria-hidden="${!e.skinTonePickerExpanded}" tabIndex="-1" data-on-focusout="onSkinToneOptionsFocusOut" data-on-click="onSkinToneOptionsClick" data-on-keydown="onSkinToneOptionsKeydown" data-on-keyup="onSkinToneOptionsKeyup">${b(e.skinTones,(m,E)=>f`<div id="skintone-${E}" class="emoji ${E===e.activeSkinTone?"active":""}" aria-selected="${E===e.activeSkinTone}" role="option" title="${e.i18n.skinTones[E]}" aria-label="${e.i18n.skinTones[E]}">${m}</div>`,m=>m)}</div></div><div class="nav" role="tablist" style="grid-template-columns:repeat(${e.groups.length},1fr)" aria-label="${e.i18n.categoriesLabel}" data-on-keydown="onNavKeydown" data-on-click="onNavClick">${b(e.groups,m=>f`<button role="tab" class="nav-button" aria-controls="tab-${m.id}" aria-label="${e.i18n.categories[m.name]}" aria-selected="${!e.searchMode&&e.currentGroup.id===m.id}" title="${e.i18n.categories[m.name]}" data-group-id="${m.id}"><div class="nav-emoji emoji">${m.emoji}</div></button>`,m=>m.id)}</div><div class="indicator-wrapper"><div class="indicator" style="transform:translateX(${(e.isRtl?-1:1)*e.currentGroupIndex*100}%)"></div></div><div class="message ${e.message?"":"gone"}" role="alert" aria-live="polite">${e.message||""}</div><div data-ref="tabpanelElement" class="tabpanel ${!e.databaseLoaded||e.message?"gone":""}" role="${e.searchMode?"region":"tabpanel"}" aria-label="${e.searchMode?e.i18n.searchResultsLabel:e.i18n.categories[e.currentGroup.name]}" id="${e.searchMode?null:`tab-${e.currentGroup.id}`}" tabIndex="0" data-on-click="onEmojiClick"><div data-action="calculateEmojiGridStyle">${b(e.currentEmojisWithCategories,(m,E)=>f`<div><div id="menu-label-${E}" class="category ${e.currentEmojisWithCategories.length===1&&e.currentEmojisWithCategories[0].category===""?"gone":""}" aria-hidden="true">${e.searchMode?e.i18n.searchResultsLabel:m.category?m.category:e.currentEmojisWithCategories.length>1?e.i18n.categories.custom:e.i18n.categories[e.currentGroup.name]}</div><div class="emoji-menu ${E!==0&&!e.searchMode&&e.currentGroup.id===-1?"visibility-auto":""}" style="${`--num-rows: ${Math.ceil(m.emojis.length/e.numColumns)}`}" data-action="updateOnIntersection" role="${e.searchMode?"listbox":"menu"}" aria-labelledby="menu-label-${E}" id="${e.searchMode?"search-results":null}">${j(m.emojis,e.searchMode,"emo")}</div></div>`,m=>m.category)}</div></div><div class="favorites onscreen emoji-menu ${e.message?"gone":""}" role="menu" aria-label="${e.i18n.favoritesLabel}" data-on-click="onEmojiClick">${j(e.currentFavorites,!1,"fav")}</div><button data-ref="baselineEmoji" aria-hidden="true" tabindex="-1" class="abs-pos hidden emoji baseline-emoji">üòÄ</button></section>`,F=(m,E)=>{for(const w of t.querySelectorAll(`[${m}]`))E(w,w.getAttribute(m))};if(p){t.appendChild(C);for(const m of["click","focusout","input","keydown","keyup"])F(`data-on-${m}`,(E,w)=>{E.addEventListener(m,o[w])});F("data-ref",(m,E)=>{r[E]=m}),a.addEventListener("abort",()=>{t.removeChild(C)})}F("data-action",(m,E)=>{let w=l.get(E);w||l.set(E,w=new WeakSet),w.has(m)||(w.add(m),i[E](m))})}const X=typeof queueMicrotask=="function"?queueMicrotask:t=>Promise.resolve().then(t);function eo(t){let e=!1,n;const o=new Map,i=new Set;let r;const a=()=>{if(e)return;const c=[...i];i.clear();try{for(const d of c)d()}finally{r=!1,i.size&&(r=!0,X(a))}},l=new Proxy({},{get(c,d){if(n){let h=o.get(d);h||(h=new Set,o.set(d,h)),h.add(n)}return c[d]},set(c,d,h){if(c[d]!==h){c[d]=h;const f=o.get(d);if(f){for(const b of f)i.add(b);r||(r=!0,X(a))}}return!0}}),p=c=>{const d=()=>{const h=n;n=d;try{return c()}finally{n=h}};return d()};return t.addEventListener("abort",()=>{e=!0}),{state:l,createEffect:p}}function me(t,e,n){if(t.length!==e.length)return!1;for(let o=0;o<t.length;o++)if(!n(t[o],e[o]))return!1;return!0}const ot=new WeakMap;function to(t,e,n){{const o=t.closest(".tabpanel");let i=ot.get(o);i||(i=new IntersectionObserver(n,{root:o,rootMargin:"50% 0px 50% 0px",threshold:0}),ot.set(o,i),e.addEventListener("abort",()=>{i.disconnect()})),i.observe(t)}}const ge=[],{assign:Y}=Object;function no(t,e){const n={},o=new AbortController,i=o.signal,{state:r,createEffect:a}=eo(i),l=new Map;Y(r,{skinToneEmoji:void 0,i18n:void 0,database:void 0,customEmoji:void 0,customCategorySorting:void 0,emojiVersion:void 0}),Y(r,e),Y(r,{initialLoad:!0,currentEmojis:[],currentEmojisWithCategories:[],rawSearchText:"",searchText:"",searchMode:!1,activeSearchItem:-1,message:void 0,skinTonePickerExpanded:!1,skinTonePickerExpandedAfterAnimation:!1,currentSkinTone:0,activeSkinTone:0,skinToneButtonText:void 0,pickerStyle:void 0,skinToneButtonLabel:"",skinTones:[],currentFavorites:[],defaultFavoriteEmojis:void 0,numColumns:wn,isRtl:!1,currentGroupIndex:0,groups:ue,databaseLoaded:!1,activeSearchItemId:void 0}),a(()=>{r.currentGroup!==r.groups[r.currentGroupIndex]&&(r.currentGroup=r.groups[r.currentGroupIndex])});const p=s=>{t.getElementById(s).focus()},c=s=>t.getElementById(`emo-${s.id}`),d=(s,u)=>{n.rootElement.dispatchEvent(new CustomEvent(s,{detail:u,bubbles:!0,composed:!0}))},h=(s,u)=>s.id===u.id,f=(s,u)=>{const{category:g,emojis:y}=s,{category:k,emojis:v}=u;return g!==k?!1:me(y,v,h)},b=s=>{me(r.currentEmojis,s,h)||(r.currentEmojis=s)},j=s=>{r.searchMode!==s&&(r.searchMode=s)},T=s=>{me(r.currentEmojisWithCategories,s,f)||(r.currentEmojisWithCategories=s)},C=(s,u)=>u&&s.skins&&s.skins[u]||s.unicode,E={labelWithSkin:(s,u)=>Nn([s.name||C(s,u),s.annotation,...s.shortcodes||ge].filter(Boolean)).join(", "),titleForEmoji:s=>s.annotation||(s.shortcodes||ge).join(", "),unicodeWithSkin:C},w={onClickSkinToneButton:wo,onEmojiClick:ko,onNavClick:bo,onNavKeydown:yo,onSearchKeydown:go,onSkinToneOptionsClick:vo,onSkinToneOptionsFocusOut:So,onSkinToneOptionsKeydown:jo,onSkinToneOptionsKeyup:To,onSearchInput:Co},S={calculateEmojiGridStyle:uo,updateOnIntersection:lo};let R=!0;a(()=>{Qn(t,r,E,w,S,n,i,l,R),R=!1}),r.emojiVersion||de().then(s=>{s||(r.message=r.i18n.emojiUnsupportedMessage)}),a(()=>{async function s(){let u=!1;const g=setTimeout(()=>{u=!0,r.message=r.i18n.loadingMessage},kn);try{await r.database.ready(),r.databaseLoaded=!0}catch(y){console.error(y),r.message=r.i18n.networkErrorMessage}finally{clearTimeout(g),u&&(u=!1,r.message="")}}r.database&&s()}),a(()=>{r.pickerStyle=`
      --num-groups: ${r.groups.length}; 
      --indicator-opacity: ${r.searchMode?0:1}; 
      --num-skintones: ${qe};`}),a(()=>{r.customEmoji&&r.database&&at()}),a(()=>{r.customEmoji&&r.customEmoji.length?r.groups!==ce&&(r.groups=ce):r.groups!==ue&&(r.currentGroupIndex&&r.currentGroupIndex--,r.groups=ue)}),a(()=>{async function s(){r.databaseLoaded&&(r.currentSkinTone=await r.database.getPreferredSkinTone())}s()}),a(()=>{r.skinTones=Array(qe).fill().map((s,u)=>Dn(r.skinToneEmoji,u))}),a(()=>{r.skinToneButtonText=r.skinTones[r.currentSkinTone]}),a(()=>{r.skinToneButtonLabel=r.i18n.skinToneLabel.replace("{skinTone}",r.i18n.skinTones[r.currentSkinTone])}),a(()=>{async function s(){const{database:u}=r,g=(await Promise.all(jn.map(y=>u.getEmojiByUnicodeOrName(y)))).filter(Boolean);r.defaultFavoriteEmojis=g}r.databaseLoaded&&s()});function at(){const{customEmoji:s,database:u}=r,g=s||ge;u.customEmoji!==g&&(u.customEmoji=g)}a(()=>{async function s(){at();const{database:u,defaultFavoriteEmojis:g,numColumns:y}=r,k=await u.getTopFavoriteEmoji(y),v=await ye(Qe([...k,...g],x=>x.unicode||x.name).slice(0,y));r.currentFavorites=v}r.databaseLoaded&&r.defaultFavoriteEmojis&&s()});function uo(s){Mn(s,i,()=>{{const u=getComputedStyle(n.rootElement),g=parseInt(u.getPropertyValue("--num-columns"),10),y=u.getPropertyValue("direction")==="rtl";r.numColumns=g,r.isRtl=y}})}function lo(s){to(s,i,u=>{for(const{target:g,isIntersecting:y}of u)g.classList.toggle("onscreen",y)})}a(()=>{async function s(){const{searchText:u,currentGroup:g,databaseLoaded:y,customEmoji:k}=r;if(!y)r.currentEmojis=[],r.searchMode=!1;else if(u.length>=yn){const v=await mo(u);r.searchText===u&&(b(v),j(!0))}else{const{id:v}=g;if(v!==-1||k&&k.length){const x=await ho(v);r.currentGroup.id===v&&(b(x),j(!1))}}}s()});const ct=()=>{q(()=>Bn(n.tabpanelElement))};a(()=>{const{currentEmojis:s,emojiVersion:u}=r,g=s.filter(y=>y.unicode).filter(y=>Ye(y)&&!fe.has(y.unicode));if(!u&&g.length)b(s),q(()=>fo(g));else{const y=u?s:s.filter(po);b(y),ct()}});function fo(s){Pn(s,n.baselineEmoji,c)?ct():r.currentEmojis=[...r.currentEmojis]}function po(s){return!s.unicode||!Ye(s)||fe.get(s.unicode)}async function ut(s){const u=r.emojiVersion||await de();return s.filter(({version:g})=>!g||g<=u)}async function ye(s){return Ln(s,r.emojiVersion||await de())}async function ho(s){const u=s===-1?r.customEmoji:await r.database.getEmojiByGroup(s);return ye(await ut(u))}async function mo(s){return ye(await ut(await r.database.getEmojiBySearchQuery(s)))}a(()=>{}),a(()=>{function s(){const{searchMode:g,currentEmojis:y}=r;if(g)return[{category:"",emojis:y}];const k=new Map;for(const v of y){const x=v.category||"";let J=k.get(x);J||(J=[],k.set(x,J)),J.push(v)}return[...k.entries()].map(([v,x])=>({category:v,emojis:x})).sort((v,x)=>r.customCategorySorting(v.category,x.category))}const u=s();T(u)}),a(()=>{r.activeSearchItemId=r.activeSearchItem!==-1&&r.currentEmojis[r.activeSearchItem].id}),a(()=>{const{rawSearchText:s}=r;Xe(()=>{r.searchText=(s||"").trim(),r.activeSearchItem=-1})});function go(s){if(!r.searchMode||!r.currentEmojis.length)return;const u=g=>{_(s),r.activeSearchItem=pe(g,r.activeSearchItem,r.currentEmojis)};switch(s.key){case"ArrowDown":return u(!1);case"ArrowUp":return u(!0);case"Enter":if(r.activeSearchItem===-1)r.activeSearchItem=0;else return _(s),lt(r.currentEmojis[r.activeSearchItem].id)}}function bo(s){const{target:u}=s,g=u.closest(".nav-button");if(!g)return;const y=parseInt(g.dataset.groupId,10);n.searchElement.value="",r.rawSearchText="",r.searchText="",r.activeSearchItem=-1,r.currentGroupIndex=r.groups.findIndex(k=>k.id===y)}function yo(s){const{target:u,key:g}=s,y=k=>{k&&(_(s),k.focus())};switch(g){case"ArrowLeft":return y(u.previousElementSibling);case"ArrowRight":return y(u.nextElementSibling);case"Home":return y(u.parentElement.firstElementChild);case"End":return y(u.parentElement.lastElementChild)}}async function Eo(s){const u=await r.database.getEmojiByUnicodeOrName(s),g=[...r.currentEmojis,...r.currentFavorites].find(k=>k.id===s),y=g.unicode&&C(g,r.currentSkinTone);return await r.database.incrementFavoriteEmojiCount(s),{emoji:u,skinTone:r.currentSkinTone,...y&&{unicode:y},...g.name&&{name:g.name}}}async function lt(s){const u=Eo(s);d("emoji-click-sync",u),d("emoji-click",await u)}function ko(s){const{target:u}=s;if(!u.classList.contains("emoji"))return;_(s);const g=u.id.substring(4);lt(g)}function Ee(s){r.currentSkinTone=s,r.skinTonePickerExpanded=!1,p("skintone-button"),d("skin-tone-change",{skinTone:s}),r.database.setPreferredSkinTone(s)}function vo(s){const{target:{id:u}}=s,g=u&&u.match(/^skintone-(\d)/);if(!g)return;_(s);const y=parseInt(g[1],10);Ee(y)}function wo(s){r.skinTonePickerExpanded=!r.skinTonePickerExpanded,r.activeSkinTone=r.currentSkinTone,r.skinTonePickerExpanded&&(_(s),q(()=>p("skintone-list")))}a(()=>{r.skinTonePickerExpanded?n.skinToneDropdown.addEventListener("transitionend",()=>{r.skinTonePickerExpandedAfterAnimation=!0},{once:!0}):r.skinTonePickerExpandedAfterAnimation=!1});function jo(s){if(!r.skinTonePickerExpanded)return;const u=async g=>{_(s),r.activeSkinTone=g};switch(s.key){case"ArrowUp":return u(pe(!0,r.activeSkinTone,r.skinTones));case"ArrowDown":return u(pe(!1,r.activeSkinTone,r.skinTones));case"Home":return u(0);case"End":return u(r.skinTones.length-1);case"Enter":return _(s),Ee(r.activeSkinTone);case"Escape":return _(s),r.skinTonePickerExpanded=!1,p("skintone-button")}}function To(s){if(r.skinTonePickerExpanded&&s.key===" ")return _(s),Ee(r.activeSkinTone)}async function So(s){const{relatedTarget:u}=s;(!u||u.id!=="skintone-list")&&(r.skinTonePickerExpanded=!1)}function Co(s){r.rawSearchText=s.target.value}return{$set(s){Y(r,s)},$destroy(){o.abort()}}}const oo="https://cdn.jsdelivr.net/npm/emoji-picker-element-data@^1/en/emojibase/data.json",ro="en";var io={categoriesLabel:"Categories",emojiUnsupportedMessage:"Your browser does not support color emoji.",favoritesLabel:"Favorites",loadingMessage:"Loading‚Ä¶",networkErrorMessage:"Could not load emoji.",regionLabel:"Emoji picker",searchDescription:"When search results are available, press up or down to select and enter to choose.",searchLabel:"Search",searchResultsLabel:"Search results",skinToneDescription:"When expanded, press up or down to select and enter to choose.",skinToneLabel:"Choose a skin tone (currently {skinTone})",skinTonesLabel:"Skin tones",skinTones:["Default","Light","Medium-Light","Medium","Medium-Dark","Dark"],categories:{custom:"Custom","smileys-emotion":"Smileys and emoticons","people-body":"People and body","animals-nature":"Animals and nature","food-drink":"Food and drink","travel-places":"Travel and places",activities:"Activities",objects:"Objects",symbols:"Symbols",flags:"Flags"}},so=':host{--emoji-size:1.375rem;--emoji-padding:0.5rem;--category-emoji-size:var(--emoji-size);--category-emoji-padding:var(--emoji-padding);--indicator-height:3px;--input-border-radius:0.5rem;--input-border-size:1px;--input-font-size:1rem;--input-line-height:1.5;--input-padding:0.25rem;--num-columns:8;--outline-size:2px;--border-size:1px;--border-radius:0;--skintone-border-radius:1rem;--category-font-size:1rem;display:flex;width:min-content;height:400px}:host,:host(.light){color-scheme:light;--background:#fff;--border-color:#e0e0e0;--indicator-color:#385ac1;--input-border-color:#999;--input-font-color:#111;--input-placeholder-color:#999;--outline-color:#999;--category-font-color:#111;--button-active-background:#e6e6e6;--button-hover-background:#d9d9d9}:host(.dark){color-scheme:dark;--background:#222;--border-color:#444;--indicator-color:#5373ec;--input-border-color:#ccc;--input-font-color:#efefef;--input-placeholder-color:#ccc;--outline-color:#fff;--category-font-color:#efefef;--button-active-background:#555555;--button-hover-background:#484848}@media (prefers-color-scheme:dark){:host{color-scheme:dark;--background:#222;--border-color:#444;--indicator-color:#5373ec;--input-border-color:#ccc;--input-font-color:#efefef;--input-placeholder-color:#ccc;--outline-color:#fff;--category-font-color:#efefef;--button-active-background:#555555;--button-hover-background:#484848}}:host([hidden]){display:none}button{margin:0;padding:0;border:0;background:0 0;box-shadow:none;-webkit-tap-highlight-color:transparent}button::-moz-focus-inner{border:0}input{padding:0;margin:0;line-height:1.15;font-family:inherit}input[type=search]{-webkit-appearance:none}:focus{outline:var(--outline-color) solid var(--outline-size);outline-offset:calc(-1*var(--outline-size))}:host([data-js-focus-visible]) :focus:not([data-focus-visible-added]){outline:0}:focus:not(:focus-visible){outline:0}.hide-focus{outline:0}*{box-sizing:border-box}.picker{contain:content;display:flex;flex-direction:column;background:var(--background);border:var(--border-size) solid var(--border-color);border-radius:var(--border-radius);width:100%;height:100%;overflow:hidden;--total-emoji-size:calc(var(--emoji-size) + (2 * var(--emoji-padding)));--total-category-emoji-size:calc(var(--category-emoji-size) + (2 * var(--category-emoji-padding)))}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);border:0}.hidden{opacity:0;pointer-events:none}.abs-pos{position:absolute;left:0;top:0}.gone{display:none!important}.skintone-button-wrapper,.skintone-list{background:var(--background);z-index:3}.skintone-button-wrapper.expanded{z-index:1}.skintone-list{position:absolute;inset-inline-end:0;top:0;z-index:2;overflow:visible;border-bottom:var(--border-size) solid var(--border-color);border-radius:0 0 var(--skintone-border-radius) var(--skintone-border-radius);will-change:transform;transition:transform .2s ease-in-out;transform-origin:center 0}@media (prefers-reduced-motion:reduce){.skintone-list{transition-duration:.001s}}@supports not (inset-inline-end:0){.skintone-list{right:0}}.skintone-list.no-animate{transition:none}.tabpanel{overflow-y:auto;scrollbar-gutter:stable;-webkit-overflow-scrolling:touch;will-change:transform;min-height:0;flex:1;contain:content}.emoji-menu{display:grid;grid-template-columns:repeat(var(--num-columns),var(--total-emoji-size));justify-content:space-around;align-items:flex-start;width:100%}.emoji-menu.visibility-auto{content-visibility:auto;contain-intrinsic-size:calc(var(--num-columns)*var(--total-emoji-size)) calc(var(--num-rows)*var(--total-emoji-size))}.category{padding:var(--emoji-padding);font-size:var(--category-font-size);color:var(--category-font-color)}.emoji,button.emoji{font-size:var(--emoji-size);display:flex;align-items:center;justify-content:center;border-radius:100%;height:var(--total-emoji-size);width:var(--total-emoji-size);line-height:1;overflow:hidden;font-family:var(--emoji-font-family);cursor:pointer}@media (hover:hover) and (pointer:fine){.emoji:hover,button.emoji:hover{background:var(--button-hover-background)}}.emoji.active,.emoji:active,button.emoji.active,button.emoji:active{background:var(--button-active-background)}.onscreen .custom-emoji::after{content:"";width:var(--emoji-size);height:var(--emoji-size);background-repeat:no-repeat;background-position:center center;background-size:contain;background-image:var(--custom-emoji-background)}.nav,.nav-button{align-items:center}.nav{display:grid;justify-content:space-between;contain:content}.nav-button{display:flex;justify-content:center}.nav-emoji{font-size:var(--category-emoji-size);width:var(--total-category-emoji-size);height:var(--total-category-emoji-size)}.indicator-wrapper{display:flex;border-bottom:1px solid var(--border-color)}.indicator{width:calc(100%/var(--num-groups));height:var(--indicator-height);opacity:var(--indicator-opacity);background-color:var(--indicator-color);will-change:transform,opacity;transition:opacity .1s linear,transform .25s ease-in-out}@media (prefers-reduced-motion:reduce){.indicator{will-change:opacity;transition:opacity .1s linear}}.pad-top,input.search{background:var(--background);width:100%}.pad-top{height:var(--emoji-padding);z-index:3}.search-row{display:flex;align-items:center;position:relative;padding-inline-start:var(--emoji-padding);padding-bottom:var(--emoji-padding)}.search-wrapper{flex:1;min-width:0}input.search{padding:var(--input-padding);border-radius:var(--input-border-radius);border:var(--input-border-size) solid var(--input-border-color);color:var(--input-font-color);font-size:var(--input-font-size);line-height:var(--input-line-height)}input.search::placeholder{color:var(--input-placeholder-color)}.favorites{overflow-y:auto;scrollbar-gutter:stable;display:flex;flex-direction:row;border-top:var(--border-size) solid var(--border-color);contain:content}.message{padding:var(--emoji-padding)}';const rt=["customEmoji","customCategorySorting","database","dataSource","i18n","locale","skinToneEmoji","emojiVersion"],ao=`:host{--emoji-font-family:${Je}}`;class be extends HTMLElement{constructor(e){super(),this.attachShadow({mode:"open"});const n=document.createElement("style");n.textContent=so+ao,this.shadowRoot.appendChild(n),this._ctx={locale:ro,dataSource:oo,skinToneEmoji:vn,customCategorySorting:Tn,customEmoji:null,i18n:io,emojiVersion:null,...e};for(const o of rt)o!=="database"&&Object.prototype.hasOwnProperty.call(this,o)&&(this._ctx[o]=this[o],delete this[o]);this._dbFlush()}connectedCallback(){st(this),this._cmp||(this._cmp=no(this.shadowRoot,this._ctx))}disconnectedCallback(){st(this),X(()=>{if(!this.isConnected&&this._cmp){this._cmp.$destroy(),this._cmp=void 0;const{database:e}=this._ctx;e.close().catch(n=>console.error(n))}})}static get observedAttributes(){return["locale","data-source","skin-tone-emoji","emoji-version"]}attributeChangedCallback(e,n,o){this._set(e.replace(/-([a-z])/g,(i,r)=>r.toUpperCase()),e==="emoji-version"?parseFloat(o):o)}_set(e,n){this._ctx[e]=n,this._cmp&&this._cmp.$set({[e]:n}),["locale","dataSource"].includes(e)&&this._dbFlush()}_dbCreate(){const{locale:e,dataSource:n,database:o}=this._ctx;(!o||o.locale!==e||o.dataSource!==n)&&this._set("database",new bn({locale:e,dataSource:n}))}_dbFlush(){X(()=>this._dbCreate())}}const it={};for(const t of rt)it[t]={get(){return t==="database"&&this._dbCreate(),this._ctx[t]},set(e){if(t==="database")throw new Error("database is read-only");this._set(t,e)}};Object.defineProperties(be.prototype,it);function st(t){t instanceof be||Object.setPrototypeOf(t,customElements.get(t.tagName.toLowerCase()).prototype)}customElements.get("emoji-picker")||customElements.define("emoji-picker",be);class co extends P{connect(){const e=this.element.querySelector("emoji-picker"),n=e.shadowRoot;e.addEventListener("focusout",o=>o.stopPropagation()),this.element.addEventListener("open",()=>{n.querySelector("input")?.focus()})}}window.Stimulus.register("emoji-picker",co)})();
