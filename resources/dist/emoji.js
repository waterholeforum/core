(function(){function e(e){return e.replace(/(?:[_-])([a-z0-9])/g,(e,t)=>t.toUpperCase())}function t(t){return e(t.replace(/--/g,`-`).replace(/__/g,`_`))}function n(e){return e.charAt(0).toUpperCase()+e.slice(1)}function r(e){return e.replace(/([A-Z])/g,(e,t)=>`-${t.toLowerCase()}`)}function i(e){return e!=null}function a(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function o(e,t){let n=c(e);return Array.from(n.reduce((e,n)=>(l(n,t).forEach(t=>e.add(t)),e),new Set))}function s(e,t){return c(e).reduce((e,n)=>(e.push(...u(n,t)),e),[])}function c(e){let t=[];for(;e;)t.push(e),e=Object.getPrototypeOf(e);return t.reverse()}function l(e,t){let n=e[t];return Array.isArray(n)?n:[]}function u(e,t){let n=e[t];return n?Object.keys(n).map(e=>[e,n[e]]):[]}typeof Object.getOwnPropertySymbols==`function`||Object.getOwnPropertyNames,(()=>{function e(e){function t(){return Reflect.construct(e,arguments,new.target)}return t.prototype=Object.create(e.prototype,{constructor:{value:t}}),Reflect.setPrototypeOf(t,e),t}function t(){let t=e(function(){this.a.call(this)});return t.prototype.a=function(){},new t}try{return t(),e}catch{return e=>class extends e{}}})(),Object.assign(Object.assign({enter:`Enter`,tab:`Tab`,esc:`Escape`,space:` `,up:`ArrowUp`,down:`ArrowDown`,left:`ArrowLeft`,right:`ArrowRight`,home:`Home`,end:`End`,page_up:`PageUp`,page_down:`PageDown`},d(`abcdefghijklmnopqrstuvwxyz`.split(``).map(e=>[e,e]))),d(`0123456789`.split(``).map(e=>[e,e])));function d(e){return e.reduce((e,[t,n])=>Object.assign(Object.assign({},e),{[t]:n}),{})}function f(e){return o(e,`classes`).reduce((e,t)=>Object.assign(e,p(t)),{})}function p(e){return{[`${e}Class`]:{get(){let{classes:t}=this;if(t.has(e))return t.get(e);{let n=t.getAttributeName(e);throw Error(`Missing attribute "${n}"`)}}},[`${e}Classes`]:{get(){return this.classes.getAll(e)}},[`has${n(e)}Class`]:{get(){return this.classes.has(e)}}}}function m(e){return o(e,`outlets`).reduce((e,t)=>Object.assign(e,ee(t)),{})}function h(e,t,n){return e.application.getControllerForElementAndIdentifier(t,n)}function g(e,t,n){let r=h(e,t,n);if(r||(e.application.router.proposeToConnectScopeForElementAndIdentifier(t,n),r=h(e,t,n),r))return r}function ee(e){let r=t(e);return{[`${r}Outlet`]:{get(){let t=this.outlets.find(e),n=this.outlets.getSelectorForOutletName(e);if(t){let n=g(this,t,e);if(n)return n;throw Error(`The provided outlet element is missing an outlet controller "${e}" instance for host controller "${this.identifier}"`)}throw Error(`Missing outlet element "${e}" for host controller "${this.identifier}". Stimulus couldn't find a matching outlet element using selector "${n}".`)}},[`${r}Outlets`]:{get(){let t=this.outlets.findAll(e);return t.length>0?t.map(t=>{let n=g(this,t,e);if(n)return n;console.warn(`The provided outlet element is missing an outlet controller "${e}" instance for host controller "${this.identifier}"`,t)}).filter(e=>e):[]}},[`${r}OutletElement`]:{get(){let t=this.outlets.find(e),n=this.outlets.getSelectorForOutletName(e);if(t)return t;throw Error(`Missing outlet element "${e}" for host controller "${this.identifier}". Stimulus couldn't find a matching outlet element using selector "${n}".`)}},[`${r}OutletElements`]:{get(){return this.outlets.findAll(e)}},[`has${n(r)}Outlet`]:{get(){return this.outlets.has(e)}}}}function te(e){return o(e,`targets`).reduce((e,t)=>Object.assign(e,ne(t)),{})}function ne(e){return{[`${e}Target`]:{get(){let t=this.targets.find(e);if(t)return t;throw Error(`Missing target element "${e}" for "${this.identifier}" controller`)}},[`${e}Targets`]:{get(){return this.targets.findAll(e)}},[`has${n(e)}Target`]:{get(){return this.targets.has(e)}}}}function _(e){let t=s(e,`values`);return t.reduce((e,t)=>Object.assign(e,re(t)),{valueDescriptorMap:{get(){return t.reduce((e,t)=>{let n=ie(t,this.identifier),r=this.data.getAttributeNameForKey(n.key);return Object.assign(e,{[r]:n})},{})}}})}function re(e,t){let r=ie(e,t),{key:i,name:a,reader:o,writer:s}=r;return{[a]:{get(){let e=this.data.get(i);return e===null?r.defaultValue:o(e)},set(e){e===void 0?this.data.delete(i):this.data.set(i,s(e))}},[`has${n(a)}`]:{get(){return this.data.has(i)||r.hasCustomDefaultValue}}}}function ie([e,t],n){return x({controller:n,token:e,typeDefinition:t})}function v(e){switch(e){case Array:return`array`;case Boolean:return`boolean`;case Number:return`number`;case Object:return`object`;case String:return`string`}}function y(e){switch(typeof e){case`boolean`:return`boolean`;case`number`:return`number`;case`string`:return`string`}if(Array.isArray(e))return`array`;if(Object.prototype.toString.call(e)===`[object Object]`)return`object`}function ae(e){let{controller:t,token:n,typeObject:r}=e,a=i(r.type),o=i(r.default),s=a&&o,c=a&&!o,l=!a&&o,u=v(r.type),d=y(e.typeObject.default);if(c)return u;if(l)return d;if(u!==d){let e=t?`${t}.${n}`:n;throw Error(`The specified default value for the Stimulus Value "${e}" must match the defined type "${u}". The provided default value of "${r.default}" is of type "${d}".`)}if(s)return u}function oe(e){let{controller:t,token:n,typeDefinition:r}=e,i=ae({controller:t,token:n,typeObject:r}),a=y(r),o=v(r),s=i||a||o;if(s)return s;let c=t?`${t}.${r}`:n;throw Error(`Unknown value type "${c}" for "${n}" value`)}function b(e){let t=v(e);if(t)return S[t];let n=a(e,`default`),r=a(e,`type`),i=e;if(n)return i.default;if(r){let{type:e}=i,t=v(e);if(t)return S[t]}return e}function x(t){let{token:n,typeDefinition:i}=t,a=`${r(n)}-value`,o=oe(t);return{type:o,key:a,name:e(a),get defaultValue(){return b(i)},get hasCustomDefaultValue(){return y(i)!==void 0},reader:se[o],writer:C[o]||C.default}}let S={get array(){return[]},boolean:!1,number:0,get object(){return{}},string:``},se={array(e){let t=JSON.parse(e);if(!Array.isArray(t))throw TypeError(`expected value of type "array" but instead got value "${e}" of type "${y(t)}"`);return t},boolean(e){return!(e==`0`||String(e).toLowerCase()==`false`)},number(e){return Number(e.replace(/_/g,``))},object(e){let t=JSON.parse(e);if(typeof t!=`object`||!t||Array.isArray(t))throw TypeError(`expected value of type "object" but instead got value "${e}" of type "${y(t)}"`);return t},string(e){return e}},C={default:ce,array:w,object:w};function w(e){return JSON.stringify(e)}function ce(e){return`${e}`}var T=class{constructor(e){this.context=e}static get shouldLoad(){return!0}static afterLoad(e,t){}get application(){return this.context.application}get scope(){return this.context.scope}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get targets(){return this.scope.targets}get outlets(){return this.scope.outlets}get classes(){return this.scope.classes}get data(){return this.scope.data}initialize(){}connect(){}disconnect(){}dispatch(e,{target:t=this.element,detail:n={},prefix:r=this.identifier,bubbles:i=!0,cancelable:a=!0}={}){let o=r?`${r}:${e}`:e,s=new CustomEvent(o,{detail:n,bubbles:i,cancelable:a});return t.dispatchEvent(s),s}};T.blessings=[f,te,_,m],T.targets=[],T.outlets=[],T.values={};function E(e){if(typeof e!=`string`||!e)throw Error(`expected a non-empty string, got: `+e)}function D(e){if(typeof e!=`number`)throw Error(`expected a number, got: `+e)}let O=`emoji`,k=`keyvalue`,A=`favorites`,j=`tokens`,M=`count`,N=`group-order`,P=`eTag`,le=`skinTone`,F=`readonly`,I=`readwrite`,ue=`skinUnicodes`;function de(e,t){let n=new Set,r=[];for(let i of e){let e=t(i);n.has(e)||(n.add(e),r.push(i))}return r}function fe(e){return de(e,e=>e.unicode)}function pe(e){function t(t,n,r){let i=n?e.createObjectStore(t,{keyPath:n}):e.createObjectStore(t);if(r)for(let[e,[t,n]]of Object.entries(r))i.createIndex(e,t,{multiEntry:n});return i}t(k),t(O,`unicode`,{[j]:[`tokens`,!0],[N]:[[`group`,`order`]],[ue]:[`skinUnicodes`,!0]}),t(A,void 0,{[M]:[``]})}let L={},R={},z={};function me(e,t,n){n.onerror=()=>t(n.error),n.onblocked=()=>t(Error(`IDB blocked`)),n.onsuccess=()=>e(n.result)}async function he(e){let t=await new Promise((t,n)=>{let r=indexedDB.open(e,1);L[e]=r,r.onupgradeneeded=e=>{e.oldVersion<1&&pe(r.result)},me(t,n,r)});return t.onclose=()=>V(e),t}function ge(e){return R[e]||(R[e]=he(e)),R[e]}function B(e,t,n,r){return new Promise((i,a)=>{let o=e.transaction(t,n,{durability:`relaxed`}),s=typeof t==`string`?o.objectStore(t):t.map(e=>o.objectStore(e)),c;r(s,o,e=>{c=e}),o.oncomplete=()=>i(c),o.onerror=()=>a(o.error)})}function V(e){let t=L[e],n=t&&t.result;if(n){n.close();let t=z[e];if(t)for(let e of t)e()}delete L[e],delete R[e],delete z[e]}function _e(e){return new Promise((t,n)=>{V(e),me(t,n,indexedDB.deleteDatabase(e))})}function ve(e,t){let n=z[e];n||=z[e]=[],n.push(t)}let ye=new Set(`:D.XD.:'D.O:).:X.:P.;P.XP.:L.:Z.:j.8D.XO.8).:B.:O.:S.:'o.Dx.X(.D:.:C.>0).:3.</3.<3.\\M/.:E.8#`.split(`.`));function H(e){return e.split(/[\s_]+/).map(e=>!e.match(/\w/)||ye.has(e)?e.toLowerCase():e.replace(/[)(:,]/g,``).replace(/‚Äô/g,`'`).toLowerCase()).filter(Boolean)}function be(e){return e.filter(Boolean).map(e=>e.toLowerCase()).filter(e=>e.length>=2)}function xe(e){return e.map(({annotation:e,emoticon:t,group:n,order:r,shortcodes:i,skins:a,tags:o,emoji:s,version:c})=>{let l={annotation:e,group:n,order:r,tags:o,tokens:[...new Set(be([...(i||[]).map(H).flat(),...(o||[]).map(H).flat(),...H(e),t]))].sort(),unicode:s,version:c};if(t&&(l.emoticon=t),i&&(l.shortcodes=i),a){l.skinTones=[],l.skinUnicodes=[],l.skinVersions=[];for(let{tone:e,emoji:t,version:n}of a)l.skinTones.push(e),l.skinUnicodes.push(t),l.skinVersions.push(n)}return l})}function Se(e,t,n,r){e[t](n).onsuccess=e=>r&&r(e.target.result)}function U(e,t,n){Se(e,`get`,t,n)}function Ce(e,t,n){Se(e,`getAll`,t,n)}function W(e){e.commit&&e.commit()}function we(e,t){let n=e[0];for(let r=1;r<e.length;r++){let i=e[r];t(n)>t(i)&&(n=i)}return n}function Te(e,t){let n=we(e,e=>e.length),r=[];for(let i of n)e.some(e=>e.findIndex(e=>t(e)===t(i))===-1)||r.push(i);return r}async function Ee(e){return!await G(e,k,`url`)}async function De(e,t,n){let[r,i]=await Promise.all([P,`url`].map(t=>G(e,k,t)));return r===n&&i===t}async function Oe(e,t){return B(e,O,F,(e,n,r)=>{let i,a=()=>{e.getAll(i&&IDBKeyRange.lowerBound(i,!0),50).onsuccess=e=>{let n=e.target.result;for(let e of n)if(i=e.unicode,t(e))return r(e);if(n.length<50)return r();a()}};a()})}async function ke(e,t,n,r){try{let i=xe(t);await B(e,[O,k],I,([e,t],a)=>{let o,s,c=0;function l(){++c===2&&u()}function u(){if(!(o===r&&s===n)){e.clear();for(let t of i)e.put(t);t.put(r,P),t.put(n,`url`),W(a)}}U(t,P,e=>{o=e,l()}),U(t,`url`,e=>{s=e,l()})})}finally{}}async function Ae(e,t){return B(e,O,F,(e,n,r)=>{let i=IDBKeyRange.bound([t,0],[t+1,0],!1,!0);Ce(e.index(N),i,r)})}async function je(e,t){let n=be(H(t));return n.length?B(e,O,F,(e,t,r)=>{let i=[],a=()=>{i.length===n.length&&o()},o=()=>{r(Te(i,e=>e.unicode).sort((e,t)=>e.order<t.order?-1:1))};for(let t=0;t<n.length;t++){let r=n[t],o=t===n.length-1?IDBKeyRange.bound(r,r+`Ôøø`,!1,!0):IDBKeyRange.only(r);Ce(e.index(j),o,e=>{i.push(e),a()})}}):[]}async function Me(e,t){let n=await je(e,t);return n.length?n.filter(e=>(e.shortcodes||[]).map(e=>e.toLowerCase()).includes(t.toLowerCase()))[0]||null:await Oe(e,e=>(e.shortcodes||[]).includes(t.toLowerCase()))||null}async function Ne(e,t){return B(e,O,F,(e,n,r)=>U(e,t,n=>{if(n)return r(n);U(e.index(ue),t,e=>r(e||null))}))}function G(e,t,n){return B(e,t,F,(e,t,r)=>U(e,n,r))}function Pe(e,t,n,r){return B(e,t,I,(e,t)=>{e.put(r,n),W(t)})}function Fe(e,t){return B(e,A,I,(e,n)=>U(e,t,r=>{e.put((r||0)+1,t),W(n)}))}function Ie(e,t,n){return n===0?[]:B(e,[A,O],F,([e,r],i,a)=>{let o=[];e.index(M).openCursor(void 0,`prev`).onsuccess=e=>{let i=e.target.result;if(!i)return a(o);function s(e){if(o.push(e),o.length===n)return a(o);i.continue()}let c=i.primaryKey,l=t.byName(c);if(l)return s(l);U(r,c,e=>{if(e)return s(e);i.continue()})}})}function Le(e,t){let n=new Map;for(let r of e){let e=t(r);for(let t of e){let e=n;for(let n=0;n<t.length;n++){let r=t.charAt(n),i=e.get(r);i||(i=new Map,e.set(r,i)),e=i}let i=e.get(``);i||(i=[],e.set(``,i)),i.push(r)}}return(e,t)=>{let r=n;for(let t=0;t<e.length;t++){let n=e.charAt(t),i=r.get(n);if(i)r=i;else return[]}if(t)return r.get(``)||[];let i=[],a=[r];for(;a.length;){let e=[...a.shift().entries()].sort((e,t)=>e[0]<t[0]?-1:1);for(let[t,n]of e)t===``?i.push(...n):a.push(n)}return i}}let Re=[`name`,`url`];function ze(e){let t=e&&Array.isArray(e),n=t&&e.length&&(!e[0]||Re.some(t=>!(t in e[0])));if(!t||n)throw Error(`Custom emojis are in the wrong format`)}function Be(e){ze(e);let t=(e,t)=>e.name.toLowerCase()<t.name.toLowerCase()?-1:1,n=e.sort(t),r=Le(e,e=>{let t=new Set;if(e.shortcodes)for(let n of e.shortcodes)for(let e of H(n))t.add(e);return t}),i=e=>r(e,!0),a=e=>r(e,!1),o=e=>{let n=H(e);return Te(n.map((e,t)=>(t<n.length-1?i:a)(e)),e=>e.name).sort(t)},s=new Map,c=new Map;for(let t of e){c.set(t.name.toLowerCase(),t);for(let e of t.shortcodes||[])s.set(e.toLowerCase(),t)}return{all:n,search:o,byShortcode:e=>s.get(e.toLowerCase()),byName:e=>c.get(e.toLowerCase())}}let Ve=typeof wrappedJSObject<`u`;function K(e){if(!e)return e;if(Ve&&(e=structuredClone(e)),delete e.tokens,e.skinTones){let t=e.skinTones.length;e.skins=Array(t);for(let n=0;n<t;n++)e.skins[n]={tone:e.skinTones[n],unicode:e.skinUnicodes[n],version:e.skinVersions[n]};delete e.skinTones,delete e.skinUnicodes,delete e.skinVersions}return e}function He(e){e||console.warn(`emoji-picker-element is more efficient if the dataSource server exposes an ETag header.`)}let Ue=[`annotation`,`emoji`,`group`,`order`,`version`];function We(e){if(!e||!Array.isArray(e)||!e[0]||typeof e[0]!=`object`||Ue.some(t=>!(t in e[0])))throw Error(`Emoji data is in the wrong format`)}function Ge(e,t){if(Math.floor(e.status/100)!==2)throw Error(`Failed to fetch: `+t+`:  `+e.status)}async function Ke(e){let t=await fetch(e,{method:`HEAD`});Ge(t,e);let n=t.headers.get(`etag`);return He(n),n}async function q(e){let t=await fetch(e);Ge(t,e);let n=t.headers.get(`etag`);He(n);let r=await t.json();return We(r),[n,r]}function qe(e){for(var t=``,n=new Uint8Array(e),r=n.byteLength,i=-1;++i<r;)t+=String.fromCharCode(n[i]);return t}function Je(e){for(var t=e.length,n=new ArrayBuffer(t),r=new Uint8Array(n),i=-1;++i<t;)r[i]=e.charCodeAt(i);return n}async function Ye(e){let t=Je(JSON.stringify(e)),n=qe(await crypto.subtle.digest(`SHA-1`,t));return btoa(n)}async function Xe(e,t){let n,r=await Ke(t);if(!r){let e=await q(t);r=e[0],n=e[1],r||=await Ye(n)}await De(e,t,r)||(n||=(await q(t))[1],await ke(e,n,t,r))}async function Ze(e,t){let[n,r]=await q(t);n||=await Ye(r),await ke(e,r,t,n)}async function Qe(e,t){try{await Xe(e,t)}catch(e){if(e.name!==`InvalidStateError`)throw e}}var $e=class{constructor({dataSource:e=`https://cdn.jsdelivr.net/npm/emoji-picker-element-data@^1/en/emojibase/data.json`,locale:t=`en`,customEmoji:n=[]}={}){this.dataSource=e,this.locale=t,this._dbName=`emoji-picker-element-${this.locale}`,this._db=void 0,this._lazyUpdate=void 0,this._custom=Be(n),this._clear=this._clear.bind(this),this._ready=this._init()}async _init(){let e=this._db=await ge(this._dbName);ve(this._dbName,this._clear);let t=this.dataSource;await Ee(e)?await Ze(e,t):this._lazyUpdate=Qe(e,t)}async ready(){let e=async()=>(this._ready||=this._init(),this._ready);await e(),this._db||await e()}async getEmojiByGroup(e){return D(e),await this.ready(),fe(await Ae(this._db,e)).map(K)}async getEmojiBySearchQuery(e){E(e),await this.ready();let t=this._custom.search(e),n=fe(await je(this._db,e)).map(K);return[...t,...n]}async getEmojiByShortcode(e){return E(e),await this.ready(),this._custom.byShortcode(e)||K(await Me(this._db,e))}async getEmojiByUnicodeOrName(e){return E(e),await this.ready(),this._custom.byName(e)||K(await Ne(this._db,e))}async getPreferredSkinTone(){return await this.ready(),await G(this._db,k,le)||0}async setPreferredSkinTone(e){return D(e),await this.ready(),Pe(this._db,k,le,e)}async incrementFavoriteEmojiCount(e){return E(e),await this.ready(),Fe(this._db,e)}async getTopFavoriteEmoji(e){return D(e),await this.ready(),(await Ie(this._db,this._custom,e)).map(K)}set customEmoji(e){this._custom=Be(e)}get customEmoji(){return this._custom.all}async _shutdown(){await this.ready();try{await this._lazyUpdate}catch{}}_clear(){this._db=this._ready=this._lazyUpdate=void 0}async close(){await this._shutdown(),await V(this._dbName)}async delete(){await this._shutdown(),await _e(this._dbName)}};let J=[[-1,`‚ú®`,`custom`],[0,`üòÄ`,`smileys-emotion`],[1,`üëã`,`people-body`],[3,`üê±`,`animals-nature`],[4,`üçé`,`food-drink`],[5,`üè†Ô∏è`,`travel-places`],[6,`‚öΩ`,`activities`],[7,`üìù`,`objects`],[8,`‚õîÔ∏è`,`symbols`],[9,`üèÅ`,`flags`]].map(([e,t,n])=>({id:e,emoji:t,name:n})),et=J.slice(1),tt=typeof requestIdleCallback==`function`?requestIdleCallback:setTimeout;function nt(e){return e.unicode.includes(`‚Äç`)}let rt={"ü´™":17,"ü´©":16,"ü´®":15.1,"ü´†":14,"ü•≤":13.1,"ü•ª":12.1,"ü•∞":11,"ü§©":5,"üë±‚Äç‚ôÄÔ∏è":4,"ü§£":3,"üëÅÔ∏è‚Äçüó®Ô∏è":2,"üòÄ":1,"üòêÔ∏è":.7,"üòÉ":.6},it=[`üòä`,`üòí`,`‚ù§Ô∏è`,`üëçÔ∏è`,`üòç`,`üòÇ`,`üò≠`,`‚ò∫Ô∏è`,`üòî`,`üò©`,`üòè`,`üíï`,`üôå`,`üòò`],at=`"Twemoji Mozilla","Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji","EmojiOne Color","Android Emoji",sans-serif`,ot=(e,t)=>e<t?-1:e>t?1:0,st=(e,t)=>{let n=document.createElement(`canvas`);n.width=n.height=1;let r=n.getContext(`2d`,{willReadFrequently:!0});return r.textBaseline=`top`,r.font=`100px ${at}`,r.fillStyle=t,r.scale(.01,.01),r.fillText(e,0,0),r.getImageData(0,0,1,1).data},ct=(e,t)=>{let n=[...e].join(`,`);return n===[...t].join(`,`)&&!n.startsWith(`0,0,0,`)};function lt(e){let t=st(e,`#000`),n=st(e,`#fff`);return t&&n&&ct(t,n)}function ut(){let e=Object.entries(rt);try{for(let[t,n]of e)if(lt(t))return n}catch{}return e[0][1]}let dt,ft=()=>(dt||=new Promise(e=>tt(()=>e(ut()))),dt),pt=new Map;function mt(e,t){if(t===0)return e;let n=e.indexOf(`‚Äç`);return n===-1?(e.endsWith(`Ô∏è`)&&(e=e.substring(0,e.length-1)),e+`ÔøΩd83c`+String.fromCodePoint(57339+t-1)):e.substring(0,n)+String.fromCodePoint(127995+t-1)+e.substring(n)}function Y(e){e.preventDefault(),e.stopPropagation()}function ht(e,t,n){return t+=e?-1:1,t<0?t=n.length-1:t>=n.length&&(t=0),t}function gt(e,t){let n=new Set,r=[];for(let i of e){let e=t(i);n.has(e)||(n.add(e),r.push(i))}return r}function _t(e,t){let n=e=>{let n={};for(let r of e)typeof r.tone==`number`&&r.version<=t&&(n[r.tone]=r.unicode);return n};return e.map(({unicode:e,skins:t,shortcodes:r,url:i,name:a,category:o,annotation:s})=>({unicode:e,name:a,shortcodes:r,url:i,category:o,annotation:s,id:e||a,skins:t&&n(t)}))}let X=requestAnimationFrame,vt=typeof ResizeObserver==`function`;function yt(e,t,n){let r;vt?(r=new ResizeObserver(n),r.observe(e)):X(n),t.addEventListener(`abort`,()=>{r&&r.disconnect()})}function bt(e){{let t=document.createRange();return t.selectNode(e.firstChild),t.getBoundingClientRect().width}}let xt;function St(e,t,n){let r=!0;for(let i of e){let e=n(i);if(!e)continue;let a=bt(e);xt===void 0&&(xt=bt(t));let o=a/1.8<xt;pt.set(i.unicode,o),o||(r=!1)}return r}function Ct(e){return gt(e,e=>e)}function wt(e){e&&(e.scrollTop=0)}function Z(e,t,n){let r=e.get(t);return r||(r=n(),e.set(t,r)),r}function Tt(e){return``+e}function Et(e){let t=document.createElement(`template`);return t.innerHTML=e,t}let Dt=new WeakMap,Ot=new WeakMap,kt=Symbol(`un-keyed`),At=`replaceChildren`in Element.prototype;function jt(e,t){At?e.replaceChildren(...t):(e.innerHTML=``,e.append(...t))}function Mt(e,t){let n=e.firstChild,r=0;for(;n;){if(t[r]!==n)return!0;n=n.nextSibling,r++}return r!==t.length}function Nt(e,t){let{targetNode:n}=t,{targetParentNode:r}=t,i=!1;r?i=Mt(r,e):(i=!0,t.targetNode=void 0,t.targetParentNode=r=n.parentNode),i&&jt(r,e)}function Pt(e,t){for(let n of t){let{targetNode:t,currentExpression:r,binding:{expressionIndex:i,attributeName:a,attributeValuePre:o,attributeValuePost:s}}=n,c=e[i];if(r!==c)if(n.currentExpression=c,a)if(c===null)t.removeAttribute(a);else{let e=o+Tt(c)+s;t.setAttribute(a,e)}else{let e;Array.isArray(c)?Nt(c,n):c instanceof Element?(e=c,t.replaceWith(e)):t.nodeValue=Tt(c),e&&(n.targetNode=e)}}}function Ft(e){let t=``,n=!1,r=!1,i=-1,a=new Map,o=[],s=0;for(let c=0,l=e.length;c<l;c++){let u=e[c];if(t+=u.slice(s),c===l-1)break;for(let e=0;e<u.length;e++)switch(u.charAt(e)){case`<`:u.charAt(e+1)===`/`?o.pop():(n=!0,o.push(++i));break;case`>`:n=!1,r=!1;break;case`=`:r=!0;break}let d=o[o.length-1],f=Z(a,d,()=>[]),p,m,h;if(r){let n=/(\S+)="?([^"=]*)$/.exec(u);p=n[1],m=n[2];let r=/^([^">]*)("?)/.exec(e[c+1]);h=r[1],t=t.slice(0,-1*n[0].length),s=r[0].length}else s=0;let g={attributeName:p,attributeValuePre:m,attributeValuePost:h,expressionIndex:c};f.push(g),!n&&!r&&(t+=` `)}return{template:Et(t),elementsToBindings:a}}function It(e,t,n){for(let r=0;r<e.length;r++){let i=e[r],a={binding:i,targetNode:i.attributeName?t:t.firstChild,targetParentNode:void 0,currentExpression:void 0};n.push(a)}}function Lt(e,t){let n=[],r;if(t.size===1&&(r=t.get(0)))It(r,e,n);else{let r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT),i=e,a=-1;do{let e=t.get(++a);e&&It(e,i,n)}while(i=r.nextNode())}return n}function Rt(e){let{template:t,elementsToBindings:n}=Z(Dt,e,()=>Ft(e)),r=t.cloneNode(!0).content.firstElementChild,i=Lt(r,n);return function(e){return Pt(e,i),r}}function zt(e){let t=Z(Ot,e,()=>new Map),n=kt;function r(e,...r){return Z(Z(t,e,()=>new Map),n,()=>Rt(e))(r)}function i(e,t,r){return e.map((e,i)=>{let a=n;n=r(e);try{return t(e,i)}finally{n=a}})}return{map:i,html:r}}function Bt(e,t,n,r,i,a,o,s,c){let{labelWithSkin:l,titleForEmoji:u,unicodeWithSkin:d}=n,{html:f,map:p}=zt(t);function m(e,n,r){return p(e,(e,i)=>f`<button role="${n?`option`:`menuitem`}" aria-selected="${n?i===t.activeSearchItem:null}" aria-label="${l(e,t.currentSkinTone)}" title="${u(e)}" class="${`emoji`+(n&&i===t.activeSearchItem?` active`:``)+(e.unicode?``:` custom-emoji`)}" id="${`${r}-${e.id}`}" style="${e.unicode?null:`--custom-emoji-background: url(${JSON.stringify(e.url)})`}">${e.unicode?d(e,t.currentSkinTone):``}</button>`,e=>`${r}-${e.id}`)}let h=f`<section data-ref="rootElement" class="picker" aria-label="${t.i18n.regionLabel}" style="${t.pickerStyle||``}"><div class="pad-top"></div><div class="search-row"><div class="search-wrapper"><input id="search" class="search" type="search" role="combobox" enterkeyhint="search" placeholder="${t.i18n.searchLabel}" autocapitalize="none" autocomplete="off" spellcheck="true" aria-expanded="${!!(t.searchMode&&t.currentEmojis.length)}" aria-controls="search-results" aria-describedby="search-description" aria-autocomplete="list" aria-activedescendant="${t.activeSearchItemId?`emo-${t.activeSearchItemId}`:null}" data-ref="searchElement" data-on-input="onSearchInput" data-on-keydown="onSearchKeydown"><label class="sr-only" for="search">${t.i18n.searchLabel}</label> <span id="search-description" class="sr-only">${t.i18n.searchDescription}</span></div><div class="skintone-button-wrapper ${t.skinTonePickerExpandedAfterAnimation?`expanded`:``}"><button id="skintone-button" class="emoji ${t.skinTonePickerExpanded?`hide-focus`:``}" aria-label="${t.skinToneButtonLabel}" title="${t.skinToneButtonLabel}" aria-describedby="skintone-description" aria-haspopup="listbox" aria-expanded="${t.skinTonePickerExpanded}" aria-controls="skintone-list" data-on-click="onClickSkinToneButton">${t.skinToneButtonText||``}</button></div><span id="skintone-description" class="sr-only">${t.i18n.skinToneDescription}</span><div data-ref="skinToneDropdown" id="skintone-list" class="skintone-list hide-focus ${t.skinTonePickerExpanded?``:`hidden no-animate`}" style="transform:translateY(${t.skinTonePickerExpanded?0:`calc(-1 * var(--num-skintones) * var(--total-emoji-size))`})" role="listbox" aria-label="${t.i18n.skinTonesLabel}" aria-activedescendant="skintone-${t.activeSkinTone}" aria-hidden="${!t.skinTonePickerExpanded}" tabIndex="-1" data-on-focusout="onSkinToneOptionsFocusOut" data-on-click="onSkinToneOptionsClick" data-on-keydown="onSkinToneOptionsKeydown" data-on-keyup="onSkinToneOptionsKeyup">${p(t.skinTones,(e,n)=>f`<div id="skintone-${n}" class="emoji ${n===t.activeSkinTone?`active`:``}" aria-selected="${n===t.activeSkinTone}" role="option" title="${t.i18n.skinTones[n]}" aria-label="${t.i18n.skinTones[n]}">${e}</div>`,e=>e)}</div></div><div class="nav" role="tablist" style="grid-template-columns:repeat(${t.groups.length},1fr)" aria-label="${t.i18n.categoriesLabel}" data-on-keydown="onNavKeydown" data-on-click="onNavClick">${p(t.groups,e=>f`<button role="tab" class="nav-button" aria-controls="tab-${e.id}" aria-label="${t.i18n.categories[e.name]}" aria-selected="${!t.searchMode&&t.currentGroup.id===e.id}" title="${t.i18n.categories[e.name]}" data-group-id="${e.id}"><div class="nav-emoji emoji">${e.emoji}</div></button>`,e=>e.id)}</div><div class="indicator-wrapper"><div class="indicator" style="transform:translateX(${(t.isRtl?-1:1)*t.currentGroupIndex*100}%)"></div></div><div class="message ${t.message?``:`gone`}" role="alert" aria-live="polite">${t.message||``}</div><div data-ref="tabpanelElement" class="tabpanel ${!t.databaseLoaded||t.message?`gone`:``}" role="${t.searchMode?`region`:`tabpanel`}" aria-label="${t.searchMode?t.i18n.searchResultsLabel:t.i18n.categories[t.currentGroup.name]}" id="${t.searchMode?null:`tab-${t.currentGroup.id}`}" tabIndex="0" data-on-click="onEmojiClick"><div data-action="calculateEmojiGridStyle">${p(t.currentEmojisWithCategories,(e,n)=>f`<div><div id="menu-label-${n}" class="category ${t.currentEmojisWithCategories.length===1&&t.currentEmojisWithCategories[0].category===``?`gone`:``}" aria-hidden="true">${t.searchMode?t.i18n.searchResultsLabel:e.category?e.category:t.currentEmojisWithCategories.length>1?t.i18n.categories.custom:t.i18n.categories[t.currentGroup.name]}</div><div class="emoji-menu ${n!==0&&!t.searchMode&&t.currentGroup.id===-1?`visibility-auto`:``}" style="${`--num-rows: ${Math.ceil(e.emojis.length/t.numColumns)}`}" data-action="updateOnIntersection" role="${t.searchMode?`listbox`:`menu`}" aria-labelledby="menu-label-${n}" id="${t.searchMode?`search-results`:null}">${m(e.emojis,t.searchMode,`emo`)}</div></div>`,e=>e.category)}</div></div><div class="favorites onscreen emoji-menu ${t.message?`gone`:``}" role="menu" aria-label="${t.i18n.favoritesLabel}" data-on-click="onEmojiClick">${m(t.currentFavorites,!1,`fav`)}</div><button data-ref="baselineEmoji" aria-hidden="true" tabindex="-1" class="abs-pos hidden emoji baseline-emoji">üòÄ</button></section>`,g=(t,n)=>{for(let r of e.querySelectorAll(`[${t}]`))n(r,r.getAttribute(t))};if(c){e.appendChild(h);for(let e of[`click`,`focusout`,`input`,`keydown`,`keyup`])g(`data-on-${e}`,(t,n)=>{t.addEventListener(e,r[n])});g(`data-ref`,(e,t)=>{a[t]=e}),o.addEventListener(`abort`,()=>{e.removeChild(h)})}g(`data-action`,(e,t)=>{let n=s.get(t);n||s.set(t,n=new WeakSet),n.has(e)||(n.add(e),i[t](e))})}let Q=typeof queueMicrotask==`function`?queueMicrotask:e=>Promise.resolve().then(e);function Vt(e){let t=!1,n,r=new Map,i=new Set,a,o=()=>{if(t)return;let e=[...i];i.clear();try{for(let t of e)t()}finally{a=!1,i.size&&(a=!0,Q(o))}},s=new Proxy({},{get(e,t){if(n){let e=r.get(t);e||(e=new Set,r.set(t,e)),e.add(n)}return e[t]},set(e,t,n){if(e[t]!==n){e[t]=n;let s=r.get(t);if(s){for(let e of s)i.add(e);a||(a=!0,Q(o))}}return!0}});return e.addEventListener(`abort`,()=>{t=!0}),{state:s,createEffect:e=>{let t=()=>{let r=n;n=t;try{return e()}finally{n=r}};return t()}}}function Ht(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(!n(e[r],t[r]))return!1;return!0}let Ut=new WeakMap;function Wt(e,t,n){{let r=e.closest(`.tabpanel`),i=Ut.get(r);i||(i=new IntersectionObserver(n,{root:r,rootMargin:`50% 0px 50% 0px`,threshold:0}),Ut.set(r,i),t.addEventListener(`abort`,()=>{i.disconnect()})),i.observe(e)}}let Gt=[],{assign:$}=Object;function Kt(e,t){let n={},r=new AbortController,i=r.signal,{state:a,createEffect:o}=Vt(i),s=new Map;$(a,{skinToneEmoji:void 0,i18n:void 0,database:void 0,customEmoji:void 0,customCategorySorting:void 0,emojiVersion:void 0}),$(a,t),$(a,{initialLoad:!0,currentEmojis:[],currentEmojisWithCategories:[],rawSearchText:``,searchText:``,searchMode:!1,activeSearchItem:-1,message:void 0,skinTonePickerExpanded:!1,skinTonePickerExpandedAfterAnimation:!1,currentSkinTone:0,activeSkinTone:0,skinToneButtonText:void 0,pickerStyle:void 0,skinToneButtonLabel:``,skinTones:[],currentFavorites:[],defaultFavoriteEmojis:void 0,numColumns:8,isRtl:!1,currentGroupIndex:0,groups:et,databaseLoaded:!1,activeSearchItemId:void 0}),o(()=>{a.currentGroup!==a.groups[a.currentGroupIndex]&&(a.currentGroup=a.groups[a.currentGroupIndex])});let c=t=>{e.getElementById(t).focus()},l=t=>e.getElementById(`emo-${t.id}`),u=(e,t)=>{n.rootElement.dispatchEvent(new CustomEvent(e,{detail:t,bubbles:!0,composed:!0}))},d=(e,t)=>e.id===t.id,f=(e,t)=>{let{category:n,emojis:r}=e,{category:i,emojis:a}=t;return n===i?Ht(r,a,d):!1},p=e=>{Ht(a.currentEmojis,e,d)||(a.currentEmojis=e)},m=e=>{a.searchMode!==e&&(a.searchMode=e)},h=e=>{Ht(a.currentEmojisWithCategories,e,f)||(a.currentEmojisWithCategories=e)},g=(e,t)=>t&&e.skins&&e.skins[t]||e.unicode,ee={labelWithSkin:(e,t)=>Ct([e.name||g(e,t),e.annotation,...e.shortcodes||Gt].filter(Boolean)).join(`, `),titleForEmoji:e=>e.annotation||(e.shortcodes||Gt).join(`, `),unicodeWithSkin:g},te={onClickSkinToneButton:A,onEmojiClick:D,onNavClick:w,onNavKeydown:ce,onSearchKeydown:C,onSkinToneOptionsClick:k,onSkinToneOptionsFocusOut:N,onSkinToneOptionsKeydown:j,onSkinToneOptionsKeyup:M,onSearchInput:P},ne={calculateEmojiGridStyle:ie,updateOnIntersection:v},_=!0;o(()=>{Bt(e,a,ee,te,ne,n,i,s,_),_=!1}),a.emojiVersion||ft().then(e=>{e||(a.message=a.i18n.emojiUnsupportedMessage)}),o(()=>{async function e(){let e=!1,t=setTimeout(()=>{e=!0,a.message=a.i18n.loadingMessage},1e3);try{await a.database.ready(),a.databaseLoaded=!0}catch(e){console.error(e),a.message=a.i18n.networkErrorMessage}finally{clearTimeout(t),e&&(e=!1,a.message=``)}}a.database&&e()}),o(()=>{a.pickerStyle=`
      --num-groups: ${a.groups.length}; 
      --indicator-opacity: ${a.searchMode?0:1}; 
      --num-skintones: 6;`}),o(()=>{a.customEmoji&&a.database&&re()}),o(()=>{a.customEmoji&&a.customEmoji.length?a.groups!==J&&(a.groups=J):a.groups!==et&&(a.currentGroupIndex&&a.currentGroupIndex--,a.groups=et)}),o(()=>{async function e(){a.databaseLoaded&&(a.currentSkinTone=await a.database.getPreferredSkinTone())}e()}),o(()=>{a.skinTones=[,,,,,,].fill().map((e,t)=>mt(a.skinToneEmoji,t))}),o(()=>{a.skinToneButtonText=a.skinTones[a.currentSkinTone]}),o(()=>{a.skinToneButtonLabel=a.i18n.skinToneLabel.replace(`{skinTone}`,a.i18n.skinTones[a.currentSkinTone])}),o(()=>{async function e(){let{database:e}=a;a.defaultFavoriteEmojis=(await Promise.all(it.map(t=>e.getEmojiByUnicodeOrName(t)))).filter(Boolean)}a.databaseLoaded&&e()});function re(){let{customEmoji:e,database:t}=a,n=e||Gt;t.customEmoji!==n&&(t.customEmoji=n)}o(()=>{async function e(){re();let{database:e,defaultFavoriteEmojis:t,numColumns:n}=a;a.currentFavorites=await x(gt([...await e.getTopFavoriteEmoji(n),...t],e=>e.unicode||e.name).slice(0,n))}a.databaseLoaded&&a.defaultFavoriteEmojis&&e()});function ie(e){yt(e,i,()=>{{let e=getComputedStyle(n.rootElement),t=parseInt(e.getPropertyValue(`--num-columns`),10),r=e.getPropertyValue(`direction`)===`rtl`;a.numColumns=t,a.isRtl=r}})}function v(e){Wt(e,i,e=>{for(let{target:t,isIntersecting:n}of e)t.classList.toggle(`onscreen`,n)})}o(()=>{async function e(){let{searchText:e,currentGroup:t,databaseLoaded:n,customEmoji:r}=a;if(!n)a.currentEmojis=[],a.searchMode=!1;else if(e.length>=2){let t=await se(e);a.searchText===e&&(p(t),m(!0))}else{let{id:e}=t;if(e!==-1||r&&r.length){let t=await S(e);a.currentGroup.id===e&&(p(t),m(!1))}}}e()});let y=()=>{X(()=>wt(n.tabpanelElement))};o(()=>{let{currentEmojis:e,emojiVersion:t}=a,n=e.filter(e=>e.unicode).filter(e=>nt(e)&&!pt.has(e.unicode));!t&&n.length?(p(e),X(()=>ae(n))):(p(t?e:e.filter(oe)),y())});function ae(e){St(e,n.baselineEmoji,l)?y():a.currentEmojis=[...a.currentEmojis]}function oe(e){return!e.unicode||!nt(e)||pt.get(e.unicode)}async function b(e){let t=a.emojiVersion||await ft();return e.filter(({version:e})=>!e||e<=t)}async function x(e){return _t(e,a.emojiVersion||await ft())}async function S(e){return x(await b(e===-1?a.customEmoji:await a.database.getEmojiByGroup(e)))}async function se(e){return x(await b(await a.database.getEmojiBySearchQuery(e)))}o(()=>{}),o(()=>{function e(){let{searchMode:e,currentEmojis:t}=a;if(e)return[{category:``,emojis:t}];let n=new Map;for(let e of t){let t=e.category||``,r=n.get(t);r||(r=[],n.set(t,r)),r.push(e)}return[...n.entries()].map(([e,t])=>({category:e,emojis:t})).sort((e,t)=>a.customCategorySorting(e.category,t.category))}h(e())}),o(()=>{a.activeSearchItemId=a.activeSearchItem!==-1&&a.currentEmojis[a.activeSearchItem].id}),o(()=>{let{rawSearchText:e}=a;tt(()=>{a.searchText=(e||``).trim(),a.activeSearchItem=-1})});function C(e){if(!a.searchMode||!a.currentEmojis.length)return;let t=t=>{Y(e),a.activeSearchItem=ht(t,a.activeSearchItem,a.currentEmojis)};switch(e.key){case`ArrowDown`:return t(!1);case`ArrowUp`:return t(!0);case`Enter`:if(a.activeSearchItem===-1)a.activeSearchItem=0;else return Y(e),E(a.currentEmojis[a.activeSearchItem].id)}}function w(e){let{target:t}=e,r=t.closest(`.nav-button`);if(!r)return;let i=parseInt(r.dataset.groupId,10);n.searchElement.value=``,a.rawSearchText=``,a.searchText=``,a.activeSearchItem=-1,a.currentGroupIndex=a.groups.findIndex(e=>e.id===i)}function ce(e){let{target:t,key:n}=e,r=t=>{t&&(Y(e),t.focus())};switch(n){case`ArrowLeft`:return r(t.previousElementSibling);case`ArrowRight`:return r(t.nextElementSibling);case`Home`:return r(t.parentElement.firstElementChild);case`End`:return r(t.parentElement.lastElementChild)}}async function T(e){let t=await a.database.getEmojiByUnicodeOrName(e),n=[...a.currentEmojis,...a.currentFavorites].find(t=>t.id===e),r=n.unicode&&g(n,a.currentSkinTone);return await a.database.incrementFavoriteEmojiCount(e),{emoji:t,skinTone:a.currentSkinTone,...r&&{unicode:r},...n.name&&{name:n.name}}}async function E(e){let t=T(e);u(`emoji-click-sync`,t),u(`emoji-click`,await t)}function D(e){let{target:t}=e;t.classList.contains(`emoji`)&&(Y(e),E(t.id.substring(4)))}function O(e){a.currentSkinTone=e,a.skinTonePickerExpanded=!1,c(`skintone-button`),u(`skin-tone-change`,{skinTone:e}),a.database.setPreferredSkinTone(e)}function k(e){let{target:{id:t}}=e,n=t&&t.match(/^skintone-(\d)/);n&&(Y(e),O(parseInt(n[1],10)))}function A(e){a.skinTonePickerExpanded=!a.skinTonePickerExpanded,a.activeSkinTone=a.currentSkinTone,a.skinTonePickerExpanded&&(Y(e),X(()=>c(`skintone-list`)))}o(()=>{a.skinTonePickerExpanded?n.skinToneDropdown.addEventListener(`transitionend`,()=>{a.skinTonePickerExpandedAfterAnimation=!0},{once:!0}):a.skinTonePickerExpandedAfterAnimation=!1});function j(e){if(!a.skinTonePickerExpanded)return;let t=async t=>{Y(e),a.activeSkinTone=t};switch(e.key){case`ArrowUp`:return t(ht(!0,a.activeSkinTone,a.skinTones));case`ArrowDown`:return t(ht(!1,a.activeSkinTone,a.skinTones));case`Home`:return t(0);case`End`:return t(a.skinTones.length-1);case`Enter`:return Y(e),O(a.activeSkinTone);case`Escape`:return Y(e),a.skinTonePickerExpanded=!1,c(`skintone-button`)}}function M(e){if(a.skinTonePickerExpanded)switch(e.key){case` `:return Y(e),O(a.activeSkinTone)}}async function N(e){let{relatedTarget:t}=e;(!t||t.id!==`skintone-list`)&&(a.skinTonePickerExpanded=!1)}function P(e){a.rawSearchText=e.target.value}return{$set(e){$(a,e)},$destroy(){r.abort()}}}var qt={categoriesLabel:`Categories`,emojiUnsupportedMessage:`Your browser does not support color emoji.`,favoritesLabel:`Favorites`,loadingMessage:`Loading‚Ä¶`,networkErrorMessage:`Could not load emoji.`,regionLabel:`Emoji picker`,searchDescription:`When search results are available, press up or down to select and enter to choose.`,searchLabel:`Search`,searchResultsLabel:`Search results`,skinToneDescription:`When expanded, press up or down to select and enter to choose.`,skinToneLabel:`Choose a skin tone (currently {skinTone})`,skinTonesLabel:`Skin tones`,skinTones:[`Default`,`Light`,`Medium-Light`,`Medium`,`Medium-Dark`,`Dark`],categories:{custom:`Custom`,"smileys-emotion":`Smileys and emoticons`,"people-body":`People and body`,"animals-nature":`Animals and nature`,"food-drink":`Food and drink`,"travel-places":`Travel and places`,activities:`Activities`,objects:`Objects`,symbols:`Symbols`,flags:`Flags`}},Jt=`:host{--emoji-size:1.375rem;--emoji-padding:0.5rem;--category-emoji-size:var(--emoji-size);--category-emoji-padding:var(--emoji-padding);--indicator-height:3px;--input-border-radius:0.5rem;--input-border-size:1px;--input-font-size:1rem;--input-line-height:1.5;--input-padding:0.25rem;--num-columns:8;--outline-size:2px;--border-size:1px;--border-radius:0;--skintone-border-radius:1rem;--category-font-size:1rem;display:flex;width:min-content;height:400px}:host,:host(.light){color-scheme:light;--background:#fff;--border-color:#e0e0e0;--indicator-color:#385ac1;--input-border-color:#999;--input-font-color:#111;--input-placeholder-color:#999;--outline-color:#999;--category-font-color:#111;--button-active-background:#e6e6e6;--button-hover-background:#d9d9d9}:host(.dark){color-scheme:dark;--background:#222;--border-color:#444;--indicator-color:#5373ec;--input-border-color:#ccc;--input-font-color:#efefef;--input-placeholder-color:#ccc;--outline-color:#fff;--category-font-color:#efefef;--button-active-background:#555555;--button-hover-background:#484848}@media (prefers-color-scheme:dark){:host{color-scheme:dark;--background:#222;--border-color:#444;--indicator-color:#5373ec;--input-border-color:#ccc;--input-font-color:#efefef;--input-placeholder-color:#ccc;--outline-color:#fff;--category-font-color:#efefef;--button-active-background:#555555;--button-hover-background:#484848}}:host([hidden]){display:none}button{margin:0;padding:0;border:0;background:0 0;box-shadow:none;-webkit-tap-highlight-color:transparent}button::-moz-focus-inner{border:0}input{padding:0;margin:0;line-height:1.15;font-family:inherit}input[type=search]{-webkit-appearance:none}:focus{outline:var(--outline-color) solid var(--outline-size);outline-offset:calc(-1*var(--outline-size))}:host([data-js-focus-visible]) :focus:not([data-focus-visible-added]){outline:0}:focus:not(:focus-visible){outline:0}.hide-focus{outline:0}*{box-sizing:border-box}.picker{contain:content;display:flex;flex-direction:column;background:var(--background);border:var(--border-size) solid var(--border-color);border-radius:var(--border-radius);width:100%;height:100%;overflow:hidden;--total-emoji-size:calc(var(--emoji-size) + (2 * var(--emoji-padding)));--total-category-emoji-size:calc(var(--category-emoji-size) + (2 * var(--category-emoji-padding)))}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);border:0}.hidden{opacity:0;pointer-events:none}.abs-pos{position:absolute;left:0;top:0}.gone{display:none!important}.skintone-button-wrapper,.skintone-list{background:var(--background);z-index:3}.skintone-button-wrapper.expanded{z-index:1}.skintone-list{position:absolute;inset-inline-end:0;top:0;z-index:2;overflow:visible;border-bottom:var(--border-size) solid var(--border-color);border-radius:0 0 var(--skintone-border-radius) var(--skintone-border-radius);will-change:transform;transition:transform .2s ease-in-out;transform-origin:center 0}@media (prefers-reduced-motion:reduce){.skintone-list{transition-duration:.001s}}@supports not (inset-inline-end:0){.skintone-list{right:0}}.skintone-list.no-animate{transition:none}.tabpanel{overflow-y:auto;scrollbar-gutter:stable;-webkit-overflow-scrolling:touch;will-change:transform;min-height:0;flex:1;contain:content}.emoji-menu{display:grid;grid-template-columns:repeat(var(--num-columns),var(--total-emoji-size));justify-content:space-around;align-items:flex-start;width:100%}.emoji-menu.visibility-auto{content-visibility:auto;contain-intrinsic-size:calc(var(--num-columns)*var(--total-emoji-size)) calc(var(--num-rows)*var(--total-emoji-size))}.category{padding:var(--emoji-padding);font-size:var(--category-font-size);color:var(--category-font-color)}.emoji,button.emoji{font-size:var(--emoji-size);display:flex;align-items:center;justify-content:center;border-radius:100%;height:var(--total-emoji-size);width:var(--total-emoji-size);line-height:1;overflow:hidden;font-family:var(--emoji-font-family);cursor:pointer}@media (hover:hover) and (pointer:fine){.emoji:hover,button.emoji:hover{background:var(--button-hover-background)}}.emoji.active,.emoji:active,button.emoji.active,button.emoji:active{background:var(--button-active-background)}.onscreen .custom-emoji::after{content:"";width:var(--emoji-size);height:var(--emoji-size);background-repeat:no-repeat;background-position:center center;background-size:contain;background-image:var(--custom-emoji-background)}.nav,.nav-button{align-items:center}.nav{display:grid;justify-content:space-between;contain:content}.nav-button{display:flex;justify-content:center}.nav-emoji{font-size:var(--category-emoji-size);width:var(--total-category-emoji-size);height:var(--total-category-emoji-size)}.indicator-wrapper{display:flex;border-bottom:1px solid var(--border-color)}.indicator{width:calc(100%/var(--num-groups));height:var(--indicator-height);opacity:var(--indicator-opacity);background-color:var(--indicator-color);will-change:transform,opacity;transition:opacity .1s linear,transform .25s ease-in-out}@media (prefers-reduced-motion:reduce){.indicator{will-change:opacity;transition:opacity .1s linear}}.pad-top,input.search{background:var(--background);width:100%}.pad-top{height:var(--emoji-padding);z-index:3}.search-row{display:flex;align-items:center;position:relative;padding-inline-start:var(--emoji-padding);padding-bottom:var(--emoji-padding)}.search-wrapper{flex:1;min-width:0}input.search{padding:var(--input-padding);border-radius:var(--input-border-radius);border:var(--input-border-size) solid var(--input-border-color);color:var(--input-font-color);font-size:var(--input-font-size);line-height:var(--input-line-height)}input.search::placeholder{color:var(--input-placeholder-color)}.favorites{overflow-y:auto;scrollbar-gutter:stable;display:flex;flex-direction:row;border-top:var(--border-size) solid var(--border-color);contain:content}.message{padding:var(--emoji-padding)}`;let Yt=[`customEmoji`,`customCategorySorting`,`database`,`dataSource`,`i18n`,`locale`,`skinToneEmoji`,`emojiVersion`],Xt=`:host{--emoji-font-family:${at}}`;var Zt=class extends HTMLElement{constructor(e){super(),this.attachShadow({mode:`open`});let t=document.createElement(`style`);t.textContent=Jt+Xt,this.shadowRoot.appendChild(t),this._ctx={locale:`en`,dataSource:`https://cdn.jsdelivr.net/npm/emoji-picker-element-data@^1/en/emojibase/data.json`,skinToneEmoji:`üñêÔ∏è`,customCategorySorting:ot,customEmoji:null,i18n:qt,emojiVersion:null,...e};for(let e of Yt)e!==`database`&&Object.prototype.hasOwnProperty.call(this,e)&&(this._ctx[e]=this[e],delete this[e]);this._dbFlush()}connectedCallback(){$t(this),this._cmp||=Kt(this.shadowRoot,this._ctx)}disconnectedCallback(){$t(this),Q(()=>{if(!this.isConnected&&this._cmp){this._cmp.$destroy(),this._cmp=void 0;let{database:e}=this._ctx;e.close().catch(e=>console.error(e))}})}static get observedAttributes(){return[`locale`,`data-source`,`skin-tone-emoji`,`emoji-version`]}attributeChangedCallback(e,t,n){this._set(e.replace(/-([a-z])/g,(e,t)=>t.toUpperCase()),e===`emoji-version`?parseFloat(n):n)}_set(e,t){this._ctx[e]=t,this._cmp&&this._cmp.$set({[e]:t}),[`locale`,`dataSource`].includes(e)&&this._dbFlush()}_dbCreate(){let{locale:e,dataSource:t,database:n}=this._ctx;(!n||n.locale!==e||n.dataSource!==t)&&this._set(`database`,new $e({locale:e,dataSource:t}))}_dbFlush(){Q(()=>this._dbCreate())}};let Qt={};for(let e of Yt)Qt[e]={get(){return e===`database`&&this._dbCreate(),this._ctx[e]},set(t){if(e===`database`)throw Error(`database is read-only`);this._set(e,t)}};Object.defineProperties(Zt.prototype,Qt);function $t(e){e instanceof Zt||Object.setPrototypeOf(e,customElements.get(e.tagName.toLowerCase()).prototype)}customElements.get(`emoji-picker`)||customElements.define(`emoji-picker`,Zt);var en=class extends T{connect(){let e=this.element.querySelector(`emoji-picker`),t=e.shadowRoot;e.addEventListener(`focusout`,e=>e.stopPropagation()),this.element.addEventListener(`open`,()=>{t.querySelector(`input`)?.focus()})}};window.Stimulus.register(`emoji-picker`,en)})();