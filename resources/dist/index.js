/*! For license information please see index.js.LICENSE.txt */
(()=>{var t,e={6599:(t,e,n)=>{"use strict";n.d(e,{Mx:()=>$,Qr:()=>Z});class r{constructor(t,e,n){this.eventTarget=t,this.eventName=e,this.eventOptions=n,this.unorderedBindings=new Set}connect(){this.eventTarget.addEventListener(this.eventName,this,this.eventOptions)}disconnect(){this.eventTarget.removeEventListener(this.eventName,this,this.eventOptions)}bindingConnected(t){this.unorderedBindings.add(t)}bindingDisconnected(t){this.unorderedBindings.delete(t)}handleEvent(t){const e=function(t){if("immediatePropagationStopped"in t)return t;{const{stopImmediatePropagation:e}=t;return Object.assign(t,{immediatePropagationStopped:!1,stopImmediatePropagation(){this.immediatePropagationStopped=!0,e.call(this)}})}}(t);for(const t of this.bindings){if(e.immediatePropagationStopped)break;t.handleEvent(e)}}hasBindings(){return this.unorderedBindings.size>0}get bindings(){return Array.from(this.unorderedBindings).sort(((t,e)=>{const n=t.index,r=e.index;return n<r?-1:n>r?1:0}))}}class o{constructor(t){this.application=t,this.eventListenerMaps=new Map,this.started=!1}start(){this.started||(this.started=!0,this.eventListeners.forEach((t=>t.connect())))}stop(){this.started&&(this.started=!1,this.eventListeners.forEach((t=>t.disconnect())))}get eventListeners(){return Array.from(this.eventListenerMaps.values()).reduce(((t,e)=>t.concat(Array.from(e.values()))),[])}bindingConnected(t){this.fetchEventListenerForBinding(t).bindingConnected(t)}bindingDisconnected(t,e=!1){this.fetchEventListenerForBinding(t).bindingDisconnected(t),e&&this.clearEventListenersForBinding(t)}handleError(t,e,n={}){this.application.handleError(t,`Error ${e}`,n)}clearEventListenersForBinding(t){const e=this.fetchEventListenerForBinding(t);e.hasBindings()||(e.disconnect(),this.removeMappedEventListenerFor(t))}removeMappedEventListenerFor(t){const{eventTarget:e,eventName:n,eventOptions:r}=t,o=this.fetchEventListenerMapForEventTarget(e),i=this.cacheKey(n,r);o.delete(i),0==o.size&&this.eventListenerMaps.delete(e)}fetchEventListenerForBinding(t){const{eventTarget:e,eventName:n,eventOptions:r}=t;return this.fetchEventListener(e,n,r)}fetchEventListener(t,e,n){const r=this.fetchEventListenerMapForEventTarget(t),o=this.cacheKey(e,n);let i=r.get(o);return i||(i=this.createEventListener(t,e,n),r.set(o,i)),i}createEventListener(t,e,n){const o=new r(t,e,n);return this.started&&o.connect(),o}fetchEventListenerMapForEventTarget(t){let e=this.eventListenerMaps.get(t);return e||(e=new Map,this.eventListenerMaps.set(t,e)),e}cacheKey(t,e){const n=[t];return Object.keys(e).sort().forEach((t=>{n.push(`${e[t]?"":"!"}${t}`)})),n.join(":")}}const i={stop:({event:t,value:e})=>(e&&t.stopPropagation(),!0),prevent:({event:t,value:e})=>(e&&t.preventDefault(),!0),self:({event:t,value:e,element:n})=>!e||n===t.target},s=/^((.+?)(@(window|document))?->)?(.+?)(#([^:]+?))(:(.+))?$/;function a(t){return"window"==t?window:"document"==t?document:void 0}function c(t){return t.replace(/(?:[_-])([a-z0-9])/g,((t,e)=>e.toUpperCase()))}function u(t){return t.charAt(0).toUpperCase()+t.slice(1)}function l(t){return t.replace(/([A-Z])/g,((t,e)=>`-${e.toLowerCase()}`))}class h{constructor(t,e,n){this.element=t,this.index=e,this.eventTarget=n.eventTarget||t,this.eventName=n.eventName||function(t){const e=t.tagName.toLowerCase();if(e in f)return f[e](t)}(t)||d("missing event name"),this.eventOptions=n.eventOptions||{},this.identifier=n.identifier||d("missing identifier"),this.methodName=n.methodName||d("missing method name")}static forToken(t){return new this(t.element,t.index,function(t){const e=t.trim().match(s)||[];return{eventTarget:a(e[4]),eventName:e[2],eventOptions:e[9]?(n=e[9],n.split(":").reduce(((t,e)=>Object.assign(t,{[e.replace(/^!/,"")]:!/^!/.test(e)})),{})):{},identifier:e[5],methodName:e[7]};var n}(t.content))}toString(){const t=this.eventTargetName?`@${this.eventTargetName}`:"";return`${this.eventName}${t}->${this.identifier}#${this.methodName}`}get params(){const t={},e=new RegExp(`^data-${this.identifier}-(.+)-param$`,"i");for(const{name:n,value:r}of Array.from(this.element.attributes)){const o=n.match(e),i=o&&o[1];i&&(t[c(i)]=p(r))}return t}get eventTargetName(){return(t=this.eventTarget)==window?"window":t==document?"document":void 0;var t}}const f={a:()=>"click",button:()=>"click",form:()=>"submit",details:()=>"toggle",input:t=>"submit"==t.getAttribute("type")?"click":"input",select:()=>"change",textarea:()=>"input"};function d(t){throw new Error(t)}function p(t){try{return JSON.parse(t)}catch(e){return t}}class m{constructor(t,e){this.context=t,this.action=e}get index(){return this.action.index}get eventTarget(){return this.action.eventTarget}get eventOptions(){return this.action.eventOptions}get identifier(){return this.context.identifier}handleEvent(t){this.willBeInvokedByEvent(t)&&this.applyEventModifiers(t)&&this.invokeWithEvent(t)}get eventName(){return this.action.eventName}get method(){const t=this.controller[this.methodName];if("function"==typeof t)return t;throw new Error(`Action "${this.action}" references undefined method "${this.methodName}"`)}applyEventModifiers(t){const{element:e}=this.action,{actionDescriptorFilters:n}=this.context.application;let r=!0;for(const[o,i]of Object.entries(this.eventOptions))if(o in n){const s=n[o];r=r&&s({name:o,value:i,event:t,element:e})}return r}invokeWithEvent(t){const{target:e,currentTarget:n}=t;try{const{params:r}=this.action,o=Object.assign(t,{params:r});this.method.call(this.controller,o),this.context.logDebugActivity(this.methodName,{event:t,target:e,currentTarget:n,action:this.methodName})}catch(e){const{identifier:n,controller:r,element:o,index:i}=this,s={identifier:n,controller:r,element:o,index:i,event:t};this.context.handleError(e,`invoking action "${this.action}"`,s)}}willBeInvokedByEvent(t){const e=t.target;return this.element===e||(e instanceof Element&&this.element.contains(e)?this.scope.containsElement(e):this.scope.containsElement(this.action.element))}get controller(){return this.context.controller}get methodName(){return this.action.methodName}get element(){return this.scope.element}get scope(){return this.context.scope}}class y{constructor(t,e){this.mutationObserverInit={attributes:!0,childList:!0,subtree:!0},this.element=t,this.started=!1,this.delegate=e,this.elements=new Set,this.mutationObserver=new MutationObserver((t=>this.processMutations(t)))}start(){this.started||(this.started=!0,this.mutationObserver.observe(this.element,this.mutationObserverInit),this.refresh())}pause(t){this.started&&(this.mutationObserver.disconnect(),this.started=!1),t(),this.started||(this.mutationObserver.observe(this.element,this.mutationObserverInit),this.started=!0)}stop(){this.started&&(this.mutationObserver.takeRecords(),this.mutationObserver.disconnect(),this.started=!1)}refresh(){if(this.started){const t=new Set(this.matchElementsInTree());for(const e of Array.from(this.elements))t.has(e)||this.removeElement(e);for(const e of Array.from(t))this.addElement(e)}}processMutations(t){if(this.started)for(const e of t)this.processMutation(e)}processMutation(t){"attributes"==t.type?this.processAttributeChange(t.target,t.attributeName):"childList"==t.type&&(this.processRemovedNodes(t.removedNodes),this.processAddedNodes(t.addedNodes))}processAttributeChange(t,e){const n=t;this.elements.has(n)?this.delegate.elementAttributeChanged&&this.matchElement(n)?this.delegate.elementAttributeChanged(n,e):this.removeElement(n):this.matchElement(n)&&this.addElement(n)}processRemovedNodes(t){for(const e of Array.from(t)){const t=this.elementFromNode(e);t&&this.processTree(t,this.removeElement)}}processAddedNodes(t){for(const e of Array.from(t)){const t=this.elementFromNode(e);t&&this.elementIsActive(t)&&this.processTree(t,this.addElement)}}matchElement(t){return this.delegate.matchElement(t)}matchElementsInTree(t=this.element){return this.delegate.matchElementsInTree(t)}processTree(t,e){for(const n of this.matchElementsInTree(t))e.call(this,n)}elementFromNode(t){if(t.nodeType==Node.ELEMENT_NODE)return t}elementIsActive(t){return t.isConnected==this.element.isConnected&&this.element.contains(t)}addElement(t){this.elements.has(t)||this.elementIsActive(t)&&(this.elements.add(t),this.delegate.elementMatched&&this.delegate.elementMatched(t))}removeElement(t){this.elements.has(t)&&(this.elements.delete(t),this.delegate.elementUnmatched&&this.delegate.elementUnmatched(t))}}class v{constructor(t,e,n){this.attributeName=e,this.delegate=n,this.elementObserver=new y(t,this)}get element(){return this.elementObserver.element}get selector(){return`[${this.attributeName}]`}start(){this.elementObserver.start()}pause(t){this.elementObserver.pause(t)}stop(){this.elementObserver.stop()}refresh(){this.elementObserver.refresh()}get started(){return this.elementObserver.started}matchElement(t){return t.hasAttribute(this.attributeName)}matchElementsInTree(t){const e=this.matchElement(t)?[t]:[],n=Array.from(t.querySelectorAll(this.selector));return e.concat(n)}elementMatched(t){this.delegate.elementMatchedAttribute&&this.delegate.elementMatchedAttribute(t,this.attributeName)}elementUnmatched(t){this.delegate.elementUnmatchedAttribute&&this.delegate.elementUnmatchedAttribute(t,this.attributeName)}elementAttributeChanged(t,e){this.delegate.elementAttributeValueChanged&&this.attributeName==e&&this.delegate.elementAttributeValueChanged(t,e)}}class g{constructor(t,e){this.element=t,this.delegate=e,this.started=!1,this.stringMap=new Map,this.mutationObserver=new MutationObserver((t=>this.processMutations(t)))}start(){this.started||(this.started=!0,this.mutationObserver.observe(this.element,{attributes:!0,attributeOldValue:!0}),this.refresh())}stop(){this.started&&(this.mutationObserver.takeRecords(),this.mutationObserver.disconnect(),this.started=!1)}refresh(){if(this.started)for(const t of this.knownAttributeNames)this.refreshAttribute(t,null)}processMutations(t){if(this.started)for(const e of t)this.processMutation(e)}processMutation(t){const e=t.attributeName;e&&this.refreshAttribute(e,t.oldValue)}refreshAttribute(t,e){const n=this.delegate.getStringMapKeyForAttribute(t);if(null!=n){this.stringMap.has(t)||this.stringMapKeyAdded(n,t);const r=this.element.getAttribute(t);if(this.stringMap.get(t)!=r&&this.stringMapValueChanged(r,n,e),null==r){const e=this.stringMap.get(t);this.stringMap.delete(t),e&&this.stringMapKeyRemoved(n,t,e)}else this.stringMap.set(t,r)}}stringMapKeyAdded(t,e){this.delegate.stringMapKeyAdded&&this.delegate.stringMapKeyAdded(t,e)}stringMapValueChanged(t,e,n){this.delegate.stringMapValueChanged&&this.delegate.stringMapValueChanged(t,e,n)}stringMapKeyRemoved(t,e,n){this.delegate.stringMapKeyRemoved&&this.delegate.stringMapKeyRemoved(t,e,n)}get knownAttributeNames(){return Array.from(new Set(this.currentAttributeNames.concat(this.recordedAttributeNames)))}get currentAttributeNames(){return Array.from(this.element.attributes).map((t=>t.name))}get recordedAttributeNames(){return Array.from(this.stringMap.keys())}}function b(t,e,n){E(t,e).add(n)}function w(t,e,n){E(t,e).delete(n),function(t,e){const n=t.get(e);null!=n&&0==n.size&&t.delete(e)}(t,e)}function E(t,e){let n=t.get(e);return n||(n=new Set,t.set(e,n)),n}class S{constructor(){this.valuesByKey=new Map}get keys(){return Array.from(this.valuesByKey.keys())}get values(){return Array.from(this.valuesByKey.values()).reduce(((t,e)=>t.concat(Array.from(e))),[])}get size(){return Array.from(this.valuesByKey.values()).reduce(((t,e)=>t+e.size),0)}add(t,e){b(this.valuesByKey,t,e)}delete(t,e){w(this.valuesByKey,t,e)}has(t,e){const n=this.valuesByKey.get(t);return null!=n&&n.has(e)}hasKey(t){return this.valuesByKey.has(t)}hasValue(t){return Array.from(this.valuesByKey.values()).some((e=>e.has(t)))}getValuesForKey(t){const e=this.valuesByKey.get(t);return e?Array.from(e):[]}getKeysForValue(t){return Array.from(this.valuesByKey).filter((([e,n])=>n.has(t))).map((([t,e])=>t))}}class k{constructor(t,e,n){this.attributeObserver=new v(t,e,this),this.delegate=n,this.tokensByElement=new S}get started(){return this.attributeObserver.started}start(){this.attributeObserver.start()}pause(t){this.attributeObserver.pause(t)}stop(){this.attributeObserver.stop()}refresh(){this.attributeObserver.refresh()}get element(){return this.attributeObserver.element}get attributeName(){return this.attributeObserver.attributeName}elementMatchedAttribute(t){this.tokensMatched(this.readTokensForElement(t))}elementAttributeValueChanged(t){const[e,n]=this.refreshTokensForElement(t);this.tokensUnmatched(e),this.tokensMatched(n)}elementUnmatchedAttribute(t){this.tokensUnmatched(this.tokensByElement.getValuesForKey(t))}tokensMatched(t){t.forEach((t=>this.tokenMatched(t)))}tokensUnmatched(t){t.forEach((t=>this.tokenUnmatched(t)))}tokenMatched(t){this.delegate.tokenMatched(t),this.tokensByElement.add(t.element,t)}tokenUnmatched(t){this.delegate.tokenUnmatched(t),this.tokensByElement.delete(t.element,t)}refreshTokensForElement(t){const e=this.tokensByElement.getValuesForKey(t),n=this.readTokensForElement(t),r=function(t,e){const n=Math.max(t.length,e.length);return Array.from({length:n},((n,r)=>[t[r],e[r]]))}(e,n).findIndex((([t,e])=>{return r=e,!((n=t)&&r&&n.index==r.index&&n.content==r.content);var n,r}));return-1==r?[[],[]]:[e.slice(r),n.slice(r)]}readTokensForElement(t){const e=this.attributeName;return function(t,e,n){return t.trim().split(/\s+/).filter((t=>t.length)).map(((t,r)=>({element:e,attributeName:n,content:t,index:r})))}(t.getAttribute(e)||"",t,e)}}class T{constructor(t,e,n){this.tokenListObserver=new k(t,e,this),this.delegate=n,this.parseResultsByToken=new WeakMap,this.valuesByTokenByElement=new WeakMap}get started(){return this.tokenListObserver.started}start(){this.tokenListObserver.start()}stop(){this.tokenListObserver.stop()}refresh(){this.tokenListObserver.refresh()}get element(){return this.tokenListObserver.element}get attributeName(){return this.tokenListObserver.attributeName}tokenMatched(t){const{element:e}=t,{value:n}=this.fetchParseResultForToken(t);n&&(this.fetchValuesByTokenForElement(e).set(t,n),this.delegate.elementMatchedValue(e,n))}tokenUnmatched(t){const{element:e}=t,{value:n}=this.fetchParseResultForToken(t);n&&(this.fetchValuesByTokenForElement(e).delete(t),this.delegate.elementUnmatchedValue(e,n))}fetchParseResultForToken(t){let e=this.parseResultsByToken.get(t);return e||(e=this.parseToken(t),this.parseResultsByToken.set(t,e)),e}fetchValuesByTokenForElement(t){let e=this.valuesByTokenByElement.get(t);return e||(e=new Map,this.valuesByTokenByElement.set(t,e)),e}parseToken(t){try{return{value:this.delegate.parseValueForToken(t)}}catch(t){return{error:t}}}}class O{constructor(t,e){this.context=t,this.delegate=e,this.bindingsByAction=new Map}start(){this.valueListObserver||(this.valueListObserver=new T(this.element,this.actionAttribute,this),this.valueListObserver.start())}stop(){this.valueListObserver&&(this.valueListObserver.stop(),delete this.valueListObserver,this.disconnectAllActions())}get element(){return this.context.element}get identifier(){return this.context.identifier}get actionAttribute(){return this.schema.actionAttribute}get schema(){return this.context.schema}get bindings(){return Array.from(this.bindingsByAction.values())}connectAction(t){const e=new m(this.context,t);this.bindingsByAction.set(t,e),this.delegate.bindingConnected(e)}disconnectAction(t){const e=this.bindingsByAction.get(t);e&&(this.bindingsByAction.delete(t),this.delegate.bindingDisconnected(e))}disconnectAllActions(){this.bindings.forEach((t=>this.delegate.bindingDisconnected(t,!0))),this.bindingsByAction.clear()}parseValueForToken(t){const e=h.forToken(t);if(e.identifier==this.identifier)return e}elementMatchedValue(t,e){this.connectAction(e)}elementUnmatchedValue(t,e){this.disconnectAction(e)}}class x{constructor(t,e){this.context=t,this.receiver=e,this.stringMapObserver=new g(this.element,this),this.valueDescriptorMap=this.controller.valueDescriptorMap}start(){this.stringMapObserver.start(),this.invokeChangedCallbacksForDefaultValues()}stop(){this.stringMapObserver.stop()}get element(){return this.context.element}get controller(){return this.context.controller}getStringMapKeyForAttribute(t){if(t in this.valueDescriptorMap)return this.valueDescriptorMap[t].name}stringMapKeyAdded(t,e){const n=this.valueDescriptorMap[e];this.hasValue(t)||this.invokeChangedCallback(t,n.writer(this.receiver[t]),n.writer(n.defaultValue))}stringMapValueChanged(t,e,n){const r=this.valueDescriptorNameMap[e];null!==t&&(null===n&&(n=r.writer(r.defaultValue)),this.invokeChangedCallback(e,t,n))}stringMapKeyRemoved(t,e,n){const r=this.valueDescriptorNameMap[t];this.hasValue(t)?this.invokeChangedCallback(t,r.writer(this.receiver[t]),n):this.invokeChangedCallback(t,r.writer(r.defaultValue),n)}invokeChangedCallbacksForDefaultValues(){for(const{key:t,name:e,defaultValue:n,writer:r}of this.valueDescriptors)null==n||this.controller.data.has(t)||this.invokeChangedCallback(e,r(n),void 0)}invokeChangedCallback(t,e,n){const r=`${t}Changed`,o=this.receiver[r];if("function"==typeof o){const r=this.valueDescriptorNameMap[t];try{const t=r.reader(e);let i=n;n&&(i=r.reader(n)),o.call(this.receiver,t,i)}catch(t){throw t instanceof TypeError&&(t.message=`Stimulus Value "${this.context.identifier}.${r.name}" - ${t.message}`),t}}}get valueDescriptors(){const{valueDescriptorMap:t}=this;return Object.keys(t).map((e=>t[e]))}get valueDescriptorNameMap(){const t={};return Object.keys(this.valueDescriptorMap).forEach((e=>{const n=this.valueDescriptorMap[e];t[n.name]=n})),t}hasValue(t){const e=`has${u(this.valueDescriptorNameMap[t].name)}`;return this.receiver[e]}}class L{constructor(t,e){this.context=t,this.delegate=e,this.targetsByName=new S}start(){this.tokenListObserver||(this.tokenListObserver=new k(this.element,this.attributeName,this),this.tokenListObserver.start())}stop(){this.tokenListObserver&&(this.disconnectAllTargets(),this.tokenListObserver.stop(),delete this.tokenListObserver)}tokenMatched({element:t,content:e}){this.scope.containsElement(t)&&this.connectTarget(t,e)}tokenUnmatched({element:t,content:e}){this.disconnectTarget(t,e)}connectTarget(t,e){var n;this.targetsByName.has(e,t)||(this.targetsByName.add(e,t),null===(n=this.tokenListObserver)||void 0===n||n.pause((()=>this.delegate.targetConnected(t,e))))}disconnectTarget(t,e){var n;this.targetsByName.has(e,t)&&(this.targetsByName.delete(e,t),null===(n=this.tokenListObserver)||void 0===n||n.pause((()=>this.delegate.targetDisconnected(t,e))))}disconnectAllTargets(){for(const t of this.targetsByName.keys)for(const e of this.targetsByName.getValuesForKey(t))this.disconnectTarget(e,t)}get attributeName(){return`data-${this.context.identifier}-target`}get element(){return this.context.element}get scope(){return this.context.scope}}class A{constructor(t,e){this.logDebugActivity=(t,e={})=>{const{identifier:n,controller:r,element:o}=this;e=Object.assign({identifier:n,controller:r,element:o},e),this.application.logDebugActivity(this.identifier,t,e)},this.module=t,this.scope=e,this.controller=new t.controllerConstructor(this),this.bindingObserver=new O(this,this.dispatcher),this.valueObserver=new x(this,this.controller),this.targetObserver=new L(this,this);try{this.controller.initialize(),this.logDebugActivity("initialize")}catch(t){this.handleError(t,"initializing controller")}}connect(){this.bindingObserver.start(),this.valueObserver.start(),this.targetObserver.start();try{this.controller.connect(),this.logDebugActivity("connect")}catch(t){this.handleError(t,"connecting controller")}}disconnect(){try{this.controller.disconnect(),this.logDebugActivity("disconnect")}catch(t){this.handleError(t,"disconnecting controller")}this.targetObserver.stop(),this.valueObserver.stop(),this.bindingObserver.stop()}get application(){return this.module.application}get identifier(){return this.module.identifier}get schema(){return this.application.schema}get dispatcher(){return this.application.dispatcher}get element(){return this.scope.element}get parentElement(){return this.element.parentElement}handleError(t,e,n={}){const{identifier:r,controller:o,element:i}=this;n=Object.assign({identifier:r,controller:o,element:i},n),this.application.handleError(t,`Error ${e}`,n)}targetConnected(t,e){this.invokeControllerMethod(`${e}TargetConnected`,t)}targetDisconnected(t,e){this.invokeControllerMethod(`${e}TargetDisconnected`,t)}invokeControllerMethod(t,...e){const n=this.controller;"function"==typeof n[t]&&n[t](...e)}}function C(t,e){const n=R(t);return Array.from(n.reduce(((t,n)=>(function(t,e){const n=t[e];return Array.isArray(n)?n:[]}(n,e).forEach((e=>t.add(e))),t)),new Set))}function P(t,e){return R(t).reduce(((t,n)=>(t.push(...function(t,e){const n=t[e];return n?Object.keys(n).map((t=>[t,n[t]])):[]}(n,e)),t)),[])}function R(t){const e=[];for(;t;)e.push(t),t=Object.getPrototypeOf(t);return e.reverse()}function _(t){return function(t,e){const n=M(t),r=function(t,e){return j(e).reduce(((n,r)=>{const o=function(t,e,n){const r=Object.getOwnPropertyDescriptor(t,n);if(!r||!("value"in r)){const t=Object.getOwnPropertyDescriptor(e,n).value;return r&&(t.get=r.get||t.get,t.set=r.set||t.set),t}}(t,e,r);return o&&Object.assign(n,{[r]:o}),n}),{})}(t.prototype,e);return Object.defineProperties(n.prototype,r),n}(t,function(t){return C(t,"blessings").reduce(((e,n)=>{const r=n(t);for(const t in r){const n=e[t]||{};e[t]=Object.assign(n,r[t])}return e}),{})}(t))}const j="function"==typeof Object.getOwnPropertySymbols?t=>[...Object.getOwnPropertyNames(t),...Object.getOwnPropertySymbols(t)]:Object.getOwnPropertyNames,M=(()=>{function t(t){function e(){return Reflect.construct(t,arguments,new.target)}return e.prototype=Object.create(t.prototype,{constructor:{value:e}}),Reflect.setPrototypeOf(e,t),e}try{return function(){const e=t((function(){this.a.call(this)}));e.prototype.a=function(){},new e}(),t}catch(t){return t=>class extends t{}}})();class N{constructor(t,e){this.application=t,this.definition=function(t){return{identifier:t.identifier,controllerConstructor:_(t.controllerConstructor)}}(e),this.contextsByScope=new WeakMap,this.connectedContexts=new Set}get identifier(){return this.definition.identifier}get controllerConstructor(){return this.definition.controllerConstructor}get contexts(){return Array.from(this.connectedContexts)}connectContextForScope(t){const e=this.fetchContextForScope(t);this.connectedContexts.add(e),e.connect()}disconnectContextForScope(t){const e=this.contextsByScope.get(t);e&&(this.connectedContexts.delete(e),e.disconnect())}fetchContextForScope(t){let e=this.contextsByScope.get(t);return e||(e=new A(this,t),this.contextsByScope.set(t,e)),e}}class I{constructor(t){this.scope=t}has(t){return this.data.has(this.getDataKey(t))}get(t){return this.getAll(t)[0]}getAll(t){const e=this.data.get(this.getDataKey(t))||"";return e.match(/[^\s]+/g)||[]}getAttributeName(t){return this.data.getAttributeNameForKey(this.getDataKey(t))}getDataKey(t){return`${t}-class`}get data(){return this.scope.data}}class D{constructor(t){this.scope=t}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get(t){const e=this.getAttributeNameForKey(t);return this.element.getAttribute(e)}set(t,e){const n=this.getAttributeNameForKey(t);return this.element.setAttribute(n,e),this.get(t)}has(t){const e=this.getAttributeNameForKey(t);return this.element.hasAttribute(e)}delete(t){if(this.has(t)){const e=this.getAttributeNameForKey(t);return this.element.removeAttribute(e),!0}return!1}getAttributeNameForKey(t){return`data-${this.identifier}-${l(t)}`}}class F{constructor(t){this.warnedKeysByObject=new WeakMap,this.logger=t}warn(t,e,n){let r=this.warnedKeysByObject.get(t);r||(r=new Set,this.warnedKeysByObject.set(t,r)),r.has(e)||(r.add(e),this.logger.warn(n,t))}}function B(t,e){return`[${t}~="${e}"]`}class H{constructor(t){this.scope=t}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get schema(){return this.scope.schema}has(t){return null!=this.find(t)}find(...t){return t.reduce(((t,e)=>t||this.findTarget(e)||this.findLegacyTarget(e)),void 0)}findAll(...t){return t.reduce(((t,e)=>[...t,...this.findAllTargets(e),...this.findAllLegacyTargets(e)]),[])}findTarget(t){const e=this.getSelectorForTargetName(t);return this.scope.findElement(e)}findAllTargets(t){const e=this.getSelectorForTargetName(t);return this.scope.findAllElements(e)}getSelectorForTargetName(t){return B(this.schema.targetAttributeForScope(this.identifier),t)}findLegacyTarget(t){const e=this.getLegacySelectorForTargetName(t);return this.deprecate(this.scope.findElement(e),t)}findAllLegacyTargets(t){const e=this.getLegacySelectorForTargetName(t);return this.scope.findAllElements(e).map((e=>this.deprecate(e,t)))}getLegacySelectorForTargetName(t){const e=`${this.identifier}.${t}`;return B(this.schema.targetAttribute,e)}deprecate(t,e){if(t){const{identifier:n}=this,r=this.schema.targetAttribute,o=this.schema.targetAttributeForScope(n);this.guide.warn(t,`target:${e}`,`Please replace ${r}="${n}.${e}" with ${o}="${e}". The ${r} attribute is deprecated and will be removed in a future version of Stimulus.`)}return t}get guide(){return this.scope.guide}}class q{constructor(t,e,n,r){this.targets=new H(this),this.classes=new I(this),this.data=new D(this),this.containsElement=t=>t.closest(this.controllerSelector)===this.element,this.schema=t,this.element=e,this.identifier=n,this.guide=new F(r)}findElement(t){return this.element.matches(t)?this.element:this.queryElements(t).find(this.containsElement)}findAllElements(t){return[...this.element.matches(t)?[this.element]:[],...this.queryElements(t).filter(this.containsElement)]}queryElements(t){return Array.from(this.element.querySelectorAll(t))}get controllerSelector(){return B(this.schema.controllerAttribute,this.identifier)}}class W{constructor(t,e,n){this.element=t,this.schema=e,this.delegate=n,this.valueListObserver=new T(this.element,this.controllerAttribute,this),this.scopesByIdentifierByElement=new WeakMap,this.scopeReferenceCounts=new WeakMap}start(){this.valueListObserver.start()}stop(){this.valueListObserver.stop()}get controllerAttribute(){return this.schema.controllerAttribute}parseValueForToken(t){const{element:e,content:n}=t,r=this.fetchScopesByIdentifierForElement(e);let o=r.get(n);return o||(o=this.delegate.createScopeForElementAndIdentifier(e,n),r.set(n,o)),o}elementMatchedValue(t,e){const n=(this.scopeReferenceCounts.get(e)||0)+1;this.scopeReferenceCounts.set(e,n),1==n&&this.delegate.scopeConnected(e)}elementUnmatchedValue(t,e){const n=this.scopeReferenceCounts.get(e);n&&(this.scopeReferenceCounts.set(e,n-1),1==n&&this.delegate.scopeDisconnected(e))}fetchScopesByIdentifierForElement(t){let e=this.scopesByIdentifierByElement.get(t);return e||(e=new Map,this.scopesByIdentifierByElement.set(t,e)),e}}class V{constructor(t){this.application=t,this.scopeObserver=new W(this.element,this.schema,this),this.scopesByIdentifier=new S,this.modulesByIdentifier=new Map}get element(){return this.application.element}get schema(){return this.application.schema}get logger(){return this.application.logger}get controllerAttribute(){return this.schema.controllerAttribute}get modules(){return Array.from(this.modulesByIdentifier.values())}get contexts(){return this.modules.reduce(((t,e)=>t.concat(e.contexts)),[])}start(){this.scopeObserver.start()}stop(){this.scopeObserver.stop()}loadDefinition(t){this.unloadIdentifier(t.identifier);const e=new N(this.application,t);this.connectModule(e)}unloadIdentifier(t){const e=this.modulesByIdentifier.get(t);e&&this.disconnectModule(e)}getContextForElementAndIdentifier(t,e){const n=this.modulesByIdentifier.get(e);if(n)return n.contexts.find((e=>e.element==t))}handleError(t,e,n){this.application.handleError(t,e,n)}createScopeForElementAndIdentifier(t,e){return new q(this.schema,t,e,this.logger)}scopeConnected(t){this.scopesByIdentifier.add(t.identifier,t);const e=this.modulesByIdentifier.get(t.identifier);e&&e.connectContextForScope(t)}scopeDisconnected(t){this.scopesByIdentifier.delete(t.identifier,t);const e=this.modulesByIdentifier.get(t.identifier);e&&e.disconnectContextForScope(t)}connectModule(t){this.modulesByIdentifier.set(t.identifier,t);this.scopesByIdentifier.getValuesForKey(t.identifier).forEach((e=>t.connectContextForScope(e)))}disconnectModule(t){this.modulesByIdentifier.delete(t.identifier);this.scopesByIdentifier.getValuesForKey(t.identifier).forEach((e=>t.disconnectContextForScope(e)))}}const U={controllerAttribute:"data-controller",actionAttribute:"data-action",targetAttribute:"data-target",targetAttributeForScope:t=>`data-${t}-target`};class ${constructor(t=document.documentElement,e=U){this.logger=console,this.debug=!1,this.logDebugActivity=(t,e,n={})=>{this.debug&&this.logFormattedMessage(t,e,n)},this.element=t,this.schema=e,this.dispatcher=new o(this),this.router=new V(this),this.actionDescriptorFilters=Object.assign({},i)}static start(t,e){const n=new $(t,e);return n.start(),n}async start(){await new Promise((t=>{"loading"==document.readyState?document.addEventListener("DOMContentLoaded",(()=>t())):t()})),this.logDebugActivity("application","starting"),this.dispatcher.start(),this.router.start(),this.logDebugActivity("application","start")}stop(){this.logDebugActivity("application","stopping"),this.dispatcher.stop(),this.router.stop(),this.logDebugActivity("application","stop")}register(t,e){this.load({identifier:t,controllerConstructor:e})}registerActionOption(t,e){this.actionDescriptorFilters[t]=e}load(t,...e){(Array.isArray(t)?t:[t,...e]).forEach((t=>{t.controllerConstructor.shouldLoad&&this.router.loadDefinition(t)}))}unload(t,...e){(Array.isArray(t)?t:[t,...e]).forEach((t=>this.router.unloadIdentifier(t)))}get controllers(){return this.router.contexts.map((t=>t.controller))}getControllerForElementAndIdentifier(t,e){const n=this.router.getContextForElementAndIdentifier(t,e);return n?n.controller:null}handleError(t,e,n){var r;this.logger.error("%s\n\n%o\n\n%o",e,t,n),null===(r=window.onerror)||void 0===r||r.call(window,e,"",0,0,t)}logFormattedMessage(t,e,n={}){n=Object.assign({application:this},n),this.logger.groupCollapsed(`${t} #${e}`),this.logger.log("details:",Object.assign({},n)),this.logger.groupEnd()}}function z([t,e],n){return function(t){const e=`${l(t.token)}-value`,n=function(t){const e=function(t){const e=K(t.typeObject.type);if(!e)return;const n=G(t.typeObject.default);if(e!==n){const r=t.controller?`${t.controller}.${t.token}`:t.token;throw new Error(`The specified default value for the Stimulus Value "${r}" must match the defined type "${e}". The provided default value of "${t.typeObject.default}" is of type "${n}".`)}return e}({controller:t.controller,token:t.token,typeObject:t.typeDefinition}),n=G(t.typeDefinition),r=K(t.typeDefinition),o=e||n||r;if(o)return o;const i=t.controller?`${t.controller}.${t.typeDefinition}`:t.token;throw new Error(`Unknown value type "${i}" for "${t.token}" value`)}(t);return{type:n,key:e,name:c(e),get defaultValue(){return function(t){const e=K(t);if(e)return X[e];const n=t.default;return void 0!==n?n:t}(t.typeDefinition)},get hasCustomDefaultValue(){return void 0!==G(t.typeDefinition)},reader:Y[n],writer:J[n]||J.default}}({controller:n,token:t,typeDefinition:e})}function K(t){switch(t){case Array:return"array";case Boolean:return"boolean";case Number:return"number";case Object:return"object";case String:return"string"}}function G(t){switch(typeof t){case"boolean":return"boolean";case"number":return"number";case"string":return"string"}return Array.isArray(t)?"array":"[object Object]"===Object.prototype.toString.call(t)?"object":void 0}const X={get array(){return[]},boolean:!1,number:0,get object(){return{}},string:""},Y={array(t){const e=JSON.parse(t);if(!Array.isArray(e))throw new TypeError(`expected value of type "array" but instead got value "${t}" of type "${G(e)}"`);return e},boolean:t=>!("0"==t||"false"==String(t).toLowerCase()),number:t=>Number(t),object(t){const e=JSON.parse(t);if(null===e||"object"!=typeof e||Array.isArray(e))throw new TypeError(`expected value of type "object" but instead got value "${t}" of type "${G(e)}"`);return e},string:t=>t},J={default:function(t){return`${t}`},array:Q,object:Q};function Q(t){return JSON.stringify(t)}class Z{constructor(t){this.context=t}static get shouldLoad(){return!0}get application(){return this.context.application}get scope(){return this.context.scope}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get targets(){return this.scope.targets}get classes(){return this.scope.classes}get data(){return this.scope.data}initialize(){}connect(){}disconnect(){}dispatch(t,{target:e=this.element,detail:n={},prefix:r=this.identifier,bubbles:o=!0,cancelable:i=!0}={}){const s=new CustomEvent(r?`${r}:${t}`:t,{detail:n,bubbles:o,cancelable:i});return e.dispatchEvent(s),s}}Z.blessings=[function(t){return C(t,"classes").reduce(((t,e)=>{return Object.assign(t,{[`${n=e}Class`]:{get(){const{classes:t}=this;if(t.has(n))return t.get(n);{const e=t.getAttributeName(n);throw new Error(`Missing attribute "${e}"`)}}},[`${n}Classes`]:{get(){return this.classes.getAll(n)}},[`has${u(n)}Class`]:{get(){return this.classes.has(n)}}});var n}),{})},function(t){return C(t,"targets").reduce(((t,e)=>{return Object.assign(t,{[`${n=e}Target`]:{get(){const t=this.targets.find(n);if(t)return t;throw new Error(`Missing target element "${n}" for "${this.identifier}" controller`)}},[`${n}Targets`]:{get(){return this.targets.findAll(n)}},[`has${u(n)}Target`]:{get(){return this.targets.has(n)}}});var n}),{})},function(t){const e=P(t,"values"),n={valueDescriptorMap:{get(){return e.reduce(((t,e)=>{const n=z(e,this.identifier),r=this.data.getAttributeNameForKey(n.key);return Object.assign(t,{[r]:n})}),{})}}};return e.reduce(((t,e)=>Object.assign(t,function(t,e){const n=z(t,e),{key:r,name:o,reader:i,writer:s}=n;return{[o]:{get(){const t=this.data.get(r);return null!==t?i(t):n.defaultValue},set(t){void 0===t?this.data.delete(r):this.data.set(r,s(t))}},[`has${u(o)}`]:{get(){return this.data.has(r)||n.hasCustomDefaultValue}}}}(e))),n)}],Z.targets=[],Z.values={}},6184:(t,e,n)=>{"use strict";n.r(e),n.d(e,{FrameElement:()=>h,FrameLoadingStyle:()=>i,FrameRenderer:()=>Y,PageRenderer:()=>vt,PageSnapshot:()=>et,StreamActions:()=>kt,StreamElement:()=>Ht,StreamSourceElement:()=>qt,cache:()=>Ot,clearCache:()=>jt,connectStreamSource:()=>Pt,disconnectStreamSource:()=>Rt,navigator:()=>xt,registerAdapter:()=>At,renderStreamMessage:()=>_t,session:()=>Tt,setConfirmMethod:()=>Nt,setFormMode:()=>It,setProgressBarDelay:()=>Mt,start:()=>Lt,visit:()=>Ct}),function(){if(void 0===window.Reflect||void 0===window.customElements||window.customElements.polyfillWrapFlushCallback)return;const t=HTMLElement,e=function(){return Reflect.construct(t,[],this.constructor)};window.HTMLElement=e,HTMLElement.prototype=t.prototype,HTMLElement.prototype.constructor=HTMLElement,Object.setPrototypeOf(HTMLElement,t)}(),function(t){function e(t,e,n){throw new t("Failed to execute 'requestSubmit' on 'HTMLFormElement': "+e+".",n)}"function"!=typeof t.requestSubmit&&(t.requestSubmit=function(t){t?(!function(t,n){t instanceof HTMLElement||e(TypeError,"parameter 1 is not of type 'HTMLElement'"),"submit"==t.type||e(TypeError,"The specified element is not a submit button"),t.form==n||e(DOMException,"The specified element is not owned by this form element","NotFoundError")}(t,this),t.click()):((t=document.createElement("input")).type="submit",t.hidden=!0,this.appendChild(t),t.click(),this.removeChild(t))})}(HTMLFormElement.prototype);const r=new WeakMap;function o(t){const e=function(t){const e=t instanceof Element?t:t instanceof Node?t.parentElement:null,n=e?e.closest("input, button"):null;return"submit"==(null==n?void 0:n.type)?n:null}(t.target);e&&e.form&&r.set(e.form,e)}var i,s,a,c,u,l;!function(){if("submitter"in Event.prototype)return;let t;if("SubmitEvent"in window&&/Apple Computer/.test(navigator.vendor))t=window.SubmitEvent.prototype;else{if("SubmitEvent"in window)return;t=window.Event.prototype}addEventListener("click",o,!0),Object.defineProperty(t,"submitter",{get(){if("submit"==this.type&&this.target instanceof HTMLFormElement)return r.get(this.target)}})}(),function(t){t.eager="eager",t.lazy="lazy"}(i||(i={}));class h extends HTMLElement{constructor(){super(),this.loaded=Promise.resolve(),this.delegate=new h.delegateConstructor(this)}static get observedAttributes(){return["disabled","complete","loading","src"]}connectedCallback(){this.delegate.connect()}disconnectedCallback(){this.delegate.disconnect()}reload(){return this.delegate.sourceURLReloaded()}attributeChangedCallback(t){"loading"==t?this.delegate.loadingStyleChanged():"complete"==t?this.delegate.completeChanged():"src"==t?this.delegate.sourceURLChanged():this.delegate.disabledChanged()}get src(){return this.getAttribute("src")}set src(t){t?this.setAttribute("src",t):this.removeAttribute("src")}get loading(){return function(t){if("lazy"===t.toLowerCase())return i.lazy;return i.eager}(this.getAttribute("loading")||"")}set loading(t){t?this.setAttribute("loading",t):this.removeAttribute("loading")}get disabled(){return this.hasAttribute("disabled")}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get autoscroll(){return this.hasAttribute("autoscroll")}set autoscroll(t){t?this.setAttribute("autoscroll",""):this.removeAttribute("autoscroll")}get complete(){return!this.delegate.isLoading}get isActive(){return this.ownerDocument===document&&!this.isPreview}get isPreview(){var t,e;return null===(e=null===(t=this.ownerDocument)||void 0===t?void 0:t.documentElement)||void 0===e?void 0:e.hasAttribute("data-turbo-preview")}}function f(t){return new URL(t.toString(),document.baseURI)}function d(t){let e;return t.hash?t.hash.slice(1):(e=t.href.match(/#(.*)$/))?e[1]:void 0}function p(t,e){return f((null==e?void 0:e.getAttribute("formaction"))||t.getAttribute("action")||t.action)}function m(t){return(function(t){return function(t){return t.pathname.split("/").slice(1)}(t).slice(-1)[0]}(t).match(/\.[^.]*$/)||[])[0]||""}function y(t,e){const n=function(t){return e=t.origin+t.pathname,e.endsWith("/")?e:e+"/";var e}(e);return t.href===f(n).href||t.href.startsWith(n)}function v(t,e){return y(t,e)&&!!m(t).match(/^(?:|\.(?:htm|html|xhtml|php))$/)}function g(t){const e=d(t);return null!=e?t.href.slice(0,-(e.length+1)):t.href}function b(t){return g(t)}class w{constructor(t){this.response=t}get succeeded(){return this.response.ok}get failed(){return!this.succeeded}get clientError(){return this.statusCode>=400&&this.statusCode<=499}get serverError(){return this.statusCode>=500&&this.statusCode<=599}get redirected(){return this.response.redirected}get location(){return f(this.response.url)}get isHTML(){return this.contentType&&this.contentType.match(/^(?:text\/([^\s;,]+\b)?html|application\/xhtml\+xml)\b/)}get statusCode(){return this.response.status}get contentType(){return this.header("Content-Type")}get responseText(){return this.response.clone().text()}get responseHTML(){return this.isHTML?this.response.clone().text():Promise.resolve(void 0)}header(t){return this.response.headers.get(t)}}function E(t){return"advance"==t||"replace"==t||"restore"==t}function S(t){if("false"==t.getAttribute("data-turbo-eval"))return t;{const e=document.createElement("script"),n=M("csp-nonce");return n&&(e.nonce=n),e.textContent=t.textContent,e.async=!1,function(t,e){for(const{name:n,value:r}of e.attributes)t.setAttribute(n,r)}(e,t),e}}function k(t,{target:e,cancelable:n,detail:r}={}){const o=new CustomEvent(t,{cancelable:n,bubbles:!0,detail:r});return e&&e.isConnected?e.dispatchEvent(o):document.documentElement.dispatchEvent(o),o}function T(){return new Promise((t=>requestAnimationFrame((()=>t()))))}function O(t=""){return(new DOMParser).parseFromString(t,"text/html")}function x(t,...e){const n=function(t,e){return t.reduce(((t,n,r)=>t+n+(null==e[r]?"":e[r])),"")}(t,e).replace(/^\n/,"").split("\n"),r=n[0].match(/^\s+/),o=r?r[0].length:0;return n.map((t=>t.slice(o))).join("\n")}function L(){return Array.from({length:36}).map(((t,e)=>8==e||13==e||18==e||23==e?"-":14==e?"4":19==e?(Math.floor(4*Math.random())+8).toString(16):Math.floor(15*Math.random()).toString(16))).join("")}function A(t,...e){for(const n of e.map((e=>null==e?void 0:e.getAttribute(t))))if("string"==typeof n)return n;return null}function C(...t){for(const e of t)"turbo-frame"==e.localName&&e.setAttribute("busy",""),e.setAttribute("aria-busy","true")}function P(...t){for(const e of t)"turbo-frame"==e.localName&&e.removeAttribute("busy"),e.removeAttribute("aria-busy")}function R(t,e=2e3){return new Promise((n=>{const r=()=>{t.removeEventListener("error",r),t.removeEventListener("load",r),n()};t.addEventListener("load",r,{once:!0}),t.addEventListener("error",r,{once:!0}),setTimeout(n,e)}))}function _(t){switch(t){case"replace":return history.replaceState;case"advance":case"restore":return history.pushState}}function j(t){return document.querySelector(`meta[name="${t}"]`)}function M(t){const e=j(t);return e&&e.content}!function(t){t[t.get=0]="get",t[t.post=1]="post",t[t.put=2]="put",t[t.patch=3]="patch",t[t.delete=4]="delete"}(s||(s={}));class N{constructor(t,e,n,r=new URLSearchParams,o=null){this.abortController=new AbortController,this.resolveRequestPromise=t=>{},this.delegate=t,this.method=e,this.headers=this.defaultHeaders,this.body=r,this.url=n,this.target=o}get location(){return this.url}get params(){return this.url.searchParams}get entries(){return this.body?Array.from(this.body.entries()):[]}cancel(){this.abortController.abort()}async perform(){var t,e;const{fetchOptions:n}=this;null===(e=(t=this.delegate).prepareHeadersForRequest)||void 0===e||e.call(t,this.headers,this),await this.allowRequestToBeIntercepted(n);try{this.delegate.requestStarted(this);const t=await fetch(this.url.href,n);return await this.receive(t)}catch(t){if("AbortError"!==t.name)throw this.willDelegateErrorHandling(t)&&this.delegate.requestErrored(this,t),t}finally{this.delegate.requestFinished(this)}}async receive(t){const e=new w(t);return k("turbo:before-fetch-response",{cancelable:!0,detail:{fetchResponse:e},target:this.target}).defaultPrevented?this.delegate.requestPreventedHandlingResponse(this,e):e.succeeded?this.delegate.requestSucceededWithResponse(this,e):this.delegate.requestFailedWithResponse(this,e),e}get fetchOptions(){var t;return{method:s[this.method].toUpperCase(),credentials:"same-origin",headers:this.headers,redirect:"follow",body:this.isIdempotent?null:this.body,signal:this.abortSignal,referrer:null===(t=this.delegate.referrer)||void 0===t?void 0:t.href}}get defaultHeaders(){return{Accept:"text/html, application/xhtml+xml"}}get isIdempotent(){return this.method==s.get}get abortSignal(){return this.abortController.signal}acceptResponseType(t){this.headers.Accept=[t,this.headers.Accept].join(", ")}async allowRequestToBeIntercepted(t){const e=new Promise((t=>this.resolveRequestPromise=t));k("turbo:before-fetch-request",{cancelable:!0,detail:{fetchOptions:t,url:this.url,resume:this.resolveRequestPromise},target:this.target}).defaultPrevented&&await e}willDelegateErrorHandling(t){return!k("turbo:fetch-request-error",{target:this.target,cancelable:!0,detail:{request:this,error:t}}).defaultPrevented}}class I{constructor(t,e){this.started=!1,this.intersect=t=>{const e=t.slice(-1)[0];(null==e?void 0:e.isIntersecting)&&this.delegate.elementAppearedInViewport(this.element)},this.delegate=t,this.element=e,this.intersectionObserver=new IntersectionObserver(this.intersect)}start(){this.started||(this.started=!0,this.intersectionObserver.observe(this.element))}stop(){this.started&&(this.started=!1,this.intersectionObserver.unobserve(this.element))}}class D{constructor(t){this.fragment=function(t){for(const e of t.querySelectorAll("turbo-stream")){const t=document.importNode(e,!0);for(const e of t.templateElement.content.querySelectorAll("script"))e.replaceWith(S(e));e.replaceWith(t)}return t}(t)}static wrap(t){return"string"==typeof t?new this(function(t){const e=document.createElement("template");return e.innerHTML=t,e.content}(t)):t}}D.contentType="text/vnd.turbo-stream.html",function(t){t[t.initialized=0]="initialized",t[t.requesting=1]="requesting",t[t.waiting=2]="waiting",t[t.receiving=3]="receiving",t[t.stopping=4]="stopping",t[t.stopped=5]="stopped"}(a||(a={})),function(t){t.urlEncoded="application/x-www-form-urlencoded",t.multipart="multipart/form-data",t.plain="text/plain"}(c||(c={}));class F{constructor(t,e,n,r=!1){this.state=a.initialized,this.delegate=t,this.formElement=e,this.submitter=n,this.formData=function(t,e){const n=new FormData(t),r=null==e?void 0:e.getAttribute("name"),o=null==e?void 0:e.getAttribute("value");r&&n.append(r,o||"");return n}(e,n),this.location=f(this.action),this.method==s.get&&function(t,e){const n=new URLSearchParams;for(const[t,r]of e)r instanceof File||n.append(t,r);t.search=n.toString()}(this.location,[...this.body.entries()]),this.fetchRequest=new N(this,this.method,this.location,this.body,this.formElement),this.mustRedirect=r}static confirmMethod(t,e,n){return Promise.resolve(confirm(t))}get method(){var t;return function(t){switch(t.toLowerCase()){case"get":return s.get;case"post":return s.post;case"put":return s.put;case"patch":return s.patch;case"delete":return s.delete}}(((null===(t=this.submitter)||void 0===t?void 0:t.getAttribute("formmethod"))||this.formElement.getAttribute("method")||"").toLowerCase())||s.get}get action(){var t;const e="string"==typeof this.formElement.action?this.formElement.action:null;return(null===(t=this.submitter)||void 0===t?void 0:t.hasAttribute("formaction"))?this.submitter.getAttribute("formaction")||"":this.formElement.getAttribute("action")||e||""}get body(){return this.enctype==c.urlEncoded||this.method==s.get?new URLSearchParams(this.stringFormData):this.formData}get enctype(){var t;return function(t){switch(t.toLowerCase()){case c.multipart:return c.multipart;case c.plain:return c.plain;default:return c.urlEncoded}}((null===(t=this.submitter)||void 0===t?void 0:t.getAttribute("formenctype"))||this.formElement.enctype)}get isIdempotent(){return this.fetchRequest.isIdempotent}get stringFormData(){return[...this.formData].reduce(((t,[e,n])=>t.concat("string"==typeof n?[[e,n]]:[])),[])}async start(){const{initialized:t,requesting:e}=a,n=A("data-turbo-confirm",this.submitter,this.formElement);if("string"==typeof n){if(!await F.confirmMethod(n,this.formElement,this.submitter))return}if(this.state==t)return this.state=e,this.fetchRequest.perform()}stop(){const{stopping:t,stopped:e}=a;if(this.state!=t&&this.state!=e)return this.state=t,this.fetchRequest.cancel(),!0}prepareHeadersForRequest(t,e){if(!e.isIdempotent){const e=function(t){if(null!=t){const e=(document.cookie?document.cookie.split("; "):[]).find((e=>e.startsWith(t)));if(e){const t=e.split("=").slice(1).join("=");return t?decodeURIComponent(t):void 0}}}(M("csrf-param"))||M("csrf-token");e&&(t["X-CSRF-Token"]=e)}this.requestAcceptsTurboStreamResponse(e)&&e.acceptResponseType(D.contentType)}requestStarted(t){var e;this.state=a.waiting,null===(e=this.submitter)||void 0===e||e.setAttribute("disabled",""),k("turbo:submit-start",{target:this.formElement,detail:{formSubmission:this}}),this.delegate.formSubmissionStarted(this)}requestPreventedHandlingResponse(t,e){this.result={success:e.succeeded,fetchResponse:e}}requestSucceededWithResponse(t,e){if(e.clientError||e.serverError)this.delegate.formSubmissionFailedWithResponse(this,e);else if(this.requestMustRedirect(t)&&function(t){return 200==t.statusCode&&!t.redirected}(e)){const t=new Error("Form responses must redirect to another location");this.delegate.formSubmissionErrored(this,t)}else this.state=a.receiving,this.result={success:!0,fetchResponse:e},this.delegate.formSubmissionSucceededWithResponse(this,e)}requestFailedWithResponse(t,e){this.result={success:!1,fetchResponse:e},this.delegate.formSubmissionFailedWithResponse(this,e)}requestErrored(t,e){this.result={success:!1,error:e},this.delegate.formSubmissionErrored(this,e)}requestFinished(t){var e;this.state=a.stopped,null===(e=this.submitter)||void 0===e||e.removeAttribute("disabled"),k("turbo:submit-end",{target:this.formElement,detail:Object.assign({formSubmission:this},this.result)}),this.delegate.formSubmissionFinished(this)}requestMustRedirect(t){return!t.isIdempotent&&this.mustRedirect}requestAcceptsTurboStreamResponse(t){return!t.isIdempotent||function(t,...e){return e.some((e=>e&&e.hasAttribute(t)))}("data-turbo-stream",this.submitter,this.formElement)}}class B{constructor(t){this.element=t}get activeElement(){return this.element.ownerDocument.activeElement}get children(){return[...this.element.children]}hasAnchor(t){return null!=this.getElementForAnchor(t)}getElementForAnchor(t){return t?this.element.querySelector(`[id='${t}'], a[name='${t}']`):null}get isConnected(){return this.element.isConnected}get firstAutofocusableElement(){for(const t of this.element.querySelectorAll("[autofocus]"))if(null==t.closest("[inert], :disabled, [hidden], details:not([open]), dialog:not([open])"))return t;return null}get permanentElements(){return q(this.element)}getPermanentElementById(t){return H(this.element,t)}getPermanentElementMapForSnapshot(t){const e={};for(const n of this.permanentElements){const{id:r}=n,o=t.getPermanentElementById(r);o&&(e[r]=[n,o])}return e}}function H(t,e){return t.querySelector(`#${e}[data-turbo-permanent]`)}function q(t){return t.querySelectorAll("[id][data-turbo-permanent]")}class W{constructor(t,e){this.started=!1,this.submitCaptured=()=>{this.eventTarget.removeEventListener("submit",this.submitBubbled,!1),this.eventTarget.addEventListener("submit",this.submitBubbled,!1)},this.submitBubbled=t=>{if(!t.defaultPrevented){const e=t.target instanceof HTMLFormElement?t.target:void 0,n=t.submitter||void 0;e&&function(t,e){return"dialog"!=((null==e?void 0:e.getAttribute("formmethod"))||t.getAttribute("method"))}(e,n)&&function(t,e){const n=(null==e?void 0:e.getAttribute("formtarget"))||t.target;for(const t of document.getElementsByName(n))if(t instanceof HTMLIFrameElement)return!1;return!0}(e,n)&&this.delegate.willSubmitForm(e,n)&&(t.preventDefault(),t.stopImmediatePropagation(),this.delegate.formSubmitted(e,n))}},this.delegate=t,this.eventTarget=e}start(){this.started||(this.eventTarget.addEventListener("submit",this.submitCaptured,!0),this.started=!0)}stop(){this.started&&(this.eventTarget.removeEventListener("submit",this.submitCaptured,!0),this.started=!1)}}class V{constructor(t,e){this.resolveRenderPromise=t=>{},this.resolveInterceptionPromise=t=>{},this.delegate=t,this.element=e}scrollToAnchor(t){const e=this.snapshot.getElementForAnchor(t);e?(this.scrollToElement(e),this.focusElement(e)):this.scrollToPosition({x:0,y:0})}scrollToAnchorFromLocation(t){this.scrollToAnchor(d(t))}scrollToElement(t){t.scrollIntoView()}focusElement(t){t instanceof HTMLElement&&(t.hasAttribute("tabindex")?t.focus():(t.setAttribute("tabindex","-1"),t.focus(),t.removeAttribute("tabindex")))}scrollToPosition({x:t,y:e}){this.scrollRoot.scrollTo(t,e)}scrollToTop(){this.scrollToPosition({x:0,y:0})}get scrollRoot(){return window}async render(t){const{isPreview:e,shouldRender:n,newSnapshot:r}=t;if(n)try{this.renderPromise=new Promise((t=>this.resolveRenderPromise=t)),this.renderer=t,await this.prepareToRenderSnapshot(t);const n=new Promise((t=>this.resolveInterceptionPromise=t)),o={resume:this.resolveInterceptionPromise,render:this.renderer.renderElement};this.delegate.allowsImmediateRender(r,o)||await n,await this.renderSnapshot(t),this.delegate.viewRenderedSnapshot(r,e),this.delegate.preloadOnLoadLinksForView(this.element),this.finishRenderingSnapshot(t)}finally{delete this.renderer,this.resolveRenderPromise(void 0),delete this.renderPromise}else this.invalidate(t.reloadReason)}invalidate(t){this.delegate.viewInvalidated(t)}async prepareToRenderSnapshot(t){this.markAsPreview(t.isPreview),await t.prepareToRender()}markAsPreview(t){t?this.element.setAttribute("data-turbo-preview",""):this.element.removeAttribute("data-turbo-preview")}async renderSnapshot(t){await t.render()}finishRenderingSnapshot(t){t.finishRendering()}}class U extends V{invalidate(){this.element.innerHTML=""}get snapshot(){return new B(this.element)}}class ${constructor(t,e){this.clickBubbled=t=>{this.respondsToEventTarget(t.target)?this.clickEvent=t:delete this.clickEvent},this.linkClicked=t=>{this.clickEvent&&this.respondsToEventTarget(t.target)&&t.target instanceof Element&&this.delegate.shouldInterceptLinkClick(t.target,t.detail.url,t.detail.originalEvent)&&(this.clickEvent.preventDefault(),t.preventDefault(),this.delegate.linkClickIntercepted(t.target,t.detail.url,t.detail.originalEvent)),delete this.clickEvent},this.willVisit=t=>{delete this.clickEvent},this.delegate=t,this.element=e}start(){this.element.addEventListener("click",this.clickBubbled),document.addEventListener("turbo:click",this.linkClicked),document.addEventListener("turbo:before-visit",this.willVisit)}stop(){this.element.removeEventListener("click",this.clickBubbled),document.removeEventListener("turbo:click",this.linkClicked),document.removeEventListener("turbo:before-visit",this.willVisit)}respondsToEventTarget(t){const e=t instanceof Element?t:t instanceof Node?t.parentElement:null;return e&&e.closest("turbo-frame, html")==this.element}}class z{constructor(t,e){this.started=!1,this.clickCaptured=()=>{this.eventTarget.removeEventListener("click",this.clickBubbled,!1),this.eventTarget.addEventListener("click",this.clickBubbled,!1)},this.clickBubbled=t=>{if(t instanceof MouseEvent&&this.clickEventIsSignificant(t)){const e=t.composedPath&&t.composedPath()[0]||t.target,n=this.findLinkFromClickTarget(e);if(n&&function(t){for(const e of document.getElementsByName(t.target))if(e instanceof HTMLIFrameElement)return!1;return!0}(n)){const e=this.getLocationForLink(n);this.delegate.willFollowLinkToLocation(n,e,t)&&(t.preventDefault(),this.delegate.followedLinkToLocation(n,e))}}},this.delegate=t,this.eventTarget=e}start(){this.started||(this.eventTarget.addEventListener("click",this.clickCaptured,!0),this.started=!0)}stop(){this.started&&(this.eventTarget.removeEventListener("click",this.clickCaptured,!0),this.started=!1)}clickEventIsSignificant(t){return!(t.target&&t.target.isContentEditable||t.defaultPrevented||t.which>1||t.altKey||t.ctrlKey||t.metaKey||t.shiftKey)}findLinkFromClickTarget(t){if(t instanceof Element)return t.closest("a[href]:not([target^=_]):not([download])")}getLocationForLink(t){return f(t.getAttribute("href")||"")}}class K{constructor(t,e){this.delegate=t,this.linkInterceptor=new z(this,e)}start(){this.linkInterceptor.start()}stop(){this.linkInterceptor.stop()}willFollowLinkToLocation(t,e,n){return this.delegate.willSubmitFormLinkToLocation(t,e,n)&&t.hasAttribute("data-turbo-method")}followedLinkToLocation(t,e){const n=e.href,r=document.createElement("form");r.setAttribute("data-turbo","true"),r.setAttribute("action",n),r.setAttribute("hidden","");const o=t.getAttribute("data-turbo-method");o&&r.setAttribute("method",o);const i=t.getAttribute("data-turbo-frame");i&&r.setAttribute("data-turbo-frame",i);const s=t.getAttribute("data-turbo-action");s&&r.setAttribute("data-turbo-action",s);const a=t.getAttribute("data-turbo-confirm");a&&r.setAttribute("data-turbo-confirm",a);t.hasAttribute("data-turbo-stream")&&r.setAttribute("data-turbo-stream",""),this.delegate.submittedFormLinkToLocation(t,e,r),document.body.appendChild(r),r.addEventListener("turbo:submit-end",(()=>r.remove()),{once:!0}),requestAnimationFrame((()=>r.requestSubmit()))}}class G{constructor(t,e){this.delegate=t,this.permanentElementMap=e}static preservingPermanentElements(t,e,n){const r=new this(t,e);r.enter(),n(),r.leave()}enter(){for(const t in this.permanentElementMap){const[e,n]=this.permanentElementMap[t];this.delegate.enteringBardo(e,n),this.replaceNewPermanentElementWithPlaceholder(n)}}leave(){for(const t in this.permanentElementMap){const[e]=this.permanentElementMap[t];this.replaceCurrentPermanentElementWithClone(e),this.replacePlaceholderWithPermanentElement(e),this.delegate.leavingBardo(e)}}replaceNewPermanentElementWithPlaceholder(t){const e=function(t){const e=document.createElement("meta");return e.setAttribute("name","turbo-permanent-placeholder"),e.setAttribute("content",t.id),e}(t);t.replaceWith(e)}replaceCurrentPermanentElementWithClone(t){const e=t.cloneNode(!0);t.replaceWith(e)}replacePlaceholderWithPermanentElement(t){const e=this.getPlaceholderById(t.id);null==e||e.replaceWith(t)}getPlaceholderById(t){return this.placeholders.find((e=>e.content==t))}get placeholders(){return[...document.querySelectorAll("meta[name=turbo-permanent-placeholder][content]")]}}class X{constructor(t,e,n,r,o=!0){this.activeElement=null,this.currentSnapshot=t,this.newSnapshot=e,this.isPreview=r,this.willRender=o,this.renderElement=n,this.promise=new Promise(((t,e)=>this.resolvingFunctions={resolve:t,reject:e}))}get shouldRender(){return!0}get reloadReason(){}prepareToRender(){}finishRendering(){this.resolvingFunctions&&(this.resolvingFunctions.resolve(),delete this.resolvingFunctions)}preservingPermanentElements(t){G.preservingPermanentElements(this,this.permanentElementMap,t)}focusFirstAutofocusableElement(){const t=this.connectedSnapshot.firstAutofocusableElement;(function(t){return t&&"function"==typeof t.focus})(t)&&t.focus()}enteringBardo(t){this.activeElement||t.contains(this.currentSnapshot.activeElement)&&(this.activeElement=this.currentSnapshot.activeElement)}leavingBardo(t){t.contains(this.activeElement)&&this.activeElement instanceof HTMLElement&&(this.activeElement.focus(),this.activeElement=null)}get connectedSnapshot(){return this.newSnapshot.isConnected?this.newSnapshot:this.currentSnapshot}get currentElement(){return this.currentSnapshot.element}get newElement(){return this.newSnapshot.element}get permanentElementMap(){return this.currentSnapshot.getPermanentElementMapForSnapshot(this.newSnapshot)}}class Y extends X{constructor(t,e,n,r,o,i=!0){super(e,n,r,o,i),this.delegate=t}static renderElement(t,e){var n;const r=document.createRange();r.selectNodeContents(t),r.deleteContents();const o=e,i=null===(n=o.ownerDocument)||void 0===n?void 0:n.createRange();i&&(i.selectNodeContents(o),t.appendChild(i.extractContents()))}get shouldRender(){return!0}async render(){await T(),this.preservingPermanentElements((()=>{this.loadFrameElement()})),this.scrollFrameIntoView(),await T(),this.focusFirstAutofocusableElement(),await T(),this.activateScriptElements()}loadFrameElement(){this.delegate.willRenderFrame(this.currentElement,this.newElement),this.renderElement(this.currentElement,this.newElement)}scrollFrameIntoView(){if(this.currentElement.autoscroll||this.newElement.autoscroll){const n=this.currentElement.firstElementChild,r=(t=this.currentElement.getAttribute("data-autoscroll-block"),e="end","end"==t||"start"==t||"center"==t||"nearest"==t?t:e),o=function(t,e){return"auto"==t||"smooth"==t?t:e}(this.currentElement.getAttribute("data-autoscroll-behavior"),"auto");if(n)return n.scrollIntoView({block:r,behavior:o}),!0}var t,e;return!1}activateScriptElements(){for(const t of this.newScriptElements){const e=S(t);t.replaceWith(e)}}get newScriptElements(){return this.currentElement.querySelectorAll("script")}}class J{constructor(){this.hiding=!1,this.value=0,this.visible=!1,this.trickle=()=>{this.setValue(this.value+Math.random()/100)},this.stylesheetElement=this.createStylesheetElement(),this.progressElement=this.createProgressElement(),this.installStylesheetElement(),this.setValue(0)}static get defaultCSS(){return x`
      .turbo-progress-bar {
        position: fixed;
        display: block;
        top: 0;
        left: 0;
        height: 3px;
        background: #0076ff;
        z-index: 2147483647;
        transition:
          width ${J.animationDuration}ms ease-out,
          opacity ${J.animationDuration/2}ms ${J.animationDuration/2}ms ease-in;
        transform: translate3d(0, 0, 0);
      }
    `}show(){this.visible||(this.visible=!0,this.installProgressElement(),this.startTrickling())}hide(){this.visible&&!this.hiding&&(this.hiding=!0,this.fadeProgressElement((()=>{this.uninstallProgressElement(),this.stopTrickling(),this.visible=!1,this.hiding=!1})))}setValue(t){this.value=t,this.refresh()}installStylesheetElement(){document.head.insertBefore(this.stylesheetElement,document.head.firstChild)}installProgressElement(){this.progressElement.style.width="0",this.progressElement.style.opacity="1",document.documentElement.insertBefore(this.progressElement,document.body),this.refresh()}fadeProgressElement(t){this.progressElement.style.opacity="0",setTimeout(t,1.5*J.animationDuration)}uninstallProgressElement(){this.progressElement.parentNode&&document.documentElement.removeChild(this.progressElement)}startTrickling(){this.trickleInterval||(this.trickleInterval=window.setInterval(this.trickle,J.animationDuration))}stopTrickling(){window.clearInterval(this.trickleInterval),delete this.trickleInterval}refresh(){requestAnimationFrame((()=>{this.progressElement.style.width=10+90*this.value+"%"}))}createStylesheetElement(){const t=document.createElement("style");return t.type="text/css",t.textContent=J.defaultCSS,this.cspNonce&&(t.nonce=this.cspNonce),t}createProgressElement(){const t=document.createElement("div");return t.className="turbo-progress-bar",t}get cspNonce(){return M("csp-nonce")}}J.animationDuration=300;class Q extends B{constructor(){super(...arguments),this.detailsByOuterHTML=this.children.filter((t=>!function(t){return"noscript"==t.localName}(t))).map((t=>function(t){t.hasAttribute("nonce")&&t.setAttribute("nonce","");return t}(t))).reduce(((t,e)=>{const{outerHTML:n}=e,r=n in t?t[n]:{type:Z(e),tracked:tt(e),elements:[]};return Object.assign(Object.assign({},t),{[n]:Object.assign(Object.assign({},r),{elements:[...r.elements,e]})})}),{})}get trackedElementSignature(){return Object.keys(this.detailsByOuterHTML).filter((t=>this.detailsByOuterHTML[t].tracked)).join("")}getScriptElementsNotInSnapshot(t){return this.getElementsMatchingTypeNotInSnapshot("script",t)}getStylesheetElementsNotInSnapshot(t){return this.getElementsMatchingTypeNotInSnapshot("stylesheet",t)}getElementsMatchingTypeNotInSnapshot(t,e){return Object.keys(this.detailsByOuterHTML).filter((t=>!(t in e.detailsByOuterHTML))).map((t=>this.detailsByOuterHTML[t])).filter((({type:e})=>e==t)).map((({elements:[t]})=>t))}get provisionalElements(){return Object.keys(this.detailsByOuterHTML).reduce(((t,e)=>{const{type:n,tracked:r,elements:o}=this.detailsByOuterHTML[e];return null!=n||r?o.length>1?[...t,...o.slice(1)]:t:[...t,...o]}),[])}getMetaValue(t){const e=this.findMetaElementByName(t);return e?e.getAttribute("content"):null}findMetaElementByName(t){return Object.keys(this.detailsByOuterHTML).reduce(((e,n)=>{const{elements:[r]}=this.detailsByOuterHTML[n];return function(t,e){return"meta"==t.localName&&t.getAttribute("name")==e}(r,t)?r:e}),void 0)}}function Z(t){return function(t){return"script"==t.localName}(t)?"script":function(t){const e=t.localName;return"style"==e||"link"==e&&"stylesheet"==t.getAttribute("rel")}(t)?"stylesheet":void 0}function tt(t){return"reload"==t.getAttribute("data-turbo-track")}class et extends B{constructor(t,e){super(t),this.headSnapshot=e}static fromHTMLString(t=""){return this.fromDocument(O(t))}static fromElement(t){return this.fromDocument(t.ownerDocument)}static fromDocument({head:t,body:e}){return new this(e,new Q(t))}clone(){const t=this.element.cloneNode(!0),e=this.element.querySelectorAll("select"),n=t.querySelectorAll("select");for(const[t,r]of e.entries()){const e=n[t];for(const t of e.selectedOptions)t.selected=!1;for(const t of r.selectedOptions)e.options[t.index].selected=!0}for(const e of t.querySelectorAll('input[type="password"]'))e.value="";return new et(t,this.headSnapshot)}get headElement(){return this.headSnapshot.element}get rootLocation(){var t;return f(null!==(t=this.getSetting("root"))&&void 0!==t?t:"/")}get cacheControlValue(){return this.getSetting("cache-control")}get isPreviewable(){return"no-preview"!=this.cacheControlValue}get isCacheable(){return"no-cache"!=this.cacheControlValue}get isVisitable(){return"reload"!=this.getSetting("visit-control")}getSetting(t){return this.headSnapshot.getMetaValue(`turbo-${t}`)}}!function(t){t.visitStart="visitStart",t.requestStart="requestStart",t.requestEnd="requestEnd",t.visitEnd="visitEnd"}(u||(u={})),function(t){t.initialized="initialized",t.started="started",t.canceled="canceled",t.failed="failed",t.completed="completed"}(l||(l={}));const nt={action:"advance",historyChanged:!1,visitCachedSnapshot:()=>{},willRender:!0,updateHistory:!0,shouldCacheSnapshot:!0,acceptsStreamResponse:!1};var rt,ot;!function(t){t[t.networkFailure=0]="networkFailure",t[t.timeoutFailure=-1]="timeoutFailure",t[t.contentTypeMismatch=-2]="contentTypeMismatch"}(rt||(rt={}));class it{constructor(t,e,n,r={}){this.identifier=L(),this.timingMetrics={},this.followedRedirect=!1,this.historyChanged=!1,this.scrolled=!1,this.shouldCacheSnapshot=!0,this.acceptsStreamResponse=!1,this.snapshotCached=!1,this.state=l.initialized,this.delegate=t,this.location=e,this.restorationIdentifier=n||L();const{action:o,historyChanged:i,referrer:s,snapshot:a,snapshotHTML:c,response:u,visitCachedSnapshot:h,willRender:f,updateHistory:d,shouldCacheSnapshot:p,acceptsStreamResponse:m}=Object.assign(Object.assign({},nt),r);this.action=o,this.historyChanged=i,this.referrer=s,this.snapshot=a,this.snapshotHTML=c,this.response=u,this.isSamePage=this.delegate.locationWithActionIsSamePage(this.location,this.action),this.visitCachedSnapshot=h,this.willRender=f,this.updateHistory=d,this.scrolled=!f,this.shouldCacheSnapshot=p,this.acceptsStreamResponse=m}get adapter(){return this.delegate.adapter}get view(){return this.delegate.view}get history(){return this.delegate.history}get restorationData(){return this.history.getRestorationDataForIdentifier(this.restorationIdentifier)}get silent(){return this.isSamePage}start(){this.state==l.initialized&&(this.recordTimingMetric(u.visitStart),this.state=l.started,this.adapter.visitStarted(this),this.delegate.visitStarted(this))}cancel(){this.state==l.started&&(this.request&&this.request.cancel(),this.cancelRender(),this.state=l.canceled)}complete(){this.state==l.started&&(this.recordTimingMetric(u.visitEnd),this.state=l.completed,this.followRedirect(),this.followedRedirect||(this.adapter.visitCompleted(this),this.delegate.visitCompleted(this)))}fail(){this.state==l.started&&(this.state=l.failed,this.adapter.visitFailed(this))}changeHistory(){var t;if(!this.historyChanged&&this.updateHistory){const e=_(this.location.href===(null===(t=this.referrer)||void 0===t?void 0:t.href)?"replace":this.action);this.history.update(e,this.location,this.restorationIdentifier),this.historyChanged=!0}}issueRequest(){this.hasPreloadedResponse()?this.simulateRequest():this.shouldIssueRequest()&&!this.request&&(this.request=new N(this,s.get,this.location),this.request.perform())}simulateRequest(){this.response&&(this.startRequest(),this.recordResponse(),this.finishRequest())}startRequest(){this.recordTimingMetric(u.requestStart),this.adapter.visitRequestStarted(this)}recordResponse(t=this.response){if(this.response=t,t){const{statusCode:e}=t;st(e)?this.adapter.visitRequestCompleted(this):this.adapter.visitRequestFailedWithStatusCode(this,e)}}finishRequest(){this.recordTimingMetric(u.requestEnd),this.adapter.visitRequestFinished(this)}loadResponse(){if(this.response){const{statusCode:t,responseHTML:e}=this.response;this.render((async()=>{this.shouldCacheSnapshot&&this.cacheSnapshot(),this.view.renderPromise&&await this.view.renderPromise,st(t)&&null!=e?(await this.view.renderPage(et.fromHTMLString(e),!1,this.willRender,this),this.performScroll(),this.adapter.visitRendered(this),this.complete()):(await this.view.renderError(et.fromHTMLString(e),this),this.adapter.visitRendered(this),this.fail())}))}}getCachedSnapshot(){const t=this.view.getCachedSnapshotForLocation(this.location)||this.getPreloadedSnapshot();if(t&&(!d(this.location)||t.hasAnchor(d(this.location)))&&("restore"==this.action||t.isPreviewable))return t}getPreloadedSnapshot(){if(this.snapshotHTML)return et.fromHTMLString(this.snapshotHTML)}hasCachedSnapshot(){return null!=this.getCachedSnapshot()}loadCachedSnapshot(){const t=this.getCachedSnapshot();if(t){const e=this.shouldIssueRequest();this.render((async()=>{this.cacheSnapshot(),this.isSamePage?this.adapter.visitRendered(this):(this.view.renderPromise&&await this.view.renderPromise,await this.view.renderPage(t,e,this.willRender,this),this.performScroll(),this.adapter.visitRendered(this),e||this.complete())}))}}followRedirect(){var t;this.redirectedToLocation&&!this.followedRedirect&&(null===(t=this.response)||void 0===t?void 0:t.redirected)&&(this.adapter.visitProposedToLocation(this.redirectedToLocation,{action:"replace",response:this.response}),this.followedRedirect=!0)}goToSamePageAnchor(){this.isSamePage&&this.render((async()=>{this.cacheSnapshot(),this.performScroll(),this.changeHistory(),this.adapter.visitRendered(this)}))}prepareHeadersForRequest(t,e){this.acceptsStreamResponse&&e.acceptResponseType(D.contentType)}requestStarted(){this.startRequest()}requestPreventedHandlingResponse(t,e){}async requestSucceededWithResponse(t,e){const n=await e.responseHTML,{redirected:r,statusCode:o}=e;null==n?this.recordResponse({statusCode:rt.contentTypeMismatch,redirected:r}):(this.redirectedToLocation=e.redirected?e.location:void 0,this.recordResponse({statusCode:o,responseHTML:n,redirected:r}))}async requestFailedWithResponse(t,e){const n=await e.responseHTML,{redirected:r,statusCode:o}=e;null==n?this.recordResponse({statusCode:rt.contentTypeMismatch,redirected:r}):this.recordResponse({statusCode:o,responseHTML:n,redirected:r})}requestErrored(t,e){this.recordResponse({statusCode:rt.networkFailure,redirected:!1})}requestFinished(){this.finishRequest()}performScroll(){this.scrolled||this.view.forceReloaded||("restore"==this.action?this.scrollToRestoredPosition()||this.scrollToAnchor()||this.view.scrollToTop():this.scrollToAnchor()||this.view.scrollToTop(),this.isSamePage&&this.delegate.visitScrolledToSamePageLocation(this.view.lastRenderedLocation,this.location),this.scrolled=!0)}scrollToRestoredPosition(){const{scrollPosition:t}=this.restorationData;if(t)return this.view.scrollToPosition(t),!0}scrollToAnchor(){const t=d(this.location);if(null!=t)return this.view.scrollToAnchor(t),!0}recordTimingMetric(t){this.timingMetrics[t]=(new Date).getTime()}getTimingMetrics(){return Object.assign({},this.timingMetrics)}getHistoryMethodForAction(t){switch(t){case"replace":return history.replaceState;case"advance":case"restore":return history.pushState}}hasPreloadedResponse(){return"object"==typeof this.response}shouldIssueRequest(){return!this.isSamePage&&("restore"==this.action?!this.hasCachedSnapshot():this.willRender)}cacheSnapshot(){this.snapshotCached||(this.view.cacheSnapshot(this.snapshot).then((t=>t&&this.visitCachedSnapshot(t))),this.snapshotCached=!0)}async render(t){this.cancelRender(),await new Promise((t=>{this.frame=requestAnimationFrame((()=>t()))})),await t(),delete this.frame}cancelRender(){this.frame&&(cancelAnimationFrame(this.frame),delete this.frame)}}function st(t){return t>=200&&t<300}class at{constructor(t){this.progressBar=new J,this.showProgressBar=()=>{this.progressBar.show()},this.session=t}visitProposedToLocation(t,e){this.navigator.startVisit(t,(null==e?void 0:e.restorationIdentifier)||L(),e)}visitStarted(t){this.location=t.location,t.loadCachedSnapshot(),t.issueRequest(),t.goToSamePageAnchor()}visitRequestStarted(t){this.progressBar.setValue(0),t.hasCachedSnapshot()||"restore"!=t.action?this.showVisitProgressBarAfterDelay():this.showProgressBar()}visitRequestCompleted(t){t.loadResponse()}visitRequestFailedWithStatusCode(t,e){switch(e){case rt.networkFailure:case rt.timeoutFailure:case rt.contentTypeMismatch:return this.reload({reason:"request_failed",context:{statusCode:e}});default:return t.loadResponse()}}visitRequestFinished(t){this.progressBar.setValue(1),this.hideVisitProgressBar()}visitCompleted(t){}pageInvalidated(t){this.reload(t)}visitFailed(t){}visitRendered(t){}formSubmissionStarted(t){this.progressBar.setValue(0),this.showFormProgressBarAfterDelay()}formSubmissionFinished(t){this.progressBar.setValue(1),this.hideFormProgressBar()}showVisitProgressBarAfterDelay(){this.visitProgressBarTimeout=window.setTimeout(this.showProgressBar,this.session.progressBarDelay)}hideVisitProgressBar(){this.progressBar.hide(),null!=this.visitProgressBarTimeout&&(window.clearTimeout(this.visitProgressBarTimeout),delete this.visitProgressBarTimeout)}showFormProgressBarAfterDelay(){null==this.formProgressBarTimeout&&(this.formProgressBarTimeout=window.setTimeout(this.showProgressBar,this.session.progressBarDelay))}hideFormProgressBar(){this.progressBar.hide(),null!=this.formProgressBarTimeout&&(window.clearTimeout(this.formProgressBarTimeout),delete this.formProgressBarTimeout)}reload(t){var e;k("turbo:reload",{detail:t}),window.location.href=(null===(e=this.location)||void 0===e?void 0:e.toString())||window.location.href}get navigator(){return this.session.navigator}}class ct{constructor(){this.started=!1,this.removeStaleElements=t=>{const e=[...document.querySelectorAll('[data-turbo-cache="false"]')];for(const t of e)t.remove()}}start(){this.started||(this.started=!0,addEventListener("turbo:before-cache",this.removeStaleElements,!1))}stop(){this.started&&(this.started=!1,removeEventListener("turbo:before-cache",this.removeStaleElements,!1))}}class ut{constructor(t,e){this.session=t,this.element=e,this.linkInterceptor=new $(this,e),this.formSubmitObserver=new W(this,e)}start(){this.linkInterceptor.start(),this.formSubmitObserver.start()}stop(){this.linkInterceptor.stop(),this.formSubmitObserver.stop()}shouldInterceptLinkClick(t,e,n){return this.shouldRedirect(t)}linkClickIntercepted(t,e,n){const r=this.findFrameElement(t);r&&r.delegate.linkClickIntercepted(t,e,n)}willSubmitForm(t,e){return null==t.closest("turbo-frame")&&this.shouldSubmit(t,e)&&this.shouldRedirect(t,e)}formSubmitted(t,e){const n=this.findFrameElement(t,e);n&&n.delegate.formSubmitted(t,e)}shouldSubmit(t,e){var n;const r=p(t,e),o=this.element.ownerDocument.querySelector('meta[name="turbo-root"]'),i=f(null!==(n=null==o?void 0:o.content)&&void 0!==n?n:"/");return this.shouldRedirect(t,e)&&v(r,i)}shouldRedirect(t,e){if(t instanceof HTMLFormElement?this.session.submissionIsNavigatable(t,e):this.session.elementIsNavigatable(t)){const n=this.findFrameElement(t,e);return!!n&&n!=t.closest("turbo-frame")}return!1}findFrameElement(t,e){const n=(null==e?void 0:e.getAttribute("data-turbo-frame"))||t.getAttribute("data-turbo-frame");if(n&&"_top"!=n){const t=this.element.querySelector(`#${n}:not([disabled])`);if(t instanceof h)return t}}}class lt{constructor(t){this.restorationIdentifier=L(),this.restorationData={},this.started=!1,this.pageLoaded=!1,this.onPopState=t=>{if(this.shouldHandlePopState()){const{turbo:e}=t.state||{};if(e){this.location=new URL(window.location.href);const{restorationIdentifier:t}=e;this.restorationIdentifier=t,this.delegate.historyPoppedToLocationWithRestorationIdentifier(this.location,t)}}},this.onPageLoad=async t=>{await Promise.resolve(),this.pageLoaded=!0},this.delegate=t}start(){this.started||(addEventListener("popstate",this.onPopState,!1),addEventListener("load",this.onPageLoad,!1),this.started=!0,this.replace(new URL(window.location.href)))}stop(){this.started&&(removeEventListener("popstate",this.onPopState,!1),removeEventListener("load",this.onPageLoad,!1),this.started=!1)}push(t,e){this.update(history.pushState,t,e)}replace(t,e){this.update(history.replaceState,t,e)}update(t,e,n=L()){const r={turbo:{restorationIdentifier:n}};t.call(history,r,"",e.href),this.location=e,this.restorationIdentifier=n}getRestorationDataForIdentifier(t){return this.restorationData[t]||{}}updateRestorationData(t){const{restorationIdentifier:e}=this,n=this.restorationData[e];this.restorationData[e]=Object.assign(Object.assign({},n),t)}assumeControlOfScrollRestoration(){var t;this.previousScrollRestoration||(this.previousScrollRestoration=null!==(t=history.scrollRestoration)&&void 0!==t?t:"auto",history.scrollRestoration="manual")}relinquishControlOfScrollRestoration(){this.previousScrollRestoration&&(history.scrollRestoration=this.previousScrollRestoration,delete this.previousScrollRestoration)}shouldHandlePopState(){return this.pageIsLoaded()}pageIsLoaded(){return this.pageLoaded||"complete"==document.readyState}}class ht{constructor(t){this.delegate=t}proposeVisit(t,e={}){this.delegate.allowsVisitingLocationWithAction(t,e.action)&&(v(t,this.view.snapshot.rootLocation)?this.delegate.visitProposedToLocation(t,e):window.location.href=t.toString())}startVisit(t,e,n={}){this.stop(),this.currentVisit=new it(this,f(t),e,Object.assign({referrer:this.location},n)),this.currentVisit.start()}submitForm(t,e){this.stop(),this.formSubmission=new F(this,t,e,!0),this.formSubmission.start()}stop(){this.formSubmission&&(this.formSubmission.stop(),delete this.formSubmission),this.currentVisit&&(this.currentVisit.cancel(),delete this.currentVisit)}get adapter(){return this.delegate.adapter}get view(){return this.delegate.view}get history(){return this.delegate.history}formSubmissionStarted(t){"function"==typeof this.adapter.formSubmissionStarted&&this.adapter.formSubmissionStarted(t)}async formSubmissionSucceededWithResponse(t,e){if(t==this.formSubmission){const n=await e.responseHTML;if(n){const r=t.method==s.get;r||this.view.clearSnapshotCache();const{statusCode:o,redirected:i}=e,a={action:this.getActionForFormSubmission(t),shouldCacheSnapshot:r,response:{statusCode:o,responseHTML:n,redirected:i}};this.proposeVisit(e.location,a)}}}async formSubmissionFailedWithResponse(t,e){const n=await e.responseHTML;if(n){const t=et.fromHTMLString(n);e.serverError?await this.view.renderError(t,this.currentVisit):await this.view.renderPage(t,!1,!0,this.currentVisit),this.view.scrollToTop(),this.view.clearSnapshotCache()}}formSubmissionErrored(t,e){console.error(e)}formSubmissionFinished(t){"function"==typeof this.adapter.formSubmissionFinished&&this.adapter.formSubmissionFinished(t)}visitStarted(t){this.delegate.visitStarted(t)}visitCompleted(t){this.delegate.visitCompleted(t)}locationWithActionIsSamePage(t,e){const n=d(t),r=d(this.view.lastRenderedLocation),o="restore"===e&&void 0===n;return"replace"!==e&&g(t)===g(this.view.lastRenderedLocation)&&(o||null!=n&&n!==r)}visitScrolledToSamePageLocation(t,e){this.delegate.visitScrolledToSamePageLocation(t,e)}get location(){return this.history.location}get restorationIdentifier(){return this.history.restorationIdentifier}getActionForFormSubmission(t){const{formElement:e,submitter:n}=t,r=A("data-turbo-action",n,e);return E(r)?r:"advance"}}!function(t){t[t.initial=0]="initial",t[t.loading=1]="loading",t[t.interactive=2]="interactive",t[t.complete=3]="complete"}(ot||(ot={}));class ft{constructor(t){this.stage=ot.initial,this.started=!1,this.interpretReadyState=()=>{const{readyState:t}=this;"interactive"==t?this.pageIsInteractive():"complete"==t&&this.pageIsComplete()},this.pageWillUnload=()=>{this.delegate.pageWillUnload()},this.delegate=t}start(){this.started||(this.stage==ot.initial&&(this.stage=ot.loading),document.addEventListener("readystatechange",this.interpretReadyState,!1),addEventListener("pagehide",this.pageWillUnload,!1),this.started=!0)}stop(){this.started&&(document.removeEventListener("readystatechange",this.interpretReadyState,!1),removeEventListener("pagehide",this.pageWillUnload,!1),this.started=!1)}pageIsInteractive(){this.stage==ot.loading&&(this.stage=ot.interactive,this.delegate.pageBecameInteractive())}pageIsComplete(){this.pageIsInteractive(),this.stage==ot.interactive&&(this.stage=ot.complete,this.delegate.pageLoaded())}get readyState(){return document.readyState}}class dt{constructor(t){this.started=!1,this.onScroll=()=>{this.updatePosition({x:window.pageXOffset,y:window.pageYOffset})},this.delegate=t}start(){this.started||(addEventListener("scroll",this.onScroll,!1),this.onScroll(),this.started=!0)}stop(){this.started&&(removeEventListener("scroll",this.onScroll,!1),this.started=!1)}updatePosition(t){this.delegate.scrollPositionChanged(t)}}class pt{render({fragment:t}){G.preservingPermanentElements(this,function(t){const e=q(document.documentElement),n={};for(const r of e){const{id:e}=r;for(const o of t.querySelectorAll("turbo-stream")){const t=H(o.templateElement.content,e);t&&(n[e]=[r,t])}}return n}(t),(()=>document.documentElement.appendChild(t)))}enteringBardo(t,e){e.replaceWith(t.cloneNode(!0))}leavingBardo(){}}class mt{constructor(t){this.sources=new Set,this.started=!1,this.inspectFetchResponse=t=>{const e=function(t){var e;const n=null===(e=t.detail)||void 0===e?void 0:e.fetchResponse;if(n instanceof w)return n}(t);e&&function(t){var e;return(null!==(e=t.contentType)&&void 0!==e?e:"").startsWith(D.contentType)}(e)&&(t.preventDefault(),this.receiveMessageResponse(e))},this.receiveMessageEvent=t=>{this.started&&"string"==typeof t.data&&this.receiveMessageHTML(t.data)},this.delegate=t}start(){this.started||(this.started=!0,addEventListener("turbo:before-fetch-response",this.inspectFetchResponse,!1))}stop(){this.started&&(this.started=!1,removeEventListener("turbo:before-fetch-response",this.inspectFetchResponse,!1))}connectStreamSource(t){this.streamSourceIsConnected(t)||(this.sources.add(t),t.addEventListener("message",this.receiveMessageEvent,!1))}disconnectStreamSource(t){this.streamSourceIsConnected(t)&&(this.sources.delete(t),t.removeEventListener("message",this.receiveMessageEvent,!1))}streamSourceIsConnected(t){return this.sources.has(t)}async receiveMessageResponse(t){const e=await t.responseHTML;e&&this.receiveMessageHTML(e)}receiveMessageHTML(t){this.delegate.receivedMessageFromStream(D.wrap(t))}}class yt extends X{static renderElement(t,e){const{documentElement:n,body:r}=document;n.replaceChild(e,r)}async render(){this.replaceHeadAndBody(),this.activateScriptElements()}replaceHeadAndBody(){const{documentElement:t,head:e}=document;t.replaceChild(this.newHead,e),this.renderElement(this.currentElement,this.newElement)}activateScriptElements(){for(const t of this.scriptElements){const e=t.parentNode;if(e){const n=S(t);e.replaceChild(n,t)}}}get newHead(){return this.newSnapshot.headSnapshot.element}get scriptElements(){return document.documentElement.querySelectorAll("script")}}class vt extends X{static renderElement(t,e){document.body&&e instanceof HTMLBodyElement?document.body.replaceWith(e):document.documentElement.appendChild(e)}get shouldRender(){return this.newSnapshot.isVisitable&&this.trackedElementsAreIdentical}get reloadReason(){return this.newSnapshot.isVisitable?this.trackedElementsAreIdentical?void 0:{reason:"tracked_element_mismatch"}:{reason:"turbo_visit_control_is_reload"}}async prepareToRender(){await this.mergeHead()}async render(){this.willRender&&this.replaceBody()}finishRendering(){super.finishRendering(),this.isPreview||this.focusFirstAutofocusableElement()}get currentHeadSnapshot(){return this.currentSnapshot.headSnapshot}get newHeadSnapshot(){return this.newSnapshot.headSnapshot}get newElement(){return this.newSnapshot.element}async mergeHead(){const t=this.copyNewHeadStylesheetElements();this.copyNewHeadScriptElements(),this.removeCurrentHeadProvisionalElements(),this.copyNewHeadProvisionalElements(),await t}replaceBody(){this.preservingPermanentElements((()=>{this.activateNewBody(),this.assignNewBody()}))}get trackedElementsAreIdentical(){return this.currentHeadSnapshot.trackedElementSignature==this.newHeadSnapshot.trackedElementSignature}async copyNewHeadStylesheetElements(){const t=[];for(const e of this.newHeadStylesheetElements)t.push(R(e)),document.head.appendChild(e);await Promise.all(t)}copyNewHeadScriptElements(){for(const t of this.newHeadScriptElements)document.head.appendChild(S(t))}removeCurrentHeadProvisionalElements(){for(const t of this.currentHeadProvisionalElements)document.head.removeChild(t)}copyNewHeadProvisionalElements(){for(const t of this.newHeadProvisionalElements)document.head.appendChild(t)}activateNewBody(){document.adoptNode(this.newElement),this.activateNewBodyScriptElements()}activateNewBodyScriptElements(){for(const t of this.newBodyScriptElements){const e=S(t);t.replaceWith(e)}}assignNewBody(){this.renderElement(this.currentElement,this.newElement)}get newHeadStylesheetElements(){return this.newHeadSnapshot.getStylesheetElementsNotInSnapshot(this.currentHeadSnapshot)}get newHeadScriptElements(){return this.newHeadSnapshot.getScriptElementsNotInSnapshot(this.currentHeadSnapshot)}get currentHeadProvisionalElements(){return this.currentHeadSnapshot.provisionalElements}get newHeadProvisionalElements(){return this.newHeadSnapshot.provisionalElements}get newBodyScriptElements(){return this.newElement.querySelectorAll("script")}}class gt{constructor(t){this.keys=[],this.snapshots={},this.size=t}has(t){return b(t)in this.snapshots}get(t){if(this.has(t)){const e=this.read(t);return this.touch(t),e}}put(t,e){return this.write(t,e),this.touch(t),e}clear(){this.snapshots={}}read(t){return this.snapshots[b(t)]}write(t,e){this.snapshots[b(t)]=e}touch(t){const e=b(t),n=this.keys.indexOf(e);n>-1&&this.keys.splice(n,1),this.keys.unshift(e),this.trim()}trim(){for(const t of this.keys.splice(this.size))delete this.snapshots[t]}}class bt extends V{constructor(){super(...arguments),this.snapshotCache=new gt(10),this.lastRenderedLocation=new URL(location.href),this.forceReloaded=!1}renderPage(t,e=!1,n=!0,r){const o=new vt(this.snapshot,t,vt.renderElement,e,n);return o.shouldRender?null==r||r.changeHistory():this.forceReloaded=!0,this.render(o)}renderError(t,e){null==e||e.changeHistory();const n=new yt(this.snapshot,t,yt.renderElement,!1);return this.render(n)}clearSnapshotCache(){this.snapshotCache.clear()}async cacheSnapshot(t=this.snapshot){if(t.isCacheable){this.delegate.viewWillCacheSnapshot();const{lastRenderedLocation:e}=this;await new Promise((t=>setTimeout((()=>t()),0)));const n=t.clone();return this.snapshotCache.put(e,n),n}}getCachedSnapshotForLocation(t){return this.snapshotCache.get(t)}get snapshot(){return et.fromElement(this.element)}}class wt{constructor(t){this.selector="a[data-turbo-preload]",this.delegate=t}get snapshotCache(){return this.delegate.navigator.view.snapshotCache}start(){if("loading"===document.readyState)return document.addEventListener("DOMContentLoaded",(()=>{this.preloadOnLoadLinksForView(document.body)}));this.preloadOnLoadLinksForView(document.body)}preloadOnLoadLinksForView(t){for(const e of t.querySelectorAll(this.selector))this.preloadURL(e)}async preloadURL(t){const e=new URL(t.href);if(!this.snapshotCache.has(e))try{const t=await fetch(e.toString(),{headers:{"VND.PREFETCH":"true",Accept:"text/html"}}),n=await t.text(),r=et.fromHTMLString(n);this.snapshotCache.put(e,r)}catch(t){}}}function Et(t){Object.defineProperties(t,St)}const St={absoluteURL:{get(){return this.toString()}}};const kt={after(){this.targetElements.forEach((t=>{var e;return null===(e=t.parentElement)||void 0===e?void 0:e.insertBefore(this.templateContent,t.nextSibling)}))},append(){this.removeDuplicateTargetChildren(),this.targetElements.forEach((t=>t.append(this.templateContent)))},before(){this.targetElements.forEach((t=>{var e;return null===(e=t.parentElement)||void 0===e?void 0:e.insertBefore(this.templateContent,t)}))},prepend(){this.removeDuplicateTargetChildren(),this.targetElements.forEach((t=>t.prepend(this.templateContent)))},remove(){this.targetElements.forEach((t=>t.remove()))},replace(){this.targetElements.forEach((t=>t.replaceWith(this.templateContent)))},update(){this.targetElements.forEach((t=>t.replaceChildren(this.templateContent)))}},Tt=new class{constructor(){this.navigator=new ht(this),this.history=new lt(this),this.preloader=new wt(this),this.view=new bt(this,document.documentElement),this.adapter=new at(this),this.pageObserver=new ft(this),this.cacheObserver=new ct,this.linkClickObserver=new z(this,window),this.formSubmitObserver=new W(this,document),this.scrollObserver=new dt(this),this.streamObserver=new mt(this),this.formLinkClickObserver=new K(this,document.documentElement),this.frameRedirector=new ut(this,document.documentElement),this.streamMessageRenderer=new pt,this.drive=!0,this.enabled=!0,this.progressBarDelay=500,this.started=!1,this.formMode="on"}start(){this.started||(this.pageObserver.start(),this.cacheObserver.start(),this.formLinkClickObserver.start(),this.linkClickObserver.start(),this.formSubmitObserver.start(),this.scrollObserver.start(),this.streamObserver.start(),this.frameRedirector.start(),this.history.start(),this.preloader.start(),this.started=!0,this.enabled=!0)}disable(){this.enabled=!1}stop(){this.started&&(this.pageObserver.stop(),this.cacheObserver.stop(),this.formLinkClickObserver.stop(),this.linkClickObserver.stop(),this.formSubmitObserver.stop(),this.scrollObserver.stop(),this.streamObserver.stop(),this.frameRedirector.stop(),this.history.stop(),this.started=!1)}registerAdapter(t){this.adapter=t}visit(t,e={}){const n=e.frame?document.getElementById(e.frame):null;n instanceof h?(n.src=t.toString(),n.loaded):this.navigator.proposeVisit(f(t),e)}connectStreamSource(t){this.streamObserver.connectStreamSource(t)}disconnectStreamSource(t){this.streamObserver.disconnectStreamSource(t)}renderStreamMessage(t){this.streamMessageRenderer.render(D.wrap(t))}clearCache(){this.view.clearSnapshotCache()}setProgressBarDelay(t){this.progressBarDelay=t}setFormMode(t){this.formMode=t}get location(){return this.history.location}get restorationIdentifier(){return this.history.restorationIdentifier}historyPoppedToLocationWithRestorationIdentifier(t,e){this.enabled?this.navigator.startVisit(t,e,{action:"restore",historyChanged:!0}):this.adapter.pageInvalidated({reason:"turbo_disabled"})}scrollPositionChanged(t){this.history.updateRestorationData({scrollPosition:t})}willSubmitFormLinkToLocation(t,e){return this.elementIsNavigatable(t)&&v(e,this.snapshot.rootLocation)}submittedFormLinkToLocation(){}willFollowLinkToLocation(t,e,n){return this.elementIsNavigatable(t)&&v(e,this.snapshot.rootLocation)&&this.applicationAllowsFollowingLinkToLocation(t,e,n)}followedLinkToLocation(t,e){const n=this.getActionForLink(t),r=t.hasAttribute("data-turbo-stream");this.visit(e.href,{action:n,acceptsStreamResponse:r})}allowsVisitingLocationWithAction(t,e){return this.locationWithActionIsSamePage(t,e)||this.applicationAllowsVisitingLocation(t)}visitProposedToLocation(t,e){Et(t),this.adapter.visitProposedToLocation(t,e)}visitStarted(t){t.acceptsStreamResponse||C(document.documentElement),Et(t.location),t.silent||this.notifyApplicationAfterVisitingLocation(t.location,t.action)}visitCompleted(t){P(document.documentElement),this.notifyApplicationAfterPageLoad(t.getTimingMetrics())}locationWithActionIsSamePage(t,e){return this.navigator.locationWithActionIsSamePage(t,e)}visitScrolledToSamePageLocation(t,e){this.notifyApplicationAfterVisitingSamePageLocation(t,e)}willSubmitForm(t,e){const n=p(t,e);return this.submissionIsNavigatable(t,e)&&v(f(n),this.snapshot.rootLocation)}formSubmitted(t,e){this.navigator.submitForm(t,e)}pageBecameInteractive(){this.view.lastRenderedLocation=this.location,this.notifyApplicationAfterPageLoad()}pageLoaded(){this.history.assumeControlOfScrollRestoration()}pageWillUnload(){this.history.relinquishControlOfScrollRestoration()}receivedMessageFromStream(t){this.renderStreamMessage(t)}viewWillCacheSnapshot(){var t;(null===(t=this.navigator.currentVisit)||void 0===t?void 0:t.silent)||this.notifyApplicationBeforeCachingSnapshot()}allowsImmediateRender({element:t},e){const n=this.notifyApplicationBeforeRender(t,e),{defaultPrevented:r,detail:{render:o}}=n;return this.view.renderer&&o&&(this.view.renderer.renderElement=o),!r}viewRenderedSnapshot(t,e){this.view.lastRenderedLocation=this.history.location,this.notifyApplicationAfterRender()}preloadOnLoadLinksForView(t){this.preloader.preloadOnLoadLinksForView(t)}viewInvalidated(t){this.adapter.pageInvalidated(t)}frameLoaded(t){this.notifyApplicationAfterFrameLoad(t)}frameRendered(t,e){this.notifyApplicationAfterFrameRender(t,e)}applicationAllowsFollowingLinkToLocation(t,e,n){return!this.notifyApplicationAfterClickingLinkToLocation(t,e,n).defaultPrevented}applicationAllowsVisitingLocation(t){return!this.notifyApplicationBeforeVisitingLocation(t).defaultPrevented}notifyApplicationAfterClickingLinkToLocation(t,e,n){return k("turbo:click",{target:t,detail:{url:e.href,originalEvent:n},cancelable:!0})}notifyApplicationBeforeVisitingLocation(t){return k("turbo:before-visit",{detail:{url:t.href},cancelable:!0})}notifyApplicationAfterVisitingLocation(t,e){return k("turbo:visit",{detail:{url:t.href,action:e}})}notifyApplicationBeforeCachingSnapshot(){return k("turbo:before-cache")}notifyApplicationBeforeRender(t,e){return k("turbo:before-render",{detail:Object.assign({newBody:t},e),cancelable:!0})}notifyApplicationAfterRender(){return k("turbo:render")}notifyApplicationAfterPageLoad(t={}){return k("turbo:load",{detail:{url:this.location.href,timing:t}})}notifyApplicationAfterVisitingSamePageLocation(t,e){dispatchEvent(new HashChangeEvent("hashchange",{oldURL:t.toString(),newURL:e.toString()}))}notifyApplicationAfterFrameLoad(t){return k("turbo:frame-load",{target:t})}notifyApplicationAfterFrameRender(t,e){return k("turbo:frame-render",{detail:{fetchResponse:t},target:e,cancelable:!0})}submissionIsNavigatable(t,e){if("off"==this.formMode)return!1;{const n=!e||this.elementIsNavigatable(e);return"optin"==this.formMode?n&&null!=t.closest('[data-turbo="true"]'):n&&this.elementIsNavigatable(t)}}elementIsNavigatable(t){const e=t.closest("[data-turbo]"),n=t.closest("turbo-frame");return this.drive||n?!e||"false"!=e.getAttribute("data-turbo"):!!e&&"true"==e.getAttribute("data-turbo")}getActionForLink(t){const e=t.getAttribute("data-turbo-action");return E(e)?e:"advance"}get snapshot(){return this.view.snapshot}},Ot=new class{constructor(t){this.session=t}clear(){this.session.clearCache()}resetCacheControl(){this.setCacheControl("")}exemptPageFromCache(){this.setCacheControl("no-cache")}exemptPageFromPreview(){this.setCacheControl("no-preview")}setCacheControl(t){!function(t,e){let n=j(t);n||(n=document.createElement("meta"),n.setAttribute("name",t),document.head.appendChild(n)),n.setAttribute("content",e)}("turbo-cache-control",t)}}(Tt),{navigator:xt}=Tt;function Lt(){Tt.start()}function At(t){Tt.registerAdapter(t)}function Ct(t,e){Tt.visit(t,e)}function Pt(t){Tt.connectStreamSource(t)}function Rt(t){Tt.disconnectStreamSource(t)}function _t(t){Tt.renderStreamMessage(t)}function jt(){console.warn("Please replace `Turbo.clearCache()` with `Turbo.cache.clear()`. The top-level function is deprecated and will be removed in a future version of Turbo.`"),Tt.clearCache()}function Mt(t){Tt.setProgressBarDelay(t)}function Nt(t){F.confirmMethod=t}function It(t){Tt.setFormMode(t)}var Dt=Object.freeze({__proto__:null,navigator:xt,session:Tt,cache:Ot,PageRenderer:vt,PageSnapshot:et,FrameRenderer:Y,start:Lt,registerAdapter:At,visit:Ct,connectStreamSource:Pt,disconnectStreamSource:Rt,renderStreamMessage:_t,clearCache:jt,setProgressBarDelay:Mt,setConfirmMethod:Nt,setFormMode:It,StreamActions:kt});function Ft(t){if(null!=t){const e=document.getElementById(t);if(e instanceof h)return e}}function Bt(t,e){if(t){const r=t.getAttribute("src");if(null!=r&&null!=e&&(n=e,f(r).href==f(n).href))throw new Error(`Matching <turbo-frame id="${t.id}"> element has a source URL which references itself`);if(t.ownerDocument!==document&&(t=document.importNode(t,!0)),t instanceof h)return t.connectedCallback(),t.disconnectedCallback(),t}var n}class Ht extends HTMLElement{static async renderElement(t){await t.performAction()}async connectedCallback(){try{await this.render()}catch(t){console.error(t)}finally{this.disconnect()}}async render(){var t;return null!==(t=this.renderPromise)&&void 0!==t?t:this.renderPromise=(async()=>{const t=this.beforeRenderEvent;this.dispatchEvent(t)&&(await T(),await t.detail.render(this))})()}disconnect(){try{this.remove()}catch(t){}}removeDuplicateTargetChildren(){this.duplicateChildren.forEach((t=>t.remove()))}get duplicateChildren(){var t;const e=this.targetElements.flatMap((t=>[...t.children])).filter((t=>!!t.id)),n=[...(null===(t=this.templateContent)||void 0===t?void 0:t.children)||[]].filter((t=>!!t.id)).map((t=>t.id));return e.filter((t=>n.includes(t.id)))}get performAction(){if(this.action){const t=kt[this.action];if(t)return t;this.raise("unknown action")}this.raise("action attribute is missing")}get targetElements(){return this.target?this.targetElementsById:this.targets?this.targetElementsByQuery:void this.raise("target or targets attribute is missing")}get templateContent(){return this.templateElement.content.cloneNode(!0)}get templateElement(){if(null===this.firstElementChild){const t=this.ownerDocument.createElement("template");return this.appendChild(t),t}if(this.firstElementChild instanceof HTMLTemplateElement)return this.firstElementChild;this.raise("first child element must be a <template> element")}get action(){return this.getAttribute("action")}get target(){return this.getAttribute("target")}get targets(){return this.getAttribute("targets")}raise(t){throw new Error(`${this.description}: ${t}`)}get description(){var t,e;return null!==(e=(null!==(t=this.outerHTML.match(/<[^>]+>/))&&void 0!==t?t:[])[0])&&void 0!==e?e:"<turbo-stream>"}get beforeRenderEvent(){return new CustomEvent("turbo:before-stream-render",{bubbles:!0,cancelable:!0,detail:{newStream:this,render:Ht.renderElement}})}get targetElementsById(){var t;const e=null===(t=this.ownerDocument)||void 0===t?void 0:t.getElementById(this.target);return null!==e?[e]:[]}get targetElementsByQuery(){var t;const e=null===(t=this.ownerDocument)||void 0===t?void 0:t.querySelectorAll(this.targets);return 0!==e.length?Array.prototype.slice.call(e):[]}}class qt extends HTMLElement{constructor(){super(...arguments),this.streamSource=null}connectedCallback(){this.streamSource=this.src.match(/^ws{1,2}:/)?new WebSocket(this.src):new EventSource(this.src),Pt(this.streamSource)}disconnectedCallback(){this.streamSource&&Rt(this.streamSource)}get src(){return this.getAttribute("src")||""}}h.delegateConstructor=class{constructor(t){this.fetchResponseLoaded=t=>{},this.currentFetchRequest=null,this.resolveVisitPromise=()=>{},this.connected=!1,this.hasBeenLoaded=!1,this.ignoredAttributes=new Set,this.action=null,this.visitCachedSnapshot=({element:t})=>{const e=t.querySelector("#"+this.element.id);e&&this.previousFrameElement&&e.replaceChildren(...this.previousFrameElement.children),delete this.previousFrameElement},this.element=t,this.view=new U(this,this.element),this.appearanceObserver=new I(this,this.element),this.formLinkClickObserver=new K(this,this.element),this.linkInterceptor=new $(this,this.element),this.restorationIdentifier=L(),this.formSubmitObserver=new W(this,this.element)}connect(){this.connected||(this.connected=!0,this.loadingStyle==i.lazy?this.appearanceObserver.start():this.loadSourceURL(),this.formLinkClickObserver.start(),this.linkInterceptor.start(),this.formSubmitObserver.start())}disconnect(){this.connected&&(this.connected=!1,this.appearanceObserver.stop(),this.formLinkClickObserver.stop(),this.linkInterceptor.stop(),this.formSubmitObserver.stop())}disabledChanged(){this.loadingStyle==i.eager&&this.loadSourceURL()}sourceURLChanged(){this.isIgnoringChangesTo("src")||(this.element.isConnected&&(this.complete=!1),(this.loadingStyle==i.eager||this.hasBeenLoaded)&&this.loadSourceURL())}sourceURLReloaded(){const{src:t}=this.element;return this.ignoringChangesToAttribute("complete",(()=>{this.element.removeAttribute("complete")})),this.element.src=null,this.element.src=t,this.element.loaded}completeChanged(){this.isIgnoringChangesTo("complete")||this.loadSourceURL()}loadingStyleChanged(){this.loadingStyle==i.lazy?this.appearanceObserver.start():(this.appearanceObserver.stop(),this.loadSourceURL())}async loadSourceURL(){this.enabled&&this.isActive&&!this.complete&&this.sourceURL&&(this.element.loaded=this.visit(f(this.sourceURL)),this.appearanceObserver.stop(),await this.element.loaded,this.hasBeenLoaded=!0)}async loadResponse(t){(t.redirected||t.succeeded&&t.isHTML)&&(this.sourceURL=t.response.url);try{const e=await t.responseHTML;if(e){const{body:n}=O(e),r=await this.extractForeignFrameElement(n);if(r){const e=new B(r),n=new Y(this,this.view.snapshot,e,Y.renderElement,!1,!1);this.view.renderPromise&&await this.view.renderPromise,this.changeHistory(),await this.view.render(n),this.complete=!0,Tt.frameRendered(t,this.element),Tt.frameLoaded(this.element),this.fetchResponseLoaded(t)}else this.willHandleFrameMissingFromResponse(t)&&(console.warn(`A matching frame for #${this.element.id} was missing from the response, transforming into full-page Visit.`),this.visitResponse(t.response))}}catch(t){console.error(t),this.view.invalidate()}finally{this.fetchResponseLoaded=()=>{}}}elementAppearedInViewport(t){this.loadSourceURL()}willSubmitFormLinkToLocation(t){return this.shouldInterceptNavigation(t)}submittedFormLinkToLocation(t,e,n){const r=this.findFrameElement(t);r&&n.setAttribute("data-turbo-frame",r.id)}shouldInterceptLinkClick(t,e,n){return this.shouldInterceptNavigation(t)}linkClickIntercepted(t,e){this.navigateFrame(t,e)}willSubmitForm(t,e){return t.closest("turbo-frame")==this.element&&this.shouldInterceptNavigation(t,e)}formSubmitted(t,e){this.formSubmission&&this.formSubmission.stop(),this.formSubmission=new F(this,t,e);const{fetchRequest:n}=this.formSubmission;this.prepareHeadersForRequest(n.headers,n),this.formSubmission.start()}prepareHeadersForRequest(t,e){var n;t["Turbo-Frame"]=this.id,(null===(n=this.currentNavigationElement)||void 0===n?void 0:n.hasAttribute("data-turbo-stream"))&&e.acceptResponseType(D.contentType)}requestStarted(t){C(this.element)}requestPreventedHandlingResponse(t,e){this.resolveVisitPromise()}async requestSucceededWithResponse(t,e){await this.loadResponse(e),this.resolveVisitPromise()}async requestFailedWithResponse(t,e){console.error(e),await this.loadResponse(e),this.resolveVisitPromise()}requestErrored(t,e){console.error(e),this.resolveVisitPromise()}requestFinished(t){P(this.element)}formSubmissionStarted({formElement:t}){C(t,this.findFrameElement(t))}formSubmissionSucceededWithResponse(t,e){const n=this.findFrameElement(t.formElement,t.submitter);n.delegate.proposeVisitIfNavigatedWithAction(n,t.formElement,t.submitter),n.delegate.loadResponse(e)}formSubmissionFailedWithResponse(t,e){this.element.delegate.loadResponse(e)}formSubmissionErrored(t,e){console.error(e)}formSubmissionFinished({formElement:t}){P(t,this.findFrameElement(t))}allowsImmediateRender({element:t},e){const n=k("turbo:before-frame-render",{target:this.element,detail:Object.assign({newFrame:t},e),cancelable:!0}),{defaultPrevented:r,detail:{render:o}}=n;return this.view.renderer&&o&&(this.view.renderer.renderElement=o),!r}viewRenderedSnapshot(t,e){}preloadOnLoadLinksForView(t){Tt.preloadOnLoadLinksForView(t)}viewInvalidated(){}willRenderFrame(t,e){this.previousFrameElement=t.cloneNode(!0)}async visit(t){var e;const n=new N(this,s.get,t,new URLSearchParams,this.element);return null===(e=this.currentFetchRequest)||void 0===e||e.cancel(),this.currentFetchRequest=n,new Promise((t=>{this.resolveVisitPromise=()=>{this.resolveVisitPromise=()=>{},this.currentFetchRequest=null,t()},n.perform()}))}navigateFrame(t,e,n){const r=this.findFrameElement(t,n);this.pageSnapshot=et.fromElement(r).clone(),r.delegate.proposeVisitIfNavigatedWithAction(r,t,n),this.withCurrentNavigationElement(t,(()=>{r.src=e}))}proposeVisitIfNavigatedWithAction(t,e,n){if(this.action=function(...t){const e=A("data-turbo-action",...t);return E(e)?e:null}(n,e,t),E(this.action)){const{visitCachedSnapshot:e}=t.delegate;t.delegate.fetchResponseLoaded=n=>{if(t.src){const{statusCode:r,redirected:o}=n,i={response:{statusCode:r,redirected:o,responseHTML:t.ownerDocument.documentElement.outerHTML},visitCachedSnapshot:e,willRender:!1,updateHistory:!1,restorationIdentifier:this.restorationIdentifier,snapshot:this.pageSnapshot};this.action&&(i.action=this.action),Tt.visit(t.src,i)}}}}changeHistory(){if(this.action){const t=_(this.action);Tt.history.update(t,f(this.element.src||""),this.restorationIdentifier)}}willHandleFrameMissingFromResponse(t){this.element.setAttribute("complete","");const e=t.response;return!k("turbo:frame-missing",{target:this.element,detail:{response:e,visit:async(t,e={})=>{t instanceof Response?this.visitResponse(t):Tt.visit(t,e)}},cancelable:!0}).defaultPrevented}async visitResponse(t){const e=new w(t),n=await e.responseHTML,{location:r,redirected:o,statusCode:i}=e;return Tt.visit(r,{response:{redirected:o,statusCode:i,responseHTML:n}})}findFrameElement(t,e){var n;return null!==(n=Ft(A("data-turbo-frame",e,t)||this.element.getAttribute("target")))&&void 0!==n?n:this.element}async extractForeignFrameElement(t){let e;const n=CSS.escape(this.id);try{if(e=Bt(t.querySelector(`turbo-frame#${n}`),this.sourceURL),e)return e;if(e=Bt(t.querySelector(`turbo-frame[src][recurse~=${n}]`),this.sourceURL),e)return await e.loaded,await this.extractForeignFrameElement(e)}catch(t){return console.error(t),new h}return null}formActionIsVisitable(t,e){return v(f(p(t,e)),this.rootLocation)}shouldInterceptNavigation(t,e){const n=A("data-turbo-frame",e,t)||this.element.getAttribute("target");if(t instanceof HTMLFormElement&&!this.formActionIsVisitable(t,e))return!1;if(!this.enabled||"_top"==n)return!1;if(n){const t=Ft(n);if(t)return!t.disabled}return!!Tt.elementIsNavigatable(t)&&!(e&&!Tt.elementIsNavigatable(e))}get id(){return this.element.id}get enabled(){return!this.element.disabled}get sourceURL(){if(this.element.src)return this.element.src}set sourceURL(t){this.ignoringChangesToAttribute("src",(()=>{this.element.src=null!=t?t:null}))}get loadingStyle(){return this.element.loading}get isLoading(){return void 0!==this.formSubmission||void 0!==this.resolveVisitPromise()}get complete(){return this.element.hasAttribute("complete")}set complete(t){this.ignoringChangesToAttribute("complete",(()=>{t?this.element.setAttribute("complete",""):this.element.removeAttribute("complete")}))}get isActive(){return this.element.isActive&&this.connected}get rootLocation(){var t;const e=this.element.ownerDocument.querySelector('meta[name="turbo-root"]');return f(null!==(t=null==e?void 0:e.content)&&void 0!==t?t:"/")}isIgnoringChangesTo(t){return this.ignoredAttributes.has(t)}ignoringChangesToAttribute(t,e){this.ignoredAttributes.add(t),e(),this.ignoredAttributes.delete(t)}withCurrentNavigationElement(t,e){this.currentNavigationElement=t,e(),delete this.currentNavigationElement}},void 0===customElements.get("turbo-frame")&&customElements.define("turbo-frame",h),void 0===customElements.get("turbo-stream")&&customElements.define("turbo-stream",Ht),void 0===customElements.get("turbo-stream-source")&&customElements.define("turbo-stream-source",qt),(()=>{let t=document.currentScript;if(t&&!t.hasAttribute("data-turbo-suppress-warning"))for(t=t.parentElement;t;){if(t==document.body)return console.warn(x`
        You are loading Turbo from a <script> element inside the <body> element. This is probably not what you meant to do!

        Load your applications JavaScript bundle inside the <head> element instead. <script> elements in <body> are evaluated with each page change.

        For more information, see: https://turbo.hotwired.dev/handbook/building#working-with-script-elements

        
        Suppress this warning by adding a "data-turbo-suppress-warning" attribute to: %s
      `,t.outerHTML);t=t.parentElement}})(),window.Turbo=Dt,Lt()},1215:()=>{"use strict";function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var e=function(){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),this.title="",this.count=0}var n,r,o;return n=e,(r=[{key:"initialize",value:function(){this.title=document.title,this.count=0}},{key:"increment",value:function(){this.count++,this.update()}},{key:"reset",value:function(){this.count=0,this.update()}},{key:"update",value:function(){document.title=(this.count?"(".concat(this.count,") "):"")+this.title}}])&&t(n.prototype,r),o&&t(n,o),Object.defineProperty(n,"prototype",{writable:!1}),e}();Waterhole.documentTitle=new e,document.addEventListener("turbo:load",(function(){return Waterhole.documentTitle.initialize()})),window.addEventListener("focus",(function(){return Waterhole.documentTitle.reset()}))},1686:(t,e,n)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(t,e){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},s(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=u(t);if(e){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}function c(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function u(t){return u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},u(t)}n.r(e),n.d(e,{default:()=>l});var l=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s(t,e)}(u,t);var e,n,r,c=a(u);function u(){return o(this,u),c.apply(this,arguments)}return e=u,(n=[{key:"dismiss",value:function(t){var e=this.element.closest("ui-alerts");e?e.dismiss(this.element):this.element.remove()}}])&&i(e.prototype,n),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(n(6599).Qr)},9961:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>f});var r=n(6599),o=n(4117);function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t,e){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},c(t,e)}function u(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=h(t);if(e){var o=h(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}function l(t,e){if(e&&("object"===i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function h(t){return h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},h(t)}var f=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&c(t,e)}(l,t);var e,n,r,i=u(l);function l(){return s(this,l),i.apply(this,arguments)}return e=l,(n=[{key:"commentId",get:function(){return this.element.getAttribute("data-comment-id")||""}},{key:"parentId",get:function(){return this.element.getAttribute("data-parent-id")||""}},{key:"parentElements",get:function(){return Array.from(document.querySelectorAll('[data-comment-id="'.concat(this.parentId,'"]')))}},{key:"highlightParent",value:function(){this.parentElements.forEach((function(t){t.classList.add("is-highlighted")})),this.parentTooltipTarget&&(this.parentTooltipTarget.disabled=this.parentElements.some((function(t){return(0,o.PZ)(t,.5)})))}},{key:"stopHighlightingParent",value:function(){this.parentElements.forEach((function(t){t.classList.remove("is-highlighted")}))}}])&&a(e.prototype,n),r&&a(e,r),Object.defineProperty(e,"prototype",{writable:!1}),l}(r.Qr);f.targets=["parentTooltip"]},8896:(t,e,n)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(t,e){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},s(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=u(t);if(e){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}function c(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function u(t){return u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},u(t)}n.r(e),n.d(e,{default:()=>l});var l=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s(t,e)}(u,t);var e,n,r,c=a(u);function u(){return o(this,u),c.apply(this,arguments)}return e=u,(n=[{key:"connect",value:function(){var t=this;this.element.addEventListener("click",(function(e){var n,r="false"===t.element.getAttribute("aria-expanded");t.element.setAttribute("aria-expanded",String(r));var o=null===(n=t.element.closest(".comment"))||void 0===n?void 0:n.querySelector(".comment__replies");o&&(o.hidden=!r),r||e.preventDefault()}))}},{key:"focusAfterLoad",value:function(){addEventListener("turbo:frame-render",(function(t){var e,n=window.scrollY;null===(e=t.target.querySelector(".comment__replies"))||void 0===e||e.focus(),window.scroll({top:n})}),{once:!0})}}])&&i(e.prototype,n),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(n(6599).Qr)},9165:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>d});var r=n(6599),o=n(9380),i=n(4117);function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},u(t,e)}function l(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=f(t);if(e){var o=f(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h(this,n)}}function h(t,e){if(e&&("object"===s(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function f(t){return f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},f(t)}var d=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&u(t,e)}(h,t);var e,n,r,s=l(h);function h(){return a(this,h),s.apply(this,arguments)}return e=h,(n=[{key:"connect",value:function(){var t=Number(localStorage.getItem("composer_height"));t&&(this.element.style.height=t+"px"),window.location.hash.substring(1)===this.element.id&&this.open()}},{key:"placeholderClick",value:function(t){(0,i.or)(t)||(t.preventDefault(),this.open(),(0,o.Z)(document.documentElement.offsetHeight,{minDuration:200,maxDuration:200}))}},{key:"open",value:function(){var t;this.element.classList.add("is-open"),null===(t=this.element.querySelector("textarea"))||void 0===t||t.focus()}},{key:"close",value:function(){this.element.classList.remove("is-open")}},{key:"submitEnd",value:function(t){t.detail.fetchResponse.contentType.startsWith("text/vnd.turbo-stream.html")&&this.close()}},{key:"startResize",value:function(t){t.preventDefault();var e=this.element,n=t.clientY,r=e.offsetHeight,o=e.getBoundingClientRect().bottom,i=function(t){var i=r-(t.clientY-n);e.style.height=i+"px",localStorage.setItem("composer_height",String(i)),window.scroll(0,window.scrollY+e.getBoundingClientRect().bottom-o)};e.classList.add("is-resizing"),document.addEventListener("mousemove",i),document.addEventListener("mouseup",(function(){document.removeEventListener("mousemove",i),e.classList.remove("is-resizing")}),{once:!0})}}])&&c(e.prototype,n),r&&c(e,r),Object.defineProperty(e,"prototype",{writable:!1}),h}(r.Qr);d.targets=["handle"]},4208:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>d});var r=n(6599),o=n(6485),i=n.n(o);function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},u(t,e)}function l(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=f(t);if(e){var o=f(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h(this,n)}}function h(t,e){if(e&&("object"===s(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function f(t){return f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},f(t)}var d=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&u(t,e)}(s,t);var e,n,r,o=l(s);function s(){return a(this,s),o.apply(this,arguments)}return e=s,(n=[{key:"connect",value:function(){var t=this;this.element.addEventListener("click",(function(e){i()(t.element.getAttribute("href")||""),e.preventDefault()}))}}])&&c(e.prototype,n),r&&c(e,r),Object.defineProperty(e,"prototype",{writable:!1}),s}(r.Qr)},4119:(t,e,n)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(t,e){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},s(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=u(t);if(e){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}function c(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function u(t){return u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},u(t)}n.r(e),n.d(e,{default:()=>l});var l=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s(t,e)}(u,t);var e,n,r,c=a(u);function u(){var t;return o(this,u),(t=c.apply(this,arguments)).lockScrollPosition=function(e){var n;e.target===e.currentTarget&&(t.anchor=t.element.nextElementSibling,t.anchor&&(t.top=t.anchor.getBoundingClientRect().top),null===(n=t.observer)||void 0===n||n.disconnect(),t.observer=new MutationObserver((function(){return t.restore()})),t.observer.observe(document.body,{subtree:!0,childList:!0,attributes:!0}))},t.unlockScrollPosition=function(e){e&&e.target!==e.currentTarget||setTimeout((function(){var e;null===(e=t.observer)||void 0===e||e.disconnect(),delete t.observer}))},t}return e=u,(n=[{key:"connect",value:function(){this.element.addEventListener("turbo:before-fetch-response",this.lockScrollPosition),this.element.addEventListener("turbo:frame-render",this.unlockScrollPosition)}},{key:"disconnect",value:function(){this.element.removeEventListener("turbo:before-fetch-response",this.lockScrollPosition),this.element.removeEventListener("turbo:frame-render",this.unlockScrollPosition),this.unlockScrollPosition()}},{key:"restore",value:function(){this.anchor&&this.top&&window.scroll({top:window.scrollY+this.anchor.getBoundingClientRect().top-this.top})}}])&&i(e.prototype,n),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(n(6599).Qr)},2925:(t,e,n)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(t,e){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},s(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=u(t);if(e){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}function c(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function u(t){return u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},u(t)}n.r(e),n.d(e,{default:()=>l});var l=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s(t,e)}(u,t);var e,n,r,c=a(u);function u(){return o(this,u),c.apply(this,arguments)}return e=u,(n=[{key:"disconnect",value:function(){var t,e=(null===(t=this.element.querySelector("input[name=email]"))||void 0===t?void 0:t.value)||"";document.addEventListener("turbo:load",(function(){var t=document.querySelector("input[name=email]");t&&(t.value=e)}),{once:!0})}}])&&i(e.prototype,n),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(n(6599).Qr)},2335:(t,e,n)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(t,e){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},s(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=u(t);if(e){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}function c(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function u(t){return u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},u(t)}n.r(e),n.d(e,{default:()=>l});var l=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s(t,e)}(u,t);var e,n,r,c=a(u);function u(){return o(this,u),c.apply(this,arguments)}return e=u,(n=[{key:"connect",value:function(){this.frameTarget.removeAttribute("disabled")}},{key:"loading",value:function(){this.element.open||(this.frameTarget.hidden=!0,this.loadingTarget.hidden=!1),this.show()}},{key:"loaded",value:function(){this.frameTarget.hidden=!1,this.loadingTarget.hidden=!0,this.frameTarget.children.length?this.show():this.hide()}},{key:"show",value:function(){this.element.open||(this.element.open=!0)}},{key:"hide",value:function(t){t instanceof MouseEvent&&t.preventDefault(),this.element.open&&this.element.close()}}])&&i(e.prototype,n),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(n(6599).Qr);l.targets=["frame","loading"]},3461:(t,e,n)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(t,e){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},s(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=u(t);if(e){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}function c(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function u(t){return u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},u(t)}n.r(e),n.d(e,{default:()=>l});var l=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s(t,e)}(u,t);var e,n,r,c=a(u);function u(){return o(this,u),c.apply(this,arguments)}return e=u,(n=[{key:"open",value:function(t){this.badgeTarget.hidden||(this.badgeTarget.hidden=!0,this.frameTarget.reload()),Waterhole.alerts.dismiss("notification"),"none"===getComputedStyle(this.xsTarget).display&&(window.Turbo.visit(t.currentTarget.href),this.element.open=!1)}}])&&i(e.prototype,n),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(n(6599).Qr);l.targets=["badge","frame","xs"]},8253:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>f});var r=n(6599),o=n(4117);function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t,e){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},c(t,e)}function u(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=h(t);if(e){var o=h(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}function l(t,e){if(e&&("object"===i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function h(t){return h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},h(t)}var f=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&c(t,e)}(l,t);var e,n,r,i=u(l);function l(){return s(this,l),i.apply(this,arguments)}return e=l,(n=[{key:"initialize",value:function(){var t=this;this.observer=new IntersectionObserver((function(e){t.breadcrumbTarget.hidden=e[0].isIntersecting}),{rootMargin:"-".concat((0,o.CF)(),"px")})}},{key:"titleTargetConnected",value:function(t){this.breadcrumbTarget.innerHTML=t.innerHTML||"",this.observer.observe(t)}},{key:"titleTargetDisconnected",value:function(){this.observer.disconnect()}},{key:"incrementDocumentTitle",value:function(){Waterhole.documentTitle.increment()}},{key:"closeModal",value:function(){var t;null===(t=document.querySelector("#modal-element"))||void 0===t||t.close()}}])&&a(e.prototype,n),r&&a(e,r),Object.defineProperty(e,"prototype",{writable:!1}),l}(r.Qr);f.targets=["breadcrumb","title"]},948:(t,e,n)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(t,e){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},s(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=u(t);if(e){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}function c(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function u(t){return u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},u(t)}n.r(e),n.d(e,{default:()=>l});var l=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s(t,e)}(u,t);var e,n,r,c=a(u);function u(){return o(this,u),c.apply(this,arguments)}return e=u,(n=[{key:"appearAsRead",value:function(){this.element.classList.contains("is-unread")&&(this.element.classList.remove("is-unread","is-new"),this.element.classList.add("is-read"))}}])&&i(e.prototype,n),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(n(6599).Qr)},6861:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>d});var r=n(6599),o=n(9380),i=n(4117);function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},u(t,e)}function l(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=f(t);if(e){var o=f(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h(this,n)}}function h(t,e){if(e&&("object"===s(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function f(t){return f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},f(t)}var d=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&u(t,e)}(h,t);var e,n,r,s=l(h);function h(){return a(this,h),s.apply(this,arguments)}return e=h,(n=[{key:"connect",value:function(){var t,e=this;null===(t=this.channelsValue)||void 0===t||t.forEach((function(t){var n,r=(null===(n=e.publicChannelsValue)||void 0===n?void 0:n.includes(t))?"channel":"private";window.Echo[r]("Waterhole.Models.Channel.".concat(t)).listen("NewComment",(function(){"latest"===e.filterValue&&e.showNewActivity()})).listen("NewPost",(function(){"newest"!==e.filterValue&&"latest"!==e.filterValue||e.showNewActivity()}))}))}},{key:"disconnect",value:function(){var t;null===(t=this.channelsValue)||void 0===t||t.forEach((function(t){window.Echo.leave("Waterhole.Models.Channel.".concat(t))}))}},{key:"showNewActivity",value:function(){this.newActivityTarget&&(this.newActivityTarget.hidden=!1,Waterhole.documentTitle.increment())}},{key:"scrollToTop",value:function(){var t=(0,i.CF)()+20;this.element.getBoundingClientRect().top<t&&(0,o.Z)(this.element,{verticalOffset:-t})}}])&&c(e.prototype,n),r&&c(e,r),Object.defineProperty(e,"prototype",{writable:!1}),h}(r.Qr);d.targets=["newActivity"],d.values={filter:String,channels:Array,publicChannels:Array}},788:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>f});var r=n(6599),o=n(6184);function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t,e){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},c(t,e)}function u(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=h(t);if(e){var o=h(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}function l(t,e){if(e&&("object"===i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function h(t){return h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},h(t)}var f=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&c(t,e)}(l,t);var e,n,r,i=u(l);function l(){var t;return s(this,l),(t=i.apply(this,arguments)).showPostOnFirstPage=function(){document.getElementById("page_1")&&(t.postTarget.hidden=!1)},t.beforeStreamRender=function(e){var n,r=e.target;"remove"===r.action&&(null===(n=r.targets)||void 0===n?void 0:n.endsWith("post_"+t.idValue))&&(window.history.back(),window.addEventListener("popstate",(function(){window.requestAnimationFrame((function(){(0,o.renderStreamMessage)(r.outerHTML)}))}),{once:!0}),e.preventDefault())},t}return e=l,(n=[{key:"connect",value:function(){document.addEventListener("turbo:before-stream-render",this.beforeStreamRender),document.addEventListener("turbo:frame-render",this.showPostOnFirstPage)}},{key:"disconnect",value:function(){document.removeEventListener("turbo:before-stream-render",this.beforeStreamRender),document.removeEventListener("turbo:frame-render",this.showPostOnFirstPage)}}])&&a(e.prototype,n),r&&a(e,r),Object.defineProperty(e,"prototype",{writable:!1}),l}(r.Qr);f.targets=["post"],f.values={id:Number}},450:(t,e,n)=>{"use strict";function r(t){return t.split("-")[0]}function o(t){return t.split("-")[1]}function i(t){return["top","bottom"].includes(r(t))?"x":"y"}function s(t){return"y"===t?"height":"width"}function a(t,e,n){let{reference:a,floating:c}=t;const u=a.x+a.width/2-c.width/2,l=a.y+a.height/2-c.height/2,h=i(e),f=s(h),d=a[f]/2-c[f]/2,p="x"===h;let m;switch(r(e)){case"top":m={x:u,y:a.y-c.height};break;case"bottom":m={x:u,y:a.y+a.height};break;case"right":m={x:a.x+a.width,y:l};break;case"left":m={x:a.x-c.width,y:l};break;default:m={x:a.x,y:a.y}}switch(o(e)){case"start":m[h]-=d*(n&&p?-1:1);break;case"end":m[h]+=d*(n&&p?-1:1)}return m}n.r(e),n.d(e,{default:()=>ft});function c(t){return"number"!=typeof t?function(t){return{top:0,right:0,bottom:0,left:0,...t}}(t):{top:t,right:t,bottom:t,left:t}}function u(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}async function l(t,e){var n;void 0===e&&(e={});const{x:r,y:o,platform:i,rects:s,elements:a,strategy:l}=t,{boundary:h="clippingAncestors",rootBoundary:f="viewport",elementContext:d="floating",altBoundary:p=!1,padding:m=0}=e,y=c(m),v=a[p?"floating"===d?"reference":"floating":d],g=u(await i.getClippingRect({element:null==(n=await(null==i.isElement?void 0:i.isElement(v)))||n?v:v.contextElement||await(null==i.getDocumentElement?void 0:i.getDocumentElement(a.floating)),boundary:h,rootBoundary:f,strategy:l})),b=u(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({rect:"floating"===d?{...s.floating,x:r,y:o}:s.reference,offsetParent:await(null==i.getOffsetParent?void 0:i.getOffsetParent(a.floating)),strategy:l}):s[d]);return{top:g.top-b.top+y.top,bottom:b.bottom-g.bottom+y.bottom,left:g.left-b.left+y.left,right:b.right-g.right+y.right}}const h=Math.min,f=Math.max;function d(t,e,n){return f(t,h(e,n))}const p={left:"right",right:"left",bottom:"top",top:"bottom"};function m(t){return t.replace(/left|right|bottom|top/g,(t=>p[t]))}function y(t,e,n){void 0===n&&(n=!1);const r=o(t),a=i(t),c=s(a);let u="x"===a?r===(n?"end":"start")?"right":"left":"start"===r?"bottom":"top";return e.reference[c]>e.floating[c]&&(u=m(u)),{main:u,cross:m(u)}}const v={start:"end",end:"start"};function g(t){return t.replace(/start|end/g,(t=>v[t]))}const b=["top","right","bottom","left"],w=(b.reduce(((t,e)=>t.concat(e,e+"-start",e+"-end")),[]),function(t){return void 0===t&&(t={}),{name:"flip",options:t,async fn(e){var n;const{placement:o,middlewareData:i,rects:s,initialPlacement:a,platform:c,elements:u}=e,{mainAxis:h=!0,crossAxis:f=!0,fallbackPlacements:d,fallbackStrategy:p="bestFit",flipAlignment:v=!0,...b}=t,w=r(o),E=d||(w!==a&&v?function(t){const e=m(t);return[g(t),e,g(e)]}(a):[m(a)]),S=[a,...E],k=await l(e,b),T=[];let O=(null==(n=i.flip)?void 0:n.overflows)||[];if(h&&T.push(k[w]),f){const{main:t,cross:e}=y(o,s,await(null==c.isRTL?void 0:c.isRTL(u.floating)));T.push(k[t],k[e])}if(O=[...O,{placement:o,overflows:T}],!T.every((t=>t<=0))){var x,L;const t=(null!=(x=null==(L=i.flip)?void 0:L.index)?x:0)+1,e=S[t];if(e)return{data:{index:t,overflows:O},reset:{placement:e}};let n="bottom";switch(p){case"bestFit":{var A;const t=null==(A=O.map((t=>[t,t.overflows.filter((t=>t>0)).reduce(((t,e)=>t+e),0)])).sort(((t,e)=>t[1]-e[1]))[0])?void 0:A[0].placement;t&&(n=t);break}case"initialPlacement":n=a}if(o!==n)return{reset:{placement:n}}}return{}}}});const E=function(t){return void 0===t&&(t=0),{name:"offset",options:t,async fn(e){const{x:n,y:s}=e,a=await async function(t,e){const{placement:n,platform:s,elements:a}=t,c=await(null==s.isRTL?void 0:s.isRTL(a.floating)),u=r(n),l=o(n),h="x"===i(n),f=["left","top"].includes(u)?-1:1,d=c&&h?-1:1,p="function"==typeof e?e(t):e;let{mainAxis:m,crossAxis:y,alignmentAxis:v}="number"==typeof p?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...p};return l&&"number"==typeof v&&(y="end"===l?-1*v:v),h?{x:y*d,y:m*f}:{x:m*f,y:y*d}}(e,t);return{x:n+a.x,y:s+a.y,data:a}}}};function S(t){return"x"===t?"y":"x"}const k=function(t){return void 0===t&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:o,placement:s}=e,{mainAxis:a=!0,crossAxis:c=!1,limiter:u={fn:t=>{let{x:e,y:n}=t;return{x:e,y:n}}},...h}=t,f={x:n,y:o},p=await l(e,h),m=i(r(s)),y=S(m);let v=f[m],g=f[y];if(a){const t="y"===m?"bottom":"right";v=d(v+p["y"===m?"top":"left"],v,v-p[t])}if(c){const t="y"===y?"bottom":"right";g=d(g+p["y"===y?"top":"left"],g,g-p[t])}const b=u.fn({...e,[m]:v,[y]:g});return{...b,data:{x:b.x-n,y:b.y-o}}}}};function T(t){return t&&t.document&&t.location&&t.alert&&t.setInterval}function O(t){if(null==t)return window;if(!T(t)){const e=t.ownerDocument;return e&&e.defaultView||window}return t}function x(t){return O(t).getComputedStyle(t)}function L(t){return T(t)?"":t?(t.nodeName||"").toLowerCase():""}function A(){const t=navigator.userAgentData;return null!=t&&t.brands?t.brands.map((t=>t.brand+"/"+t.version)).join(" "):navigator.userAgent}function C(t){return t instanceof O(t).HTMLElement}function P(t){return t instanceof O(t).Element}function R(t){return"undefined"!=typeof ShadowRoot&&(t instanceof O(t).ShadowRoot||t instanceof ShadowRoot)}function _(t){const{overflow:e,overflowX:n,overflowY:r,display:o}=x(t);return/auto|scroll|overlay|hidden/.test(e+r+n)&&!["inline","contents"].includes(o)}function j(t){return["table","td","th"].includes(L(t))}function M(t){const e=/firefox/i.test(A()),n=x(t);return"none"!==n.transform||"none"!==n.perspective||e&&"filter"===n.willChange||e&&!!n.filter&&"none"!==n.filter||["transform","perspective"].some((t=>n.willChange.includes(t)))||["paint","layout","strict","content"].some((t=>{const e=n.contain;return null!=e&&e.includes(t)}))}function N(){return!/^((?!chrome|android).)*safari/i.test(A())}function I(t){return["html","body","#document"].includes(L(t))}const D=Math.min,F=Math.max,B=Math.round;function H(t,e,n){var r,o,i,s;void 0===e&&(e=!1),void 0===n&&(n=!1);const a=t.getBoundingClientRect();let c=1,u=1;e&&C(t)&&(c=t.offsetWidth>0&&B(a.width)/t.offsetWidth||1,u=t.offsetHeight>0&&B(a.height)/t.offsetHeight||1);const l=P(t)?O(t):window,h=!N()&&n,f=(a.left+(h&&null!=(r=null==(o=l.visualViewport)?void 0:o.offsetLeft)?r:0))/c,d=(a.top+(h&&null!=(i=null==(s=l.visualViewport)?void 0:s.offsetTop)?i:0))/u,p=a.width/c,m=a.height/u;return{width:p,height:m,top:d,right:f+p,bottom:d+m,left:f,x:f,y:d}}function q(t){return(e=t,(e instanceof O(e).Node?t.ownerDocument:t.document)||window.document).documentElement;var e}function W(t){return P(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function V(t){return H(q(t)).left+W(t).scrollLeft}function U(t,e,n){const r=C(e),o=q(e),i=H(t,r&&function(t){const e=H(t);return B(e.width)!==t.offsetWidth||B(e.height)!==t.offsetHeight}(e),"fixed"===n);let s={scrollLeft:0,scrollTop:0};const a={x:0,y:0};if(r||!r&&"fixed"!==n)if(("body"!==L(e)||_(o))&&(s=W(e)),C(e)){const t=H(e,!0);a.x=t.x+e.clientLeft,a.y=t.y+e.clientTop}else o&&(a.x=V(o));return{x:i.left+s.scrollLeft-a.x,y:i.top+s.scrollTop-a.y,width:i.width,height:i.height}}function $(t){return"html"===L(t)?t:t.assignedSlot||t.parentNode||(R(t)?t.host:null)||q(t)}function z(t){return C(t)&&"fixed"!==x(t).position?t.offsetParent:null}function K(t){const e=O(t);let n=z(t);for(;n&&j(n)&&"static"===x(n).position;)n=z(n);return n&&("html"===L(n)||"body"===L(n)&&"static"===x(n).position&&!M(n))?e:n||function(t){let e=$(t);for(R(e)&&(e=e.host);C(e)&&!I(e);){if(M(e))return e;{const t=e.parentNode;e=R(t)?t.host:t}}return null}(t)||e}function G(t){if(C(t))return{width:t.offsetWidth,height:t.offsetHeight};const e=H(t);return{width:e.width,height:e.height}}function X(t){const e=$(t);return I(e)?t.ownerDocument.body:C(e)&&_(e)?e:X(e)}function Y(t,e){var n;void 0===e&&(e=[]);const r=X(t),o=r===(null==(n=t.ownerDocument)?void 0:n.body),i=O(r),s=o?[i].concat(i.visualViewport||[],_(r)?r:[]):r,a=e.concat(s);return o?a:a.concat(Y(s))}function J(t,e,n){return"viewport"===e?u(function(t,e){const n=O(t),r=q(t),o=n.visualViewport;let i=r.clientWidth,s=r.clientHeight,a=0,c=0;if(o){i=o.width,s=o.height;const t=N();(t||!t&&"fixed"===e)&&(a=o.offsetLeft,c=o.offsetTop)}return{width:i,height:s,x:a,y:c}}(t,n)):P(e)?function(t,e){const n=H(t,!1,"fixed"===e),r=n.top+t.clientTop,o=n.left+t.clientLeft;return{top:r,left:o,x:o,y:r,right:o+t.clientWidth,bottom:r+t.clientHeight,width:t.clientWidth,height:t.clientHeight}}(e,n):u(function(t){var e;const n=q(t),r=W(t),o=null==(e=t.ownerDocument)?void 0:e.body,i=F(n.scrollWidth,n.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),s=F(n.scrollHeight,n.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0);let a=-r.scrollLeft+V(t);const c=-r.scrollTop;return"rtl"===x(o||n).direction&&(a+=F(n.clientWidth,o?o.clientWidth:0)-i),{width:i,height:s,x:a,y:c}}(q(t)))}function Q(t){const e=Y(t),n=function(t,e){let n=t;for(;n&&!I(n)&&!e.includes(n)&&(!P(n)||!["absolute","fixed"].includes(x(n).position));){const t=$(n);n=R(t)?t.host:t}return n}(t,e);let r=null;if(n&&C(n)){const t=K(n);_(n)?r=n:C(t)&&(r=t)}return P(r)?e.filter((t=>r&&P(t)&&function(t,e){const n=null==e.getRootNode?void 0:e.getRootNode();if(t.contains(e))return!0;if(n&&R(n)){let n=e;do{if(n&&t===n)return!0;n=n.parentNode||n.host}while(n)}return!1}(t,r)&&"body"!==L(t))):[]}const Z={getClippingRect:function(t){let{element:e,boundary:n,rootBoundary:r,strategy:o}=t;const i=[..."clippingAncestors"===n?Q(e):[].concat(n),r],s=i[0],a=i.reduce(((t,n)=>{const r=J(e,n,o);return t.top=F(r.top,t.top),t.right=D(r.right,t.right),t.bottom=D(r.bottom,t.bottom),t.left=F(r.left,t.left),t}),J(e,s,o));return{width:a.right-a.left,height:a.bottom-a.top,x:a.left,y:a.top}},convertOffsetParentRelativeRectToViewportRelativeRect:function(t){let{rect:e,offsetParent:n,strategy:r}=t;const o=C(n),i=q(n);if(n===i)return e;let s={scrollLeft:0,scrollTop:0};const a={x:0,y:0};if((o||!o&&"fixed"!==r)&&(("body"!==L(n)||_(i))&&(s=W(n)),C(n))){const t=H(n,!0);a.x=t.x+n.clientLeft,a.y=t.y+n.clientTop}return{...e,x:e.x-s.scrollLeft+a.x,y:e.y-s.scrollTop+a.y}},isElement:P,getDimensions:G,getOffsetParent:K,getDocumentElement:q,getElementRects:t=>{let{reference:e,floating:n,strategy:r}=t;return{reference:U(e,K(n),r),floating:{...G(n),x:0,y:0}}},getClientRects:t=>Array.from(t.getClientRects()),isRTL:t=>"rtl"===x(t).direction};const tt=(t,e,n)=>(async(t,e,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:i=[],platform:s}=n,c=await(null==s.isRTL?void 0:s.isRTL(e));let u=await s.getElementRects({reference:t,floating:e,strategy:o}),{x:l,y:h}=a(u,r,c),f=r,d={},p=0;for(let n=0;n<i.length;n++){const{name:m,fn:y}=i[n],{x:v,y:g,data:b,reset:w}=await y({x:l,y:h,initialPlacement:r,placement:f,strategy:o,middlewareData:d,rects:u,platform:s,elements:{reference:t,floating:e}});l=null!=v?v:l,h=null!=g?g:h,d={...d,[m]:{...d[m],...b}},w&&p<=50&&(p++,"object"==typeof w&&(w.placement&&(f=w.placement),w.rects&&(u=!0===w.rects?await s.getElementRects({reference:t,floating:e,strategy:o}):w.rects),({x:l,y:h}=a(u,f,c))),n=-1)}return{x:l,y:h,placement:f,strategy:o,middlewareData:d}})(t,e,{platform:Z,...n});var et=n(6599);function nt(t){return nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nt(t)}function rt(){rt=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",a=o.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function u(t,e,n,o){var i=e&&e.prototype instanceof f?e:f,s=Object.create(i.prototype),a=new O(o||[]);return r(s,"_invoke",{value:E(t,n,a)}),s}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var h={};function f(){}function d(){}function p(){}var m={};c(m,i,(function(){return this}));var y=Object.getPrototypeOf,v=y&&y(y(x([])));v&&v!==e&&n.call(v,i)&&(m=v);var g=p.prototype=f.prototype=Object.create(m);function b(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(r,i,s,a){var c=l(t[r],t,i);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"==nt(h)&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){o("next",t,s,a)}),(function(t){o("throw",t,s,a)})):e.resolve(h).then((function(t){u.value=t,s(u)}),(function(t){return o("throw",t,s,a)}))}a(c.arg)}var i;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return i=i?i.then(r,r):r()}})}function E(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return L()}for(n.method=o,n.arg=i;;){var s=n.delegate;if(s){var a=S(s,n);if(a){if(a===h)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(t,e,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===h)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function S(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,S(t,e),"throw"===e.method))return h;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var r=l(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,h;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function T(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function x(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return d.prototype=p,r(g,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:d,configurable:!0}),d.displayName=c(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,a,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},b(w.prototype),c(w.prototype,s,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var s=new w(u(e,n,r,o),i);return t.isGeneratorFunction(n)?s:s.next().then((function(t){return t.done?t.value:s.next()}))},b(g),c(g,a,"Generator"),c(g,i,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=x,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(T),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return s.type="throw",s.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],s=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var a=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(a&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var s=i?i.completion:{};return s.type=t,s.arg=e,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),T(n),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;T(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:x(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},t}function ot(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function it(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function st(t,e){return st=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},st(t,e)}function at(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=lt(t);if(e){var o=lt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ct(this,n)}}function ct(t,e){if(e&&("object"===nt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return ut(t)}function ut(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lt(t){return lt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},lt(t)}var ht=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function s(t){try{c(r.next(t))}catch(t){i(t)}}function a(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))},ft=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&st(t,e)}(i,t);var e,n,r,o=at(i);function i(){var t;return ot(this,i),(t=o.apply(this,arguments)).handleSelectionChange=function(){setTimeout(t.updateQuoteButton.bind(ut(t)),100)},t}return e=i,n=[{key:"connect",value:function(){document.addEventListener("mouseup",this.handleSelectionChange)}},{key:"disconnect",value:function(){document.removeEventListener("mouseup",this.handleSelectionChange)}},{key:"updateQuoteButton",value:function(){return ht(this,void 0,void 0,rt().mark((function t(){var e,n,r,o,i,s,a,c,u,l=this;return rt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.hasButtonTarget){t.next=2;break}return t.abrupt("return");case 2:if(this.buttonTarget.hidden=!0,(e=window.getSelection())&&!e.isCollapsed&&e.anchorNode&&e.focusNode){t.next=6;break}return t.abrupt("return");case 6:if(n=e.getRangeAt(0),(r=n.commonAncestorContainer)===this.element||this.element.contains(r)){t.next=10;break}return t.abrupt("return");case 10:this.buttonTarget.hidden=!1,this.buttonTarget.style.position="absolute",this.buttonTarget.style.zIndex="var(--z-index-overlay)",o=e.anchorNode.compareDocumentPosition(e.focusNode),i=n.getClientRects(),o&Node.DOCUMENT_POSITION_PRECEDING||!o&&e.focusOffset<e.anchorOffset?(c=i[0],s=new DOMRect(c.left,c.top),a="top"):(u=i[i.length-1],s=new DOMRect(u.right,u.bottom),a="bottom"),tt({getBoundingClientRect:function(){return s}},this.buttonTarget,{placement:a,middleware:[E(10),k(),w()]}).then((function(t){var e=t.x,n=t.y;Object.assign(l.buttonTarget.style,{left:"".concat(e,"px"),top:"".concat(n,"px")})}));case 18:case"end":return t.stop()}}),t,this)})))}},{key:"quoteSelectedText",value:function(){var t=this,e=document.createElement("div"),n=window.getSelection();n&&(e.appendChild(n.getRangeAt(0).cloneContents()),e.querySelectorAll("img").forEach((function(t){return t.replaceWith(t.alt)})),n.removeAllRanges(),setTimeout((function(){t.dispatch("quote-text",{detail:{text:e.textContent},bubbles:!0,cancelable:!0})})))}}],n&&it(e.prototype,n),r&&it(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(et.Qr);ft.targets=["button"]},7266:(t,e,n)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(t,e){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},s(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=u(t);if(e){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}function c(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function u(t){return u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},u(t)}n.r(e),n.d(e,{default:()=>l});var l=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s(t,e)}(u,t);var e,n,r,c=a(u);function u(){var t;return o(this,u),(t=c.apply(this,arguments)).toggle=function(e){var n=e.target,r=n.value;n instanceof HTMLInputElement&&["checkbox","radio"].includes(n.type)&&!n.checked&&(r=""),t.thenTargets.forEach((function(t){t.hidden=t.dataset.revealValue?r!=t.dataset.revealValue:!r}))},t}return e=u,(n=[{key:"ifTargetConnected",value:function(t){t.addEventListener("change",this.toggle),t.dispatchEvent(new Event("change"))}},{key:"ifTargetDisconnected",value:function(t){t.removeEventListener("change",this.toggle)}}])&&i(e.prototype,n),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(n(6599).Qr);l.targets=["if","then"]},1680:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>f});var r=n(6599),o=n(4117);function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t,e){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},c(t,e)}function u(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=h(t);if(e){var o=h(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}function l(t,e){if(e&&("object"===i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function h(t){return h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},h(t)}var f=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&c(t,e)}(l,t);var e,n,r,i=u(l);function l(){var t;return s(this,l),(t=i.apply(this,arguments)).onScroll=function(){var e=Array.from(t.links()),n=(0,o.CF)();e.forEach((function(t){return t.removeAttribute("aria-current")})),e.reverse().some((function(e){var r=e.hash.substring(1);if(r){var o=document.getElementById(r);return o&&o.getBoundingClientRect().top<=n+50?(e.setAttribute("aria-current","page"),t.current!==e&&t.hasContainerTarget&&t.containerTarget.scroll({top:e.offsetTop+e.offsetHeight/2-t.containerTarget.offsetHeight/2,left:e.offsetLeft+e.offsetWidth/2-t.containerTarget.offsetWidth/2,behavior:t.current?"smooth":"auto"}),t.current=e,!0):void 0}}))},t}return e=l,(n=[{key:"connect",value:function(){this.onScroll(),window.addEventListener("scroll",this.onScroll)}},{key:"disconnect",value:function(){window.removeEventListener("scroll",this.onScroll)}},{key:"links",value:function(){return this.element.querySelectorAll('a[href*="#"]')}}])&&a(e.prototype,n),r&&a(e,r),Object.defineProperty(e,"prototype",{writable:!1}),l}(r.Qr);f.targets=["container"]},5824:(t,e,n)=>{"use strict";function r(t,e){var n,r,o;const i=t.value.slice(0,null!==(n=t.selectionStart)&&void 0!==n?n:void 0),s=t.value.slice(null!==(r=t.selectionEnd)&&void 0!==r?r:void 0);let a=!0;t.contentEditable="true";try{a=document.execCommand("insertText",!1,e)}catch(t){a=!1}if(t.contentEditable="false",a&&!t.value.slice(0,null!==(o=t.selectionStart)&&void 0!==o?o:void 0).endsWith(e)&&(a=!1),!a){try{document.execCommand("ms-beginUndoUnit")}catch(t){}t.value=i+e+s;try{document.execCommand("ms-endUndoUnit")}catch(t){}t.dispatchEvent(new CustomEvent("change",{bubbles:!0,cancelable:!0}))}}n.r(e),n.d(e,{default:()=>J});const o=new WeakMap;function i(t){const{currentTarget:e}=t,n="KeyV"===t.code&&(t.ctrlKey||t.metaKey)&&t.shiftKey;(n||n&&t.altKey)&&o.set(e,!0)}function s(t){const{currentTarget:e}=t;o.delete(e)}function a(t){var e;return null!==(e=o.get(t))&&void 0!==e&&e}function c(t){t.addEventListener("paste",u)}function u(t){const e=t.clipboardData,{currentTarget:n}=t;if(a(n))return;if(!e||!function(t){return t.types.includes("text/html")}(e))return;const o=t.currentTarget;if(!(o instanceof HTMLTextAreaElement))return;if(function(t){const e=t.selectionStart||0;if(0===e)return!1;return"@"===t.value.substring(e-1,e)}(o))return;let i=e.getData("text/plain");const s=e.getData("text/html"),c=s.replace(/\u00A0/g," ").replace(/\uC2A0/g," ");if(!s)return;if(i=i.trim(),!i)return;const u=(new DOMParser).parseFromString(c,"text/html"),d=function(t,e){var n;let r=e.firstChild(),o=t,i=0,s=0;const a=1e4;for(;r&&s<a;){s++;const t=h(r)?(r.textContent||"").replace(/[\t\n\r ]+/g," "):(null===(n=r.firstChild)||void 0===n?void 0:n.wholeText)||"";if(l(t)){r=e.nextNode();continue}const a=o.indexOf(t,i);if(a>=0)if(h(r)){const e=f(r,t);o=o.slice(0,a)+e+o.slice(a+t.length),i=a+e.length}else i=a+t.length;r=e.nextNode()}return s===a?t:o}(i,u.createTreeWalker(u.body,NodeFilter.SHOW_ELEMENT,(t=>t.parentNode&&h(t.parentNode)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT)));d!==i&&(t.stopPropagation(),t.preventDefault(),r(o,d))}function l(t){return!t||0===(null==t?void 0:t.trim().length)}function h(t){var e;return"a"===(null===(e=t.tagName)||void 0===e?void 0:e.toLowerCase())&&t.hasAttribute("href")}function f(t,e){const n=t.href||"";let r="";var o,i,s,a;return r="@"===(null===(a=(s=t).textContent)||void 0===a?void 0:a.slice(0,1))&&"user"===s.getAttribute("data-hovercard-type")?e:function(t){return t.className.indexOf("commit-link")>=0||!!t.getAttribute("data-hovercard-type")&&"user"!==t.getAttribute("data-hovercard-type")}(t)||(i=e,o="/"===(o=n).slice(-1)?o.slice(0,-1):o,i="/"===i.slice(-1)?i.slice(0,-1):i,o.toLowerCase()===i.toLowerCase())?n:`[${e}](${n})`,r}function d(t){t.addEventListener("dragover",m),t.addEventListener("drop",p),t.addEventListener("paste",y)}function p(t){const e=t.dataTransfer;if(!e)return;if(function(t){return Array.from(t.types).indexOf("Files")>=0}(e))return;if(!g(e))return;const n=b(e);if(!n.some(E))return;t.stopPropagation(),t.preventDefault();const o=t.currentTarget;o instanceof HTMLTextAreaElement&&r(o,n.map(v).join(""))}function m(t){const e=t.dataTransfer;e&&(e.dropEffect="link")}function y(t){const{currentTarget:e}=t;if(a(e))return;const n=t.clipboardData;if(!n||!g(n))return;const o=b(n);if(!o.some(E))return;t.stopPropagation(),t.preventDefault();const i=t.currentTarget;i instanceof HTMLTextAreaElement&&r(i,o.map(v).join(""))}function v(t){return E(t)?`\n![](${t})\n`:t}function g(t){return Array.from(t.types).indexOf("text/uri-list")>=0}function b(t){return(t.getData("text/uri-list")||"").split("\r\n")}const w=/\.(gif|png|jpe?g)$/i;function E(t){return w.test(t)}const S=new WeakMap;function k(t,e){var n;S.set(t,!0===(null===(n=null==e?void 0:e.defaultPlainTextPaste)||void 0===n?void 0:n.urlLinks)),t.addEventListener("paste",T)}function T(t){var e;const{currentTarget:n}=t,o=n,i=null!==(e=S.get(o))&&void 0!==e&&e,s=a(o);if(!i&&s||i&&!s)return;const c=t.clipboardData;if(!c||!function(t){return Array.from(t.types).includes("text/plain")}(c))return;const u=t.currentTarget;if(!(u instanceof HTMLTextAreaElement))return;const l=c.getData("text/plain");if(!l)return;if(!O(l))return;if(function(t){const e=t.selectionStart||0;if(e>1){return"]("===t.value.substring(e-2,e)}return!1}(u))return;const h=u.value.substring(u.selectionStart,u.selectionEnd);h.length&&(O(h.trim())||(t.stopPropagation(),t.preventDefault(),r(u,function(t,e){return`[${t}](${e})`}(h,l.trim()))))}function O(t){try{return x(new URL(t).href).trim()===x(t).trim()}catch(t){return!1}}function x(t){return t.endsWith("/")?t.slice(0,t.length-1):t}function L(t){t.addEventListener("dragover",C),t.addEventListener("drop",A),t.addEventListener("paste",P)}function A(t){const e=t.dataTransfer;if(!e)return;if(function(t){return Array.from(t.types).indexOf("Files")>=0}(e))return;const n=j(e);if(!n)return;t.stopPropagation(),t.preventDefault();const o=t.currentTarget;o instanceof HTMLTextAreaElement&&r(o,n)}function C(t){const e=t.dataTransfer;e&&(e.dropEffect="copy")}function P(t){const{currentTarget:e}=t;if(a(e))return;if(!t.clipboardData)return;const n=j(t.clipboardData);if(!n)return;t.stopPropagation(),t.preventDefault();const o=t.currentTarget;o instanceof HTMLTextAreaElement&&r(o,n)}function R(t){return(t.textContent||"").trim().replace(/\|/g,"\\|").replace(/\n/g," ")||""}function _(t){const e=Array.from(t.querySelectorAll("tr")),n=e.shift();if(!n)return"";const r=(o=n,Array.from(o.querySelectorAll("td, th")).map(R));var o;const i=r.map((()=>"--")),s=`${r.join(" | ")}\n${i.join(" | ")}\n`,a=e.map((t=>Array.from(t.querySelectorAll("td")).map(R).join(" | "))).join("\n");return`\n${s}${a}\n\n`}function j(t){if(-1===Array.from(t.types).indexOf("text/html"))return;const e=t.getData("text/html");if(!/<table/i.test(e))return;let n=(new DOMParser).parseFromString(e,"text/html").querySelector("table");if(n=!n||n.closest("[data-paste-markdown-skip]")?null:n,!n)return;const r=_(n);return e.replace(/<meta.*?>/,"").replace(/<table[.\S\s]*<\/table>/,`\n${r}`)}function M(t){t.addEventListener("paste",N)}function N(t){const{currentTarget:e}=t;if(a(e))return;const n=t.clipboardData;if(!n||!function(t){return Array.from(t.types).indexOf("text/x-gfm")>=0}(n))return;const o=t.currentTarget;if(!(o instanceof HTMLTextAreaElement))return;const i=n.getData("text/x-gfm");i&&(t.stopPropagation(),t.preventDefault(),r(o,i))}function I(t,e){return function(t,e,n){t.addEventListener("keydown",i);for(const r of e)r(t,n);t.addEventListener("paste",s)}(t,[L,d,k,M,c],e),{unsubscribe:()=>{!function(t){t.removeEventListener("keydown",i),t.removeEventListener("paste",s)}(t),function(t){t.removeEventListener("dragover",C),t.removeEventListener("drop",A),t.removeEventListener("paste",P)}(t),function(t){t.removeEventListener("paste",u)}(t),function(t){t.removeEventListener("dragover",m),t.removeEventListener("drop",p),t.removeEventListener("paste",y)}(t),function(t){t.removeEventListener("paste",T)}(t),function(t){t.removeEventListener("paste",N)}(t)}}}var D=n(6599),F=n(5923),B=n(4117);function H(t){return H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},H(t)}function q(){q=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",a=o.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function u(t,e,n,o){var i=e&&e.prototype instanceof f?e:f,s=Object.create(i.prototype),a=new O(o||[]);return r(s,"_invoke",{value:E(t,n,a)}),s}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var h={};function f(){}function d(){}function p(){}var m={};c(m,i,(function(){return this}));var y=Object.getPrototypeOf,v=y&&y(y(x([])));v&&v!==e&&n.call(v,i)&&(m=v);var g=p.prototype=f.prototype=Object.create(m);function b(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(r,i,s,a){var c=l(t[r],t,i);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"==H(h)&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){o("next",t,s,a)}),(function(t){o("throw",t,s,a)})):e.resolve(h).then((function(t){u.value=t,s(u)}),(function(t){return o("throw",t,s,a)}))}a(c.arg)}var i;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return i=i?i.then(r,r):r()}})}function E(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return L()}for(n.method=o,n.arg=i;;){var s=n.delegate;if(s){var a=S(s,n);if(a){if(a===h)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(t,e,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===h)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function S(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,S(t,e),"throw"===e.method))return h;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var r=l(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,h;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function T(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function x(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return d.prototype=p,r(g,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:d,configurable:!0}),d.displayName=c(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,a,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},b(w.prototype),c(w.prototype,s,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var s=new w(u(e,n,r,o),i);return t.isGeneratorFunction(n)?s:s.next().then((function(t){return t.done?t.value:s.next()}))},b(g),c(g,a,"Generator"),c(g,i,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=x,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(T),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return s.type="throw",s.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],s=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var a=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(a&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var s=i?i.completion:{};return s.type=t,s.arg=e,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),T(n),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;T(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:x(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},t}function W(t){return function(t){if(Array.isArray(t))return V(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return V(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return V(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function V(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function U(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function z(t,e){return z=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},z(t,e)}function K(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=X(t);if(e){var o=X(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return G(this,n)}}function G(t,e){if(e&&("object"===H(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function X(t){return X=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},X(t)}var Y=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function s(t){try{c(r.next(t))}catch(t){i(t)}}function a(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))},J=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&z(t,e)}(i,t);var e,n,r,o=K(i);function i(){return U(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"connect",value:function(){var t,e,n=this;this.inputTarget&&(this.editor=new F.ZP(this.inputTarget),I(this.inputTarget),null===(t=this.expanderTarget)||void 0===t||t.addEventListener("text-expander-change",(function(t){var e=t.detail,r=e.provide,o=e.text;o.length<2||r(fetch(n.userLookupUrlValue+"?q=".concat(encodeURIComponent(o))).then((function(t){return t.json()})).then((function(t){var e=document.createElement("ul");return e.setAttribute("role","listbox"),e.className="menu",e.style.position="absolute",e.style.marginTop="24px",e.append.apply(e,W(t.map((function(t){var e=t.name,n=t.html,r=document.createElement("li");return r.setAttribute("role","option"),r.id="suggestion-".concat(Math.floor(1e5*Math.random()).toString()),r.className="menu-item",r.dataset.value=e,r.innerHTML=n,r})))),new MutationObserver((function(){e.getBoundingClientRect().bottom>window.innerHeight&&(e.style.transform="translateY(-100%)",e.style.marginTop="-12px")})).observe(e,{attributes:!0,attributeFilter:["style"]}),{matched:Boolean(t.length),fragment:e}})))})),null===(e=this.expanderTarget)||void 0===e||e.addEventListener("text-expander-value",(function(t){var e=t.detail.item;t.detail.value="@"+e.getAttribute("data-value").replace(/ /g,"")})),this.inputTarget.addEventListener("drop",(function(t){var e;(null===(e=t.dataTransfer)||void 0===e?void 0:e.files.length)&&(t.preventDefault(),Array.from(t.dataTransfer.files).forEach((function(t){return n.uploadFile(t)})))})),this.inputTarget.addEventListener("paste",(function(t){var e;(null===(e=t.clipboardData)||void 0===e?void 0:e.files.length)&&(t.preventDefault(),Array.from(t.clipboardData.files).forEach((function(t){return n.uploadFile(t)})))})))}},{key:"chooseFiles",value:function(){var t=this,e=document.createElement("input");e.type="file",e.multiple=!0,e.hidden=!0,document.body.appendChild(e),e.addEventListener("change",(function(){e.files&&Array.from(e.files).forEach((function(e){return t.uploadFile(e)}))})),e.click(),e.remove()}},{key:"uploadFile",value:function(t){var e;return Y(this,void 0,void 0,q().mark((function n(){var r,o,i,s,a,c,u,l;return q().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=t.type.startsWith("image/")?"!":"",o="".concat(r,"[Uploading ").concat(t.name,"]()\n"),i="",null===(e=this.editor)||void 0===e||e.insert(o),(s=new FormData).append("file",t),n.prev=6,n.next=9,Waterhole.fetch.post(this.uploadUrlValue,{body:s}).json();case 9:a=n.sent,i="".concat(r,"[").concat(t.name,"](").concat(a.url,")\n"),n.next=15;break;case 13:n.prev=13,n.t0=n.catch(6);case 15:if(-1!==(c=this.inputTarget.value.indexOf(o))&&this.editor){n.next=18;break}return n.abrupt("return");case 18:u=i.length-o.length,l=this.editor.range(),this.editor.range([c,c+o.length]).insert(i).range([l[0]+u,l[1]+u]);case 21:case"end":return n.stop()}}),n,this,[[6,13]])})))}},{key:"hotkeyLabelTargetConnected",value:function(t){var e=navigator.userAgent.match(/Macintosh/);t.innerText=t.innerText.split("+").map((function(t){return"Meta"===t?e?"":"Ctrl":"Shift"===t&&e?"":"Alt"===t&&e?"":1===t.length?t.toUpperCase():t})).join(e?"":"-")}},{key:"format",value:function(t){var e;t.preventDefault(),null===(e=this.editor)||void 0===e||e.toggle(t.params.format)}},{key:"togglePreview",value:function(){var t;return Y(this,void 0,void 0,q().mark((function e(){var n;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.inputTarget&&this.previewTarget){e.next=2;break}return e.abrupt("return");case 2:if(n=!this.inputTarget.hidden,this.inputTarget.hidden=n,this.previewTarget.hidden=!n,this.previewTarget.replaceChildren((0,B.Pi)("loading")),null===(t=this.previewButtonTarget)||void 0===t||t.setAttribute("aria-pressed",String(n)),this.element.classList.toggle("is-previewing",n),n){e.next=10;break}return e.abrupt("return");case 10:return e.next=12,Waterhole.fetch.post(this.formatUrlValue,{body:this.inputTarget.value}).text();case 12:this.previewTarget.innerHTML=e.sent,this.previewTarget.hidden=!1;case 14:case"end":return e.stop()}}),e,this)})))}},{key:"insertQuote",value:function(t){if(this.inputTarget&&this.editor){var e=(this.inputTarget.selectionStart>0?"\n\n":"")+"> ";this.editor.insert(e+t.detail.text.replace(/\n/g,"\n> ")+"\n\n")}}},{key:"emojiPickerTargetConnected",value:function(t){var e=this;t.addEventListener("emoji-click",(function(n){var r;null===(r=e.editor)||void 0===r||r.insert(n.detail.unicode||""),t.closest("ui-popup").open=!1}))}}])&&$(e.prototype,n),r&&$(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(D.Qr);J.targets=["input","preview","previewButton","expander","hotkeyLabel","emojiPicker"],J.values={formatUrl:String,userLookupUrl:String,uploadUrl:String}},7763:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>f});var r=n(6599);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},a(t,e)}function c(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=l(t);if(e){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return u(this,n)}}function u(t,e){if(e&&("object"===o(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function l(t){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},l(t)}var h="theme",f=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&a(t,e)}(u,t);var e,n,r,o=c(u);function u(){return i(this,u),o.apply(this,arguments)}return e=u,(n=[{key:"connect",value:function(){var t=this;window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",(function(e){localStorage.getItem(h)||t.apply(e.matches?"dark":"light")})),this.updateMenuItems()}},{key:"set",value:function(t){var e=t.params.name;e?(localStorage.setItem(h,e),this.apply(e)):(localStorage.removeItem(h),this.apply(matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")),this.updateMenuItems(),this.dispatch("change",{detail:{name:e}})}},{key:"apply",value:function(t){document.documentElement.dataset.theme=t}},{key:"updateMenuItems",value:function(){var t=localStorage.getItem(h)||"";this.element.querySelectorAll("[data-theme-name-param]").forEach((function(e){e.setAttribute("aria-checked",e.getAttribute("data-theme-name-param")===t?"true":"false")}))}}])&&s(e.prototype,n),r&&s(e,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(r.Qr)},276:(t,e,n)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(t,e){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},s(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=u(t);if(e){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}function c(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function u(t){return u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},u(t)}n.r(e),n.d(e,{default:()=>l});var l=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s(t,e)}(u,t);var e,n,r,c=a(u);function u(){return o(this,u),c.apply(this,arguments)}return e=u,(n=[{key:"connect",value:function(){this.element.id||(this.element.id=this.element.dataset.id||"")}},{key:"reload",value:function(){this.element.reload()}},{key:"disable",value:function(){this.element.disabled=!0}},{key:"removeSrc",value:function(){this.element.removeAttribute("src")}}])&&i(e.prototype,n),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(n(6599).Qr)},5440:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>m});var r=n(6599);function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var a=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};o(this,t),s(this,"el",void 0),s(this,"callback",void 0),s(this,"options",void 0),s(this,"observer",void 0),this.el=e,this.callback=n,this.options=r,this.start()}var e,n,r;return e=t,(n=[{key:"start",value:function(){var t=this;this.stop();var e=getComputedStyle(this.el),n=["top","right","bottom","left"].map((function(t){return"auto"===e[t]?"100%":-1*parseInt(e[t])-1+"px"})).join(" ");this.observer=new IntersectionObserver((function(e){t.callback(!e[0].isIntersecting,t.el)}),{threshold:[1],rootMargin:n,root:this.options.root}),this.observer.observe(this.el)}},{key:"stop",value:function(){var t;null===(t=this.observer)||void 0===t||t.disconnect()}}])&&i(e.prototype,n),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function c(t){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c(t)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function h(t,e){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},h(t,e)}function f(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=p(t);if(e){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d(this,n)}}function d(t,e){if(e&&("object"===c(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function p(t){return p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},p(t)}var m=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&h(t,e)}(i,t);var e,n,r,o=f(i);function i(){return u(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"connect",value:function(){var t=this;this.observer=new a(this.element,(function(e){t.element.classList.toggle("is-stuck",e)}))}},{key:"disconnect",value:function(){var t;null===(t=this.observer)||void 0===t||t.stop()}}])&&l(e.prototype,n),r&&l(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(r.Qr)},5927:(t,e,n)=>{"use strict";const r=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],o=["January","February","March","April","May","June","July","August","September","October","November","December"];function i(t,e){const n=t.getDay(),i=t.getDate(),s=t.getMonth(),a=t.getFullYear(),c=t.getHours(),u=t.getMinutes(),l=t.getSeconds();return e.replace(/%([%aAbBcdeHIlmMpPSwyYZz])/g,(function(e){let h;switch(e[1]){case"%":return"%";case"a":return r[n].slice(0,3);case"A":return r[n];case"b":return o[s].slice(0,3);case"B":return o[s];case"c":return t.toString();case"d":return String(i).padStart(2,"0");case"e":return String(i);case"H":return String(c).padStart(2,"0");case"I":return 0===c||12===c?String(12):String((c+12)%12).padStart(2,"0");case"l":return 0===c||12===c?String(12):String((c+12)%12).padStart(2," ");case"m":return String(s+1).padStart(2,"0");case"M":return String(u).padStart(2,"0");case"p":return c>11?"PM":"AM";case"P":return c>11?"pm":"am";case"S":return String(l).padStart(2,"0");case"w":return String(n);case"y":return String(a%100).padStart(2,"0");case"Y":return String(a);case"Z":return h=t.toString().match(/\((\w+)\)$/),h?h[1]:"";case"z":return h=t.toString().match(/\w([+-]\d\d\d\d) /),h?h[1]:""}return""}))}var s,a=function(t,e,n,r,o){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!o:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?o.call(t,n):o?o.value=n:e.set(t,n),n},c=function(t,e,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(t):r?r.value:e.get(t)};s=new WeakMap;const u=/^[-+]?P(?:(\d+)Y)?(?:(\d+)M)?(?:(\d+)W)?(?:(\d+)D)?(?:T(?:(\d+)H)?(?:(\d+)M)?(?:(\d+)S)?)?$/;class l{constructor(t=0,e=0,n=0,r=0,o=0,i=0,s=0){this.years=t,this.months=e,this.weeks=n,this.days=r,this.hours=o,this.minutes=i,this.seconds=s}abs(){return new l(Math.abs(this.years),Math.abs(this.months),Math.abs(this.weeks),Math.abs(this.days),Math.abs(this.hours),Math.abs(this.minutes),Math.abs(this.seconds))}static from(t){var e;if("string"==typeof t){const n=String(t).trim(),r=n.startsWith("-")?-1:1,o=null===(e=n.match(u))||void 0===e?void 0:e.slice(1).map((t=>(Number(t)||0)*r));return o?new l(...o):new l}if("object"==typeof t){const{years:e,months:n,weeks:r,days:o,hours:i,minutes:s,seconds:a}=t;return new l(e,n,r,o,i,s,a)}throw new RangeError("invalid duration")}}function h(t,e,n){const r=function(t,e){const n=new Date(t);return n.setFullYear(n.getFullYear()+e.years),n.setMonth(n.getMonth()+e.months),n.setDate(n.getDate()+7*e.weeks+e.days),n.setHours(n.getHours()+e.hours),n.setMinutes(n.getMinutes()+e.minutes),n.setSeconds(n.getSeconds()+e.seconds),n}(t,l.from(n).abs());return!r||Math.abs(Number(r)-Number(t))>Math.abs(Number(t)-Number(e))}var f,d,p,m,y=function(t,e,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(t):r?r.value:e.get(t)},v=function(t,e,n,r,o){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!o:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?o.call(t,n):o?o.value=n:e.set(t,n),n};const g="Intl"in window&&"DateTimeFormat"?Intl.DateTimeFormat:class{constructor(t,e){var n;s.set(this,void 0),a(this,s,{locale:"en",calendar:"gregory",numberingSystem:"latn",weekday:e.weekday,minute:e.minute,hour:e.hour,day:e.day,month:e.month,year:e.year,timeZone:null!==(n=e.timeZone)&&void 0!==n?n:""},"f"),Object.keys(e).length||(c(this,s,"f").day="2-digit",c(this,s,"f").month="2-digit",c(this,s,"f").year="numeric")}formatToParts(){return[]}resolvedOptions(){return c(this,s,"f")}format(t){let e="";const{weekday:n,month:r,day:o,year:s,hour:a,minute:c,second:u}=this.resolvedOptions();return"long"===n&&(e+="%A"),"short"===n&&(e+="%a"),"narrow"===n&&(e+="%a"),("numeric"===r||"2-digit"===r)&&o&&s?e+=`${n?", ":""}%m/%d/%${"2-digit"===s?"y":"Y"}`:("numeric"===r&&(e+=(n?", ":"")+"%m"),"2-digit"===r&&(e+=(n?", ":"")+"%m"),"long"===r&&(e+=(n?", ":"")+"%B"),"short"===r&&(e+=(n?", ":"")+"%b"),"narrow"===r&&(e+=(n?", ":"")+"%b"),"numeric"===o&&(e+=" %e"),"2-digit"===o&&(e+=" %d"),"numeric"===s&&(e+=", %Y"),"2-digit"===s&&(e+=", %y")),"numeric"===a&&(e+=(e?",":"")+"%l"),"2-digit"===a&&(e+=(e?", ":"")+"%H"),"numeric"===c&&(e+=(a?":":"")+"%M"),"2-digit"===c&&(e+=(a?":":"")+"%M"),"numeric"===u&&(e+=(a?":":"")+"%S"),"2-digit"===u&&(e+=(a||c?":":"")+"%S"),a&&(e+=" %p"),i(new Date(t),e.trim())}},b="Intl"in window&&"RelativeTimeFormat"?Intl.RelativeTimeFormat:class{formatToParts(){return[]}resolvedOptions(){return{locale:"en",style:"long",numeric:"auto",numberingSystem:"nu"}}format(t,e){if(0===t)switch(e){case"year":case"quarter":case"month":case"week":return`this ${e}`;case"day":return"today";case"hour":case"minute":return`in 0 ${e}s`;case"second":return"now"}else if(1===t)switch(e){case"year":case"quarter":case"month":case"week":return`next ${e}`;case"day":return"tomorrow";case"hour":case"minute":case"second":return`in 1 ${e}`}else if(-1===t)switch(e){case"year":case"quarter":case"month":case"week":return`last ${e}`;case"day":return"yesterday";case"hour":case"minute":case"second":return`1 ${e} ago`}else if(t>1)switch(e){case"year":case"quarter":case"month":case"week":case"day":case"hour":case"minute":case"second":return`in ${t} ${e}s`}else if(t<-1)switch(e){case"year":case"quarter":case"month":case"week":case"day":case"hour":case"minute":case"second":return`${-t} ${e}s ago`}throw new RangeError(`Invalid unit argument for format() '${e}'`)}};class w extends Event{constructor(t,e,n,r){super("relative-time-updated",{bubbles:!0,composed:!0}),this.oldText=t,this.newText=e,this.oldTitle=n,this.newTitle=r}}function E(t){return(t=Math.abs(Date.now()-t))<6e4?1e3:t<36e5?6e4:36e5}const S=new class{constructor(){this.elements=new Set,this.timer=-1}observe(t){this.elements.has(t)||(this.elements.add(t),this.update())}unobserve(t){this.elements.has(t)&&(this.elements.delete(t),this.update())}update(){if(clearTimeout(this.timer),!this.elements.size)return;let t=1/0;for(const e of this.elements){const n=e.date?E(e.date.getTime()):1/0;t=Math.min(t,n),e.update()}const e=Math.min(36e5,t);this.timer=setTimeout((()=>this.update()),e)}};class k extends HTMLElement{constructor(){super(...arguments),f.add(this),d.set(this,!1),m.set(this,this.shadowRoot?this.shadowRoot:this.attachShadow?this.attachShadow({mode:"open"}):this)}static get observedAttributes(){return["second","minute","hour","weekday","day","month","year","time-zone-name","prefix","threhsold","tense","format","datetime","lang","title"]}getFormattedTitle(){const t=this.date;if(t)return new g(y(this,f,"a",p),{day:"numeric",month:"short",year:"numeric",hour:"numeric",minute:"2-digit",timeZoneName:"short"}).format(t)}getFormattedDate(t=new Date){const e=this.date;if(!e)return;const n=this.format;if("auto"!==n&&"micro"!==n)return i(e,n);const r=this.tense,o="micro"===n,s=t.getTime()<e.getTime(),a=h(t,e,this.threshold),c=y(this,f,"a",p),u=new b(c,{numeric:"auto"});if("past"===r||"auto"===r&&!s&&a){const[t,n]=o?function(t){const e=(new Date).getTime()-t.getTime(),n=Math.round(e/1e3),r=Math.round(n/60),o=Math.round(r/60),i=Math.round(o/24),s=Math.round(i/30),a=Math.round(s/12);return r<1?[1,"minute"]:r<60?[r,"minute"]:o<24?[o,"hour"]:i<365?[i,"day"]:[a,"year"]}(e):function(t){const e=(new Date).getTime()-t.getTime(),n=Math.round(e/1e3),r=Math.round(n/60),o=Math.round(r/60),i=Math.round(o/24),s=Math.round(i/30),a=Math.round(s/12);return e<0||n<10?[0,"second"]:n<45?[-n,"second"]:n<90||r<45?[-r,"minute"]:r<90||o<24?[-o,"hour"]:o<36||i<30?[-i,"day"]:s<18?[-s,"month"]:[-a,"year"]}(e);return o?`${t}${n[0]}`:u.format(t,n)}if("future"===r||"auto"===r&&s&&a){const[t,n]=o?function(t){const e=t.getTime()-(new Date).getTime(),n=Math.round(e/1e3),r=Math.round(n/60),o=Math.round(r/60),i=Math.round(o/24),s=Math.round(i/30),a=Math.round(s/12);return i>=365?[a,"year"]:o>=24?[i,"day"]:r>=60?[o,"hour"]:r>1?[r,"minute"]:[1,"minute"]}(e):function(t){const e=t.getTime()-(new Date).getTime(),n=Math.round(e/1e3),r=Math.round(n/60),o=Math.round(r/60),i=Math.round(o/24),s=Math.round(i/30),a=Math.round(s/12);return s>=18||s>=12?[a,"year"]:i>=45||i>=30?[s,"month"]:o>=36||o>=24?[i,"day"]:r>=90||r>=45?[o,"hour"]:n>=90||n>=45?[r,"minute"]:n>=10?[n,"second"]:[0,"second"]}(e);return o?`${t}${n[0]}`:u.format(t,n)}const l=new g(c,{second:this.second,minute:this.minute,hour:this.hour,weekday:this.weekday,day:this.day,month:this.month,year:this.year,timeZoneName:this.timeZoneName});return`${this.prefix} ${l.format(e)}`.trim()}get second(){const t=this.getAttribute("second");if("numeric"===t||"2-digit"===t)return t}set second(t){this.setAttribute("second",t||"")}get minute(){const t=this.getAttribute("minute");if("numeric"===t||"2-digit"===t)return t}set minute(t){this.setAttribute("minute",t||"")}get hour(){const t=this.getAttribute("hour");if("numeric"===t||"2-digit"===t)return t}set hour(t){this.setAttribute("hour",t||"")}get weekday(){const t=this.getAttribute("weekday");if("long"===t||"short"===t||"narrow"===t)return t}set weekday(t){this.setAttribute("weekday",t||"")}get day(){var t;const e=null!==(t=this.getAttribute("day"))&&void 0!==t?t:"numeric";if("numeric"===e||"2-digit"===e)return e}set day(t){this.setAttribute("day",t||"")}get month(){var t;const e=null!==(t=this.getAttribute("month"))&&void 0!==t?t:"short";if("numeric"===e||"2-digit"===e||"short"===e||"long"===e||"narrow"===e)return e}set month(t){this.setAttribute("month",t||"")}get year(){var t;const e=this.getAttribute("year");return"numeric"===e||"2-digit"===e?e:this.hasAttribute("year")||(new Date).getUTCFullYear()===(null===(t=this.date)||void 0===t?void 0:t.getUTCFullYear())?void 0:"numeric"}set year(t){this.setAttribute("day",t||"")}get timeZoneName(){const t=this.getAttribute("time-zone-name");if("long"===t||"short"===t||"shortOffset"===t||"longOffset"===t||"shortGeneric"===t||"longGeneric"===t)return t}set timeZoneName(t){this.setAttribute("time-zone-name",t||"")}get prefix(){var t;return null!==(t=this.getAttribute("prefix"))&&void 0!==t?t:"on"}set prefix(t){this.setAttribute("prefix",t)}get threshold(){const t=this.getAttribute("threshold");return t&&(e=t,u.test(e))?t:"P30D";var e}set threshold(t){this.setAttribute("threshold",t)}get tense(){const t=this.getAttribute("tense");return"past"===t?"past":"future"===t?"future":"auto"}set tense(t){this.setAttribute("tense",t)}get format(){const t=this.getAttribute("format");return"micro"===t?"micro":t&&t.includes("%")?t:"auto"}set format(t){this.setAttribute("format",t)}get datetime(){return this.getAttribute("datetime")||""}set datetime(t){this.setAttribute("datetime",t)}get date(){const t=Date.parse(this.datetime);return Number.isNaN(t)?null:new Date(t)}set date(t){this.datetime=(null==t?void 0:t.toISOString())||""}connectedCallback(){this.update()}disconnectedCallback(){S.unobserve(this)}attributeChangedCallback(t){"title"===t&&v(this,d,!0,"f"),this.update()}update(){const t=y(this,m,"f").textContent||"",e=this.getAttribute("title")||"";let n=e,r=t;const o=new Date;y(this,d,"f")||(n=this.getFormattedTitle()||"",n&&(this.setAttribute("title",n),v(this,d,!1,"f"))),r=this.getFormattedDate(o)||"",r&&(y(this,m,"f").textContent=r),r===t&&n===e||this.dispatchEvent(new w(t,r,e,n));const i=this.date,s=this.format;("auto"===s||"micro"===s)&&i&&h(o,i,this.threshold)?S.observe(this):S.unobserve(this)}}d=new WeakMap,m=new WeakMap,f=new WeakSet,p=function(){var t,e;return null!==(e=null===(t=this.closest("[lang]"))||void 0===t?void 0:t.getAttribute("lang"))&&void 0!==e?e:"default"},window.customElements.get("relative-time")||(window.RelativeTimeElement=k,window.customElements.define("relative-time",k));class T extends k{get prefix(){return""}get format(){return super.format.includes("%")?super.format:this.day||this.month||this.year||this.timeZoneName||this.hour||this.minute?"auto":""}get day(){const t=this.getAttribute("day");if("numeric"===t||"2-digit"===t)return t}get month(){const t=this.getAttribute("month");if("numeric"===t||"2-digit"===t||"short"===t||"long"===t||"narrow"===t)return t}get year(){const t=this.getAttribute("year");if("numeric"===t||"2-digit"===t)return t}}window.customElements.get("local-time")||(window.LocalTimeElement=T,window.customElements.define("local-time",T));class O extends k{get tense(){return"past"}}window.customElements.get("time-ago")||(window.TimeAgoElement=O,window.customElements.define("time-ago",O));class x extends k{get tense(){return"future"}}window.customElements.get("time-until")||(window.TimeUntilElement=x,window.customElements.define("time-until",x));var L=n(6599);class A extends Error{constructor(t,e,n){const r=`${t.status||0===t.status?t.status:""} ${t.statusText||""}`.trim();super(`Request failed with ${r?`status code ${r}`:"an unknown error"}`),Object.defineProperty(this,"response",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"request",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"options",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="HTTPError",this.response=t,this.request=e,this.options=n}}class C extends Error{constructor(t){super("Request timed out"),Object.defineProperty(this,"request",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="TimeoutError",this.request=t}}const P=t=>null!==t&&"object"==typeof t,R=(...t)=>{for(const e of t)if((!P(e)||Array.isArray(e))&&void 0!==e)throw new TypeError("The `options` argument must be an object");return j({},...t)},_=(t={},e={})=>{const n=new globalThis.Headers(t),r=e instanceof globalThis.Headers,o=new globalThis.Headers(e);for(const[t,e]of o.entries())r&&"undefined"===e||void 0===e?n.delete(t):n.set(t,e);return n},j=(...t)=>{let e={},n={};for(const r of t)if(Array.isArray(r))Array.isArray(e)||(e=[]),e=[...e,...r];else if(P(r)){for(let[t,n]of Object.entries(r))P(n)&&t in e&&(n=j(e[t],n)),e={...e,[t]:n};P(r.headers)&&(n=_(n,r.headers),e.headers=n)}return e},M=(()=>{let t=!1,e=!1;return"function"==typeof globalThis.ReadableStream&&(e=new globalThis.Request("https://a.com",{body:new globalThis.ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type")),t&&!e})(),N="function"==typeof globalThis.AbortController,I="function"==typeof globalThis.ReadableStream,D="function"==typeof globalThis.FormData,F=["get","post","put","patch","head","delete"],B={json:"application/json",text:"text/*",formData:"multipart/form-data",arrayBuffer:"*/*",blob:"*/*"},H=2147483647,q=Symbol("stop"),W=t=>F.includes(t)?t.toUpperCase():t,V=[413,429,503],U={limit:2,methods:["get","put","head","delete","options","trace"],statusCodes:[408,413,429,500,502,503,504],afterStatusCodes:V,maxRetryAfter:Number.POSITIVE_INFINITY,backoffLimit:Number.POSITIVE_INFINITY},$=(t={})=>{if("number"==typeof t)return{...U,limit:t};if(t.methods&&!Array.isArray(t.methods))throw new Error("retry.methods must be an array");if(t.statusCodes&&!Array.isArray(t.statusCodes))throw new Error("retry.statusCodes must be an array");return{...U,...t,afterStatusCodes:V}};const z=Boolean(globalThis.DOMException);function K(t){if(z)return new DOMException(t?.reason??"The operation was aborted.","AbortError");const e=new Error(t?.reason??"The operation was aborted.");return e.name="AbortError",e}class G{static create(t,e){const n=new G(t,e),r=async()=>{if(n._options.timeout>H)throw new RangeError("The `timeout` option cannot be greater than 2147483647");await Promise.resolve();let t=await n._fetch();for(const e of n._options.hooks.afterResponse){const r=await e(n.request,n._options,n._decorateResponse(t.clone()));r instanceof globalThis.Response&&(t=r)}if(n._decorateResponse(t),!t.ok&&n._options.throwHttpErrors){let e=new A(t,n.request,n._options);for(const t of n._options.hooks.beforeError)e=await t(e);throw e}if(n._options.onDownloadProgress){if("function"!=typeof n._options.onDownloadProgress)throw new TypeError("The `onDownloadProgress` option must be a function");if(!I)throw new Error("Streams are not supported in your environment. `ReadableStream` is missing.");return n._stream(t.clone(),n._options.onDownloadProgress)}return t},o=n._options.retry.methods.includes(n.request.method.toLowerCase())?n._retry(r):r();for(const[t,r]of Object.entries(B))o[t]=async()=>{n.request.headers.set("accept",n.request.headers.get("accept")||r);const i=(await o).clone();if("json"===t){if(204===i.status)return"";if(0===(await i.clone().arrayBuffer()).byteLength)return"";if(e.parseJson)return e.parseJson(await i.text())}return i[t]()};return o}constructor(t,e={}){if(Object.defineProperty(this,"request",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"abortController",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_retryCount",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_input",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_options",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._input=t,this._options={credentials:this._input.credentials||"same-origin",...e,headers:_(this._input.headers,e.headers),hooks:j({beforeRequest:[],beforeRetry:[],beforeError:[],afterResponse:[]},e.hooks),method:W(e.method??this._input.method),prefixUrl:String(e.prefixUrl||""),retry:$(e.retry),throwHttpErrors:!1!==e.throwHttpErrors,timeout:void 0===e.timeout?1e4:e.timeout,fetch:e.fetch??globalThis.fetch.bind(globalThis)},"string"!=typeof this._input&&!(this._input instanceof URL||this._input instanceof globalThis.Request))throw new TypeError("`input` must be a string, URL, or Request");if(this._options.prefixUrl&&"string"==typeof this._input){if(this._input.startsWith("/"))throw new Error("`input` must not begin with a slash when using `prefixUrl`");this._options.prefixUrl.endsWith("/")||(this._options.prefixUrl+="/"),this._input=this._options.prefixUrl+this._input}if(N){if(this.abortController=new globalThis.AbortController,this._options.signal){const t=this._options.signal;this._options.signal.addEventListener("abort",(()=>{this.abortController.abort(t.reason)}))}this._options.signal=this.abortController.signal}if(M&&(this._options.duplex="half"),this.request=new globalThis.Request(this._input,this._options),this._options.searchParams){const t="?"+("string"==typeof this._options.searchParams?this._options.searchParams.replace(/^\?/,""):new URLSearchParams(this._options.searchParams).toString()),e=this.request.url.replace(/(?:\?.*?)?(?=#|$)/,t);!(D&&this._options.body instanceof globalThis.FormData||this._options.body instanceof URLSearchParams)||this._options.headers&&this._options.headers["content-type"]||this.request.headers.delete("content-type"),this.request=new globalThis.Request(new globalThis.Request(e,{...this.request}),this._options)}void 0!==this._options.json&&(this._options.body=JSON.stringify(this._options.json),this.request.headers.set("content-type",this._options.headers.get("content-type")??"application/json"),this.request=new globalThis.Request(this.request,{body:this._options.body}))}_calculateRetryDelay(t){if(this._retryCount++,this._retryCount<this._options.retry.limit&&!(t instanceof C)){if(t instanceof A){if(!this._options.retry.statusCodes.includes(t.response.status))return 0;const e=t.response.headers.get("Retry-After");if(e&&this._options.retry.afterStatusCodes.includes(t.response.status)){let t=Number(e);return Number.isNaN(t)?t=Date.parse(e)-Date.now():t*=1e3,void 0!==this._options.retry.maxRetryAfter&&t>this._options.retry.maxRetryAfter?0:t}if(413===t.response.status)return 0}const e=.3;return Math.min(this._options.retry.backoffLimit,e*2**(this._retryCount-1)*1e3)}return 0}_decorateResponse(t){return this._options.parseJson&&(t.json=async()=>this._options.parseJson(await t.text())),t}async _retry(t){try{return await t()}catch(e){const n=Math.min(this._calculateRetryDelay(e),H);if(0!==n&&this._retryCount>0){await async function(t,{signal:e}){return new Promise(((n,r)=>{if(e){if(e.aborted)return void r(K(e));e.addEventListener("abort",o,{once:!0})}function o(){r(K(e)),clearTimeout(i)}const i=setTimeout((()=>{e?.removeEventListener("abort",o),n()}),t)}))}(n,{signal:this._options.signal});for(const t of this._options.hooks.beforeRetry){if(await t({request:this.request,options:this._options,error:e,retryCount:this._retryCount})===q)return}return this._retry(t)}throw e}}async _fetch(){for(const t of this._options.hooks.beforeRequest){const e=await t(this.request,this._options);if(e instanceof Request){this.request=e;break}if(e instanceof Response)return e}return!1===this._options.timeout?this._options.fetch(this.request.clone()):async function(t,e,n){return new Promise(((r,o)=>{const i=setTimeout((()=>{e&&e.abort(),o(new C(t))}),n.timeout);n.fetch(t).then(r).catch(o).then((()=>{clearTimeout(i)}))}))}(this.request.clone(),this.abortController,this._options)}_stream(t,e){const n=Number(t.headers.get("content-length"))||0;let r=0;return 204===t.status?(e&&e({percent:1,totalBytes:n,transferredBytes:r},new Uint8Array),new globalThis.Response(null,{status:t.status,statusText:t.statusText,headers:t.headers})):new globalThis.Response(new globalThis.ReadableStream({async start(o){const i=t.body.getReader();e&&e({percent:0,transferredBytes:0,totalBytes:n},new Uint8Array),await async function t(){const{done:s,value:a}=await i.read();if(s)o.close();else{if(e){r+=a.byteLength;e({percent:0===n?0:r/n,transferredBytes:r,totalBytes:n},a)}o.enqueue(a),await t()}}()}}),{status:t.status,statusText:t.statusText,headers:t.headers})}}const X=t=>{const e=(e,n)=>G.create(e,R(t,n));for(const n of F)e[n]=(e,r)=>G.create(e,R(t,r,{method:n}));return e.create=t=>X(R(t)),e.extend=e=>X(R(t,e)),e.stop=q,e},Y=X();class J{constructor(t,e,{tabInsertsSuggestions:n,defaultFirstOption:r}={}){this.input=t,this.list=e,this.tabInsertsSuggestions=null==n||n,this.defaultFirstOption=null!=r&&r,this.isComposing=!1,e.id||(e.id=`combobox-${Math.random().toString().slice(2,6)}`),this.ctrlBindings=!!navigator.userAgent.match(/Macintosh/),this.keyboardEventHandler=t=>function(t,e){if(t.shiftKey||t.metaKey||t.altKey)return;if(!e.ctrlBindings&&t.ctrlKey)return;if(e.isComposing)return;switch(t.key){case"Enter":Z(e.input,e.list)&&t.preventDefault();break;case"Tab":e.tabInsertsSuggestions&&Z(e.input,e.list)&&t.preventDefault();break;case"Escape":e.clearSelection();break;case"ArrowDown":e.navigate(1),t.preventDefault();break;case"ArrowUp":e.navigate(-1),t.preventDefault();break;case"n":e.ctrlBindings&&t.ctrlKey&&(e.navigate(1),t.preventDefault());break;case"p":e.ctrlBindings&&t.ctrlKey&&(e.navigate(-1),t.preventDefault());break;default:if(t.ctrlKey)break;e.clearSelection()}}(t,this),this.compositionEventHandler=t=>function(t,e){e.isComposing="compositionstart"===t.type;if(!document.getElementById(e.input.getAttribute("aria-controls")||""))return;e.clearSelection()}(t,this),this.inputHandler=this.clearSelection.bind(this),t.setAttribute("role","combobox"),t.setAttribute("aria-controls",e.id),t.setAttribute("aria-expanded","false"),t.setAttribute("aria-autocomplete","list"),t.setAttribute("aria-haspopup","listbox")}destroy(){this.clearSelection(),this.stop(),this.input.removeAttribute("role"),this.input.removeAttribute("aria-controls"),this.input.removeAttribute("aria-expanded"),this.input.removeAttribute("aria-autocomplete"),this.input.removeAttribute("aria-haspopup")}start(){this.input.setAttribute("aria-expanded","true"),this.input.addEventListener("compositionstart",this.compositionEventHandler),this.input.addEventListener("compositionend",this.compositionEventHandler),this.input.addEventListener("input",this.inputHandler),this.input.addEventListener("keydown",this.keyboardEventHandler),this.list.addEventListener("click",Q),this.indicateDefaultOption()}stop(){this.clearSelection(),this.input.setAttribute("aria-expanded","false"),this.input.removeEventListener("compositionstart",this.compositionEventHandler),this.input.removeEventListener("compositionend",this.compositionEventHandler),this.input.removeEventListener("input",this.inputHandler),this.input.removeEventListener("keydown",this.keyboardEventHandler),this.list.removeEventListener("click",Q)}indicateDefaultOption(){var t;this.defaultFirstOption&&(null===(t=Array.from(this.list.querySelectorAll('[role="option"]:not([aria-disabled="true"])')).filter(tt)[0])||void 0===t||t.setAttribute("data-combobox-option-default","true"))}navigate(t=1){const e=Array.from(this.list.querySelectorAll('[aria-selected="true"]')).filter(tt)[0],n=Array.from(this.list.querySelectorAll('[role="option"]')).filter(tt),r=n.indexOf(e);if(r===n.length-1&&1===t||0===r&&-1===t)return this.clearSelection(),void this.input.focus();let o=1===t?0:n.length-1;if(e&&r>=0){const e=r+t;e>=0&&e<n.length&&(o=e)}const i=n[o];if(i)for(const t of n)t.removeAttribute("data-combobox-option-default"),i===t?(this.input.setAttribute("aria-activedescendant",i.id),i.setAttribute("aria-selected","true"),et(this.list,i)):t.removeAttribute("aria-selected")}clearSelection(){this.input.removeAttribute("aria-activedescendant");for(const t of this.list.querySelectorAll('[aria-selected="true"]'))t.removeAttribute("aria-selected");this.indicateDefaultOption()}}function Q(t){if(!(t.target instanceof Element))return;const e=t.target.closest('[role="option"]');e&&"true"!==e.getAttribute("aria-disabled")&&function(t){t.dispatchEvent(new CustomEvent("combobox-commit",{bubbles:!0}))}(e)}function Z(t,e){const n=e.querySelector('[aria-selected="true"], [data-combobox-option-default="true"]');return!!n&&("true"===n.getAttribute("aria-disabled")||n.click(),!0)}function tt(t){return!t.hidden&&!(t instanceof HTMLInputElement&&"hidden"===t.type)&&(t.offsetWidth>0||t.offsetHeight>0)}function et(t,e){(function(t,e){const n=t.scrollTop,r=n+t.clientHeight,o=e.offsetTop,i=o+e.clientHeight;return o>=n&&i<=r})(t,e)||(t.scrollTop=e.offsetTop)}const nt=/\s|\(|\[/;function rt(t,e,n,{multiWord:r,lookBackIndex:o,lastMatchPosition:i}={multiWord:!1,lookBackIndex:0,lastMatchPosition:null}){let s=t.lastIndexOf(e,n-1);if(-1===s)return;if(s<o)return;if(r){if(null!=i){if(i===s)return;s=i-e.length}if(" "===t[s+1]&&n>=s+e.length+1)return;if(t.lastIndexOf("\n",n-1)>s)return;if(t.lastIndexOf(".",n-1)>s)return}else{if(t.lastIndexOf(" ",n-1)>s)return}const a=t[s-1];if(a&&!nt.test(a))return;return{text:t.substring(s+e.length,n),position:s+e.length}}const ot=["position:absolute;","overflow:auto;","word-wrap:break-word;","top:0px;","left:-9999px;"],it=["box-sizing","font-family","font-size","font-style","font-variant","font-weight","height","letter-spacing","line-height","max-height","min-height","padding-bottom","padding-left","padding-right","padding-top","border-bottom","border-left","border-right","border-top","text-decoration","text-indent","text-transform","width","word-spacing"],st=new WeakMap;function at(t,e=t.selectionEnd){const{mirror:n,marker:r}=function(t,e){const n=t.nodeName.toLowerCase();if("textarea"!==n&&"input"!==n)throw new Error("expected textField to a textarea or input");let r=st.get(t);if(r&&r.parentElement===t.parentElement)r.innerHTML="";else{r=document.createElement("div"),st.set(t,r);const e=window.getComputedStyle(t),o=ot.slice(0);"textarea"===n?o.push("white-space:pre-wrap;"):o.push("white-space:nowrap;");for(let t=0,n=it.length;t<n;t++){const n=it[t];o.push(`${n}:${e.getPropertyValue(n)};`)}r.style.cssText=o.join(" ")}const o=document.createElement("span");let i,s;if(o.style.cssText="position: absolute;",o.innerHTML="&nbsp;","number"==typeof e){let n=t.value.substring(0,e);n&&(i=document.createTextNode(n)),n=t.value.substring(e),n&&(s=document.createTextNode(n))}else{const e=t.value;e&&(i=document.createTextNode(e))}if(i&&r.appendChild(i),r.appendChild(o),s&&r.appendChild(s),!r.parentElement){if(!t.parentElement)throw new Error("textField must have a parentElement to mirror");t.parentElement.insertBefore(r,t)}return r.scrollTop=t.scrollTop,r.scrollLeft=t.scrollLeft,{mirror:r,marker:o}}(t,e),o=n.getBoundingClientRect(),i=r.getBoundingClientRect();return setTimeout((()=>{n.remove()}),5e3),{top:i.top-o.top,left:i.left-o.left}}const ct=new WeakMap;class ut{constructor(t,e){this.expander=t,this.input=e,this.combobox=null,this.menu=null,this.match=null,this.justPasted=!1,this.lookBackIndex=0,this.oninput=this.onInput.bind(this),this.onpaste=this.onPaste.bind(this),this.onkeydown=this.onKeydown.bind(this),this.oncommit=this.onCommit.bind(this),this.onmousedown=this.onMousedown.bind(this),this.onblur=this.onBlur.bind(this),this.interactingWithList=!1,e.addEventListener("paste",this.onpaste),e.addEventListener("input",this.oninput),e.addEventListener("keydown",this.onkeydown),e.addEventListener("blur",this.onblur)}destroy(){this.input.removeEventListener("paste",this.onpaste),this.input.removeEventListener("input",this.oninput),this.input.removeEventListener("keydown",this.onkeydown),this.input.removeEventListener("blur",this.onblur)}dismissMenu(){this.deactivate()&&(this.lookBackIndex=this.input.selectionEnd||this.lookBackIndex)}activate(t,e){var n,r;if(this.input!==document.activeElement&&this.input!==(null===(r=null===(n=document.activeElement)||void 0===n?void 0:n.shadowRoot)||void 0===r?void 0:r.activeElement))return;this.deactivate(),this.menu=e,e.id||(e.id=`text-expander-${Math.floor(1e5*Math.random()).toString()}`),this.expander.append(e),this.combobox=new J(this.input,e);const{top:o,left:i}=at(this.input,t.position);e.style.top=`${o}px`,e.style.left=`${i}px`,this.combobox.start(),e.addEventListener("combobox-commit",this.oncommit),e.addEventListener("mousedown",this.onmousedown),this.combobox.navigate(1)}deactivate(){const t=this.menu;return!(!t||!this.combobox)&&(this.menu=null,t.removeEventListener("combobox-commit",this.oncommit),t.removeEventListener("mousedown",this.onmousedown),this.combobox.destroy(),this.combobox=null,t.remove(),!0)}onCommit({target:t}){const e=t;if(!(e instanceof HTMLElement))return;if(!this.combobox)return;const n=this.match;if(!n)return;const r=this.input.value.substring(0,n.position-n.key.length),o=this.input.value.substring(n.position+n.text.length),i={item:e,key:n.key,value:null};if(!this.expander.dispatchEvent(new CustomEvent("text-expander-value",{cancelable:!0,detail:i})))return;if(!i.value)return;const s=`${i.value} `;this.input.value=r+s+o;const a=r.length+s.length;this.deactivate(),this.input.focus({preventScroll:!0}),this.input.selectionStart=a,this.input.selectionEnd=a,this.lookBackIndex=a,this.match=null}onBlur(){this.interactingWithList?this.interactingWithList=!1:this.deactivate()}onPaste(){this.justPasted=!0}async onInput(){if(this.justPasted)return void(this.justPasted=!1);const t=this.findMatch();if(t){this.match=t;const e=await this.notifyProviders(t);if(!this.match)return;e?this.activate(t,e):this.deactivate()}else this.match=null,this.deactivate()}findMatch(){const t=this.input.selectionEnd||0,e=this.input.value;t<=this.lookBackIndex&&(this.lookBackIndex=t-1);for(const{key:n,multiWord:r}of this.expander.keys){const o=rt(e,n,t,{multiWord:r,lookBackIndex:this.lookBackIndex,lastMatchPosition:this.match?this.match.position:null});if(o)return{text:o.text,key:n,position:o.position}}}async notifyProviders(t){const e=[];if(!this.expander.dispatchEvent(new CustomEvent("text-expander-change",{cancelable:!0,detail:{provide:t=>e.push(t),text:t.text,key:t.key}})))return;const n=(await Promise.all(e)).filter((t=>t.matched)).map((t=>t.fragment));return n[0]}onMousedown(){this.interactingWithList=!0}onKeydown(t){"Escape"===t.key&&(this.match=null,this.deactivate()&&(this.lookBackIndex=this.input.selectionEnd||this.lookBackIndex,t.stopImmediatePropagation(),t.preventDefault()))}}class lt extends HTMLElement{get keys(){const t=this.getAttribute("keys"),e=t?t.split(" "):[],n=this.getAttribute("multiword"),r=n?n.split(" "):[],o=0===r.length&&this.hasAttribute("multiword");return e.map((t=>({key:t,multiWord:o||r.includes(t)})))}connectedCallback(){const t=this.querySelector('input[type="text"], textarea');if(!(t instanceof HTMLInputElement||t instanceof HTMLTextAreaElement))return;const e=new ut(this,t);ct.set(this,e)}disconnectedCallback(){const t=ct.get(this);t&&(t.destroy(),ct.delete(this))}dismiss(){const t=ct.get(this);t&&t.dismissMenu()}}window.customElements.get("text-expander")||(window.TextExpanderElement=lt,window.customElements.define("text-expander",lt));function ht(t){return function(t){if(Array.isArray(t))return ft(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return ft(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ft(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ft(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function dt(t){var e=t.getBoundingClientRect(),n=window.getComputedStyle(t),r=n.transform,o=n.transformOrigin;return r&&(e=function(t,e,n){var r=function(t){if(t.startsWith("matrix3d(")){var e=t.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}if(t.startsWith("matrix(")){var n=t.slice(7,-1).split(/, /);return{x:+n[4],y:+n[5],scaleX:+n[0],scaleY:+n[3]}}return null}(e);if(!r)return t;var o=r.scaleX,i=r.scaleY,s=r.x,a=r.y,c=t.left-s-(1-o)*parseFloat(n),u=t.top-a-(1-i)*parseFloat(n.slice(n.indexOf(" ")+1)),l=o?t.width/o:t.width,h=i?t.height/i:t.height;return new DOMRect(c,u,l,h)}(e,r,o)),e}function pt(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new WeakMap;bt(n),t instanceof HTMLCollection&&(t=Array.from(t)),(t=t.filter((function(t){return"none"!==getComputedStyle(t).display}))).forEach((function(t){r.set(t,t.getBoundingClientRect())})),e(),t.forEach((function(t){var e=r.get(t);if(e){var n=t.style,o=dt(t),i=e.left-o.left,s=e.top-o.top;n.transition="none",n.transform="translate(".concat(i,"px, ").concat(s,"px)"),t.offsetHeight,n.transition="",n.transform=""}}))}function mt(t){var e;t._currentTransition&&((e=t.classList).remove.apply(e,ht(["active","from","to"].map((function(e){return t._currentTransition+e})))),t._currentTransition=null)}function yt(t,e){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=bt(r)+e+"-",i=t.classList;mt(t),t._currentTransition=o,i.add(o+"active",o+"from"),n=function(){i.add(o+"to"),i.remove(o+"from"),function(t,e){if(getComputedStyle(t).transitionDuration.startsWith("0s"))e();else{var n=function n(){e(),t.removeEventListener("transitionend",n),t.removeEventListener("transitioncancel",n)};t.addEventListener("transitionend",n),t.addEventListener("transitioncancel",n)}}(t,(function(){i.remove(o+"to",o+"active"),t._currentTransition===o&&(r.finish&&r.finish(),t._currentTransition=null)}))},requestAnimationFrame((function(){requestAnimationFrame(n)}))}function vt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};yt(t,"enter",e)}function gt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};yt(t,"leave",e)}function bt(t){return t.prefix?t.prefix+"-":""}var wt=["input","select","textarea","a[href]","button","[tabindex]:not(slot)","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])',"details>summary:first-of-type","details"],Et=wt.join(","),St="undefined"==typeof Element,kt=St?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,Tt=!St&&Element.prototype.getRootNode?function(t){return t.getRootNode()}:function(t){return t.ownerDocument},Ot=function(t,e,n){var r=Array.prototype.slice.apply(t.querySelectorAll(Et));return e&&kt.call(t,Et)&&r.unshift(t),r=r.filter(n)},xt=function t(e,n,r){for(var o=[],i=Array.from(e);i.length;){var s=i.shift();if("SLOT"===s.tagName){var a=s.assignedElements(),c=t(a.length?a:s.children,!0,r);r.flatten?o.push.apply(o,c):o.push({scope:s,candidates:c})}else{kt.call(s,Et)&&r.filter(s)&&(n||!e.includes(s))&&o.push(s);var u=s.shadowRoot||"function"==typeof r.getShadowRoot&&r.getShadowRoot(s),l=!r.shadowRootFilter||r.shadowRootFilter(s);if(u&&l){var h=t(!0===u?s.children:u.children,!0,r);r.flatten?o.push.apply(o,h):o.push({scope:s,candidates:h})}else i.unshift.apply(i,s.children)}}return o},Lt=function(t,e){return t.tabIndex<0&&(e||/^(AUDIO|VIDEO|DETAILS)$/.test(t.tagName)||t.isContentEditable)&&isNaN(parseInt(t.getAttribute("tabindex"),10))?0:t.tabIndex},At=function(t,e){return t.tabIndex===e.tabIndex?t.documentOrder-e.documentOrder:t.tabIndex-e.tabIndex},Ct=function(t){return"INPUT"===t.tagName},Pt=function(t){return function(t){return Ct(t)&&"radio"===t.type}(t)&&!function(t){if(!t.name)return!0;var e,n=t.form||Tt(t),r=function(t){return n.querySelectorAll('input[type="radio"][name="'+t+'"]')};if("undefined"!=typeof window&&void 0!==window.CSS&&"function"==typeof window.CSS.escape)e=r(window.CSS.escape(t.name));else try{e=r(t.name)}catch(t){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",t.message),!1}var o=function(t,e){for(var n=0;n<t.length;n++)if(t[n].checked&&t[n].form===e)return t[n]}(e,t.form);return!o||o===t}(t)},Rt=function(t){var e=t.getBoundingClientRect(),n=e.width,r=e.height;return 0===n&&0===r},_t=function(t,e){return!(e.disabled||function(t){return Ct(t)&&"hidden"===t.type}(e)||function(t,e){var n=e.displayCheck,r=e.getShadowRoot;if("hidden"===getComputedStyle(t).visibility)return!0;var o=kt.call(t,"details>summary:first-of-type")?t.parentElement:t;if(kt.call(o,"details:not([open]) *"))return!0;var i=Tt(t).host,s=(null==i?void 0:i.ownerDocument.contains(i))||t.ownerDocument.contains(t);if(n&&"full"!==n){if("non-zero-area"===n)return Rt(t)}else{if("function"==typeof r){for(var a=t;t;){var c=t.parentElement,u=Tt(t);if(c&&!c.shadowRoot&&!0===r(c))return Rt(t);t=t.assignedSlot?t.assignedSlot:c||u===t.ownerDocument?c:u.host}t=a}if(s)return!t.getClientRects().length}return!1}(e,t)||function(t){return"DETAILS"===t.tagName&&Array.prototype.slice.apply(t.children).some((function(t){return"SUMMARY"===t.tagName}))}(e)||function(t){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(t.tagName))for(var e=t.parentElement;e;){if("FIELDSET"===e.tagName&&e.disabled){for(var n=0;n<e.children.length;n++){var r=e.children.item(n);if("LEGEND"===r.tagName)return!!kt.call(e,"fieldset[disabled] *")||!r.contains(t)}return!0}e=e.parentElement}return!1}(e))},jt=function(t,e){return!(Pt(e)||Lt(e)<0||!_t(t,e))},Mt=function(t){var e=parseInt(t.getAttribute("tabindex"),10);return!!(isNaN(e)||e>=0)},Nt=function t(e){var n=[],r=[];return e.forEach((function(e,o){var i=!!e.scope,s=i?e.scope:e,a=Lt(s,i),c=i?t(e.candidates):s;0===a?i?n.push.apply(n,c):n.push(s):r.push({documentOrder:o,tabIndex:a,item:e,isScope:i,content:c})})),r.sort(At).reduce((function(t,e){return e.isScope?t.push.apply(t,e.content):t.push(e.content),t}),[]).concat(n)},It=function(t,e){var n;return n=(e=e||{}).getShadowRoot?xt([t],e.includeContainer,{filter:jt.bind(null,e),flatten:!1,getShadowRoot:e.getShadowRoot,shadowRootFilter:Mt}):Ot(t,e.includeContainer,jt.bind(null,e)),Nt(n)},Dt=function(t,e){return(e=e||{}).getShadowRoot?xt([t],e.includeContainer,{filter:_t.bind(null,e),flatten:!0,getShadowRoot:e.getShadowRoot}):Ot(t,e.includeContainer,_t.bind(null,e))},Ft=function(t,e){if(e=e||{},!t)throw new Error("No node provided");return!1!==kt.call(t,Et)&&jt(e,t)},Bt=wt.concat("iframe").join(","),Ht=function(t,e){if(e=e||{},!t)throw new Error("No node provided");return!1!==kt.call(t,Bt)&&_t(e,t)};function qt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Wt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?qt(Object(n),!0).forEach((function(e){Vt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Vt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ut,$t=(Ut=[],{activateTrap:function(t){if(Ut.length>0){var e=Ut[Ut.length-1];e!==t&&e.pause()}var n=Ut.indexOf(t);-1===n||Ut.splice(n,1),Ut.push(t)},deactivateTrap:function(t){var e=Ut.indexOf(t);-1!==e&&Ut.splice(e,1),Ut.length>0&&Ut[Ut.length-1].unpause()}}),zt=function(t){return setTimeout(t,0)},Kt=function(t,e){var n=-1;return t.every((function(t,r){return!e(t)||(n=r,!1)})),n},Gt=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return"function"==typeof t?t.apply(void 0,n):t},Xt=function(t){return t.target.shadowRoot&&"function"==typeof t.composedPath?t.composedPath()[0]:t.target},Yt=function(t,e){var n,r=(null==e?void 0:e.document)||document,o=Wt({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0},e),i={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0},s=function(t,e,n){return t&&void 0!==t[e]?t[e]:o[n||e]},a=function(t){return i.containerGroups.findIndex((function(e){var n=e.container,r=e.tabbableNodes;return n.contains(t)||r.find((function(e){return e===t}))}))},c=function(t){var e=o[t];if("function"==typeof e){for(var n=arguments.length,i=new Array(n>1?n-1:0),s=1;s<n;s++)i[s-1]=arguments[s];e=e.apply(void 0,i)}if(!0===e&&(e=void 0),!e){if(void 0===e||!1===e)return e;throw new Error("`".concat(t,"` was specified but was not a node, or did not return a node"))}var a=e;if("string"==typeof e&&!(a=r.querySelector(e)))throw new Error("`".concat(t,"` as selector refers to no known node"));return a},u=function(){var t=c("initialFocus");if(!1===t)return!1;if(void 0===t)if(a(r.activeElement)>=0)t=r.activeElement;else{var e=i.tabbableGroups[0];t=e&&e.firstTabbableNode||c("fallbackFocus")}if(!t)throw new Error("Your focus-trap needs to have at least one focusable element");return t},l=function(){if(i.containerGroups=i.containers.map((function(t){var e=It(t,o.tabbableOptions),n=Dt(t,o.tabbableOptions);return{container:t,tabbableNodes:e,focusableNodes:n,firstTabbableNode:e.length>0?e[0]:null,lastTabbableNode:e.length>0?e[e.length-1]:null,nextTabbableNode:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=n.findIndex((function(e){return e===t}));if(!(r<0))return e?n.slice(r+1).find((function(t){return Ft(t,o.tabbableOptions)})):n.slice(0,r).reverse().find((function(t){return Ft(t,o.tabbableOptions)}))}}})),i.tabbableGroups=i.containerGroups.filter((function(t){return t.tabbableNodes.length>0})),i.tabbableGroups.length<=0&&!c("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times")},h=function t(e){!1!==e&&e!==r.activeElement&&(e&&e.focus?(e.focus({preventScroll:!!o.preventScroll}),i.mostRecentlyFocusedNode=e,function(t){return t.tagName&&"input"===t.tagName.toLowerCase()&&"function"==typeof t.select}(e)&&e.select()):t(u()))},f=function(t){var e=c("setReturnFocus",t);return e||!1!==e&&t},d=function(t){var e=Xt(t);a(e)>=0||(Gt(o.clickOutsideDeactivates,t)?n.deactivate({returnFocus:o.returnFocusOnDeactivate&&!Ht(e,o.tabbableOptions)}):Gt(o.allowOutsideClick,t)||t.preventDefault())},p=function(t){var e=Xt(t),n=a(e)>=0;n||e instanceof Document?n&&(i.mostRecentlyFocusedNode=e):(t.stopImmediatePropagation(),h(i.mostRecentlyFocusedNode||u()))},m=function(t){if(function(t){return"Escape"===t.key||"Esc"===t.key||27===t.keyCode}(t)&&!1!==Gt(o.escapeDeactivates,t))return t.preventDefault(),void n.deactivate();(function(t){return"Tab"===t.key||9===t.keyCode})(t)&&function(t){var e=Xt(t);l();var n=null;if(i.tabbableGroups.length>0){var r=a(e),s=r>=0?i.containerGroups[r]:void 0;if(r<0)n=t.shiftKey?i.tabbableGroups[i.tabbableGroups.length-1].lastTabbableNode:i.tabbableGroups[0].firstTabbableNode;else if(t.shiftKey){var u=Kt(i.tabbableGroups,(function(t){var n=t.firstTabbableNode;return e===n}));if(u<0&&(s.container===e||Ht(e,o.tabbableOptions)&&!Ft(e,o.tabbableOptions)&&!s.nextTabbableNode(e,!1))&&(u=r),u>=0){var f=0===u?i.tabbableGroups.length-1:u-1;n=i.tabbableGroups[f].lastTabbableNode}}else{var d=Kt(i.tabbableGroups,(function(t){var n=t.lastTabbableNode;return e===n}));if(d<0&&(s.container===e||Ht(e,o.tabbableOptions)&&!Ft(e,o.tabbableOptions)&&!s.nextTabbableNode(e))&&(d=r),d>=0){var p=d===i.tabbableGroups.length-1?0:d+1;n=i.tabbableGroups[p].firstTabbableNode}}}else n=c("fallbackFocus");n&&(t.preventDefault(),h(n))}(t)},y=function(t){var e=Xt(t);a(e)>=0||Gt(o.clickOutsideDeactivates,t)||Gt(o.allowOutsideClick,t)||(t.preventDefault(),t.stopImmediatePropagation())},v=function(){if(i.active)return $t.activateTrap(n),i.delayInitialFocusTimer=o.delayInitialFocus?zt((function(){h(u())})):h(u()),r.addEventListener("focusin",p,!0),r.addEventListener("mousedown",d,{capture:!0,passive:!1}),r.addEventListener("touchstart",d,{capture:!0,passive:!1}),r.addEventListener("click",y,{capture:!0,passive:!1}),r.addEventListener("keydown",m,{capture:!0,passive:!1}),n},g=function(){if(i.active)return r.removeEventListener("focusin",p,!0),r.removeEventListener("mousedown",d,!0),r.removeEventListener("touchstart",d,!0),r.removeEventListener("click",y,!0),r.removeEventListener("keydown",m,!0),n};return(n={get active(){return i.active},get paused(){return i.paused},activate:function(t){if(i.active)return this;var e=s(t,"onActivate"),n=s(t,"onPostActivate"),o=s(t,"checkCanFocusTrap");o||l(),i.active=!0,i.paused=!1,i.nodeFocusedBeforeActivation=r.activeElement,e&&e();var a=function(){o&&l(),v(),n&&n()};return o?(o(i.containers.concat()).then(a,a),this):(a(),this)},deactivate:function(t){if(!i.active)return this;var e=Wt({onDeactivate:o.onDeactivate,onPostDeactivate:o.onPostDeactivate,checkCanReturnFocus:o.checkCanReturnFocus},t);clearTimeout(i.delayInitialFocusTimer),i.delayInitialFocusTimer=void 0,g(),i.active=!1,i.paused=!1,$t.deactivateTrap(n);var r=s(e,"onDeactivate"),a=s(e,"onPostDeactivate"),c=s(e,"checkCanReturnFocus"),u=s(e,"returnFocus","returnFocusOnDeactivate");r&&r();var l=function(){zt((function(){u&&h(f(i.nodeFocusedBeforeActivation)),a&&a()}))};return u&&c?(c(f(i.nodeFocusedBeforeActivation)).then(l,l),this):(l(),this)},pause:function(){return i.paused||!i.active||(i.paused=!0,g()),this},unpause:function(){return i.paused&&i.active?(i.paused=!1,l(),v(),this):this},updateContainerElements:function(t){var e=[].concat(t).filter(Boolean);return i.containers=e.map((function(t){return"string"==typeof t?r.querySelector(t):t})),i.active&&l(),this}}).updateContainerElements(t),n};function Jt(t){return t.split("-")[0]}function Qt(t){return t.split("-")[1]}function Zt(t){return["top","bottom"].includes(Jt(t))?"x":"y"}function te(t){return"y"===t?"height":"width"}function ee(t,e,n){let{reference:r,floating:o}=t;const i=r.x+r.width/2-o.width/2,s=r.y+r.height/2-o.height/2,a=Zt(e),c=te(a),u=r[c]/2-o[c]/2,l="x"===a;let h;switch(Jt(e)){case"top":h={x:i,y:r.y-o.height};break;case"bottom":h={x:i,y:r.y+r.height};break;case"right":h={x:r.x+r.width,y:s};break;case"left":h={x:r.x-o.width,y:s};break;default:h={x:r.x,y:r.y}}switch(Qt(e)){case"start":h[a]-=u*(n&&l?-1:1);break;case"end":h[a]+=u*(n&&l?-1:1)}return h}function ne(t){return"number"!=typeof t?function(t){return{top:0,right:0,bottom:0,left:0,...t}}(t):{top:t,right:t,bottom:t,left:t}}function re(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}async function oe(t,e){var n;void 0===e&&(e={});const{x:r,y:o,platform:i,rects:s,elements:a,strategy:c}=t,{boundary:u="clippingAncestors",rootBoundary:l="viewport",elementContext:h="floating",altBoundary:f=!1,padding:d=0}=e,p=ne(d),m=a[f?"floating"===h?"reference":"floating":h],y=re(await i.getClippingRect({element:null==(n=await(null==i.isElement?void 0:i.isElement(m)))||n?m:m.contextElement||await(null==i.getDocumentElement?void 0:i.getDocumentElement(a.floating)),boundary:u,rootBoundary:l,strategy:c})),v=re(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({rect:"floating"===h?{...s.floating,x:r,y:o}:s.reference,offsetParent:await(null==i.getOffsetParent?void 0:i.getOffsetParent(a.floating)),strategy:c}):s[h]);return{top:y.top-v.top+p.top,bottom:v.bottom-y.bottom+p.bottom,left:y.left-v.left+p.left,right:v.right-y.right+p.right}}const ie=Math.min,se=Math.max;function ae(t,e,n){return se(t,ie(e,n))}const ce={left:"right",right:"left",bottom:"top",top:"bottom"};function ue(t){return t.replace(/left|right|bottom|top/g,(t=>ce[t]))}function le(t,e,n){void 0===n&&(n=!1);const r=Qt(t),o=Zt(t),i=te(o);let s="x"===o?r===(n?"end":"start")?"right":"left":"start"===r?"bottom":"top";return e.reference[i]>e.floating[i]&&(s=ue(s)),{main:s,cross:ue(s)}}const he={start:"end",end:"start"};function fe(t){return t.replace(/start|end/g,(t=>he[t]))}const de=["top","right","bottom","left"],pe=(de.reduce(((t,e)=>t.concat(e,e+"-start",e+"-end")),[]),function(t){return void 0===t&&(t={}),{name:"flip",options:t,async fn(e){var n;const{placement:r,middlewareData:o,rects:i,initialPlacement:s,platform:a,elements:c}=e,{mainAxis:u=!0,crossAxis:l=!0,fallbackPlacements:h,fallbackStrategy:f="bestFit",flipAlignment:d=!0,...p}=t,m=Jt(r),y=h||(m!==s&&d?function(t){const e=ue(t);return[fe(t),e,fe(e)]}(s):[ue(s)]),v=[s,...y],g=await oe(e,p),b=[];let w=(null==(n=o.flip)?void 0:n.overflows)||[];if(u&&b.push(g[m]),l){const{main:t,cross:e}=le(r,i,await(null==a.isRTL?void 0:a.isRTL(c.floating)));b.push(g[t],g[e])}if(w=[...w,{placement:r,overflows:b}],!b.every((t=>t<=0))){var E,S;const t=(null!=(E=null==(S=o.flip)?void 0:S.index)?E:0)+1,e=v[t];if(e)return{data:{index:t,overflows:w},reset:{placement:e}};let n="bottom";switch(f){case"bestFit":{var k;const t=null==(k=w.map((t=>[t,t.overflows.filter((t=>t>0)).reduce(((t,e)=>t+e),0)])).sort(((t,e)=>t[1]-e[1]))[0])?void 0:k[0].placement;t&&(n=t);break}case"initialPlacement":n=s}if(r!==n)return{reset:{placement:n}}}return{}}}});function me(t){return"x"===t?"y":"x"}const ye=function(t){return void 0===t&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:o}=e,{mainAxis:i=!0,crossAxis:s=!1,limiter:a={fn:t=>{let{x:e,y:n}=t;return{x:e,y:n}}},...c}=t,u={x:n,y:r},l=await oe(e,c),h=Zt(Jt(o)),f=me(h);let d=u[h],p=u[f];if(i){const t="y"===h?"bottom":"right";d=ae(d+l["y"===h?"top":"left"],d,d-l[t])}if(s){const t="y"===f?"bottom":"right";p=ae(p+l["y"===f?"top":"left"],p,p-l[t])}const m=a.fn({...e,[h]:d,[f]:p});return{...m,data:{x:m.x-n,y:m.y-r}}}}},ve=function(t){return void 0===t&&(t={}),{name:"size",options:t,async fn(e){const{placement:n,rects:r,platform:o,elements:i}=e,{apply:s=(()=>{}),...a}=t,c=await oe(e,a),u=Jt(n),l=Qt(n);let h,f;"top"===u||"bottom"===u?(h=u,f=l===(await(null==o.isRTL?void 0:o.isRTL(i.floating))?"start":"end")?"left":"right"):(f=u,h="end"===l?"top":"bottom");const d=se(c.left,0),p=se(c.right,0),m=se(c.top,0),y=se(c.bottom,0),v={availableHeight:r.floating.height-(["left","right"].includes(n)?2*(0!==m||0!==y?m+y:se(c.top,c.bottom)):c[h]),availableWidth:r.floating.width-(["top","bottom"].includes(n)?2*(0!==d||0!==p?d+p:se(c.left,c.right)):c[f])};await s({...e,...v});const g=await o.getDimensions(i.floating);return r.floating.width!==g.width||r.floating.height!==g.height?{reset:{rects:!0}}:{}}}};function ge(t){return t&&t.document&&t.location&&t.alert&&t.setInterval}function be(t){if(null==t)return window;if(!ge(t)){const e=t.ownerDocument;return e&&e.defaultView||window}return t}function we(t){return be(t).getComputedStyle(t)}function Ee(t){return ge(t)?"":t?(t.nodeName||"").toLowerCase():""}function Se(){const t=navigator.userAgentData;return null!=t&&t.brands?t.brands.map((t=>t.brand+"/"+t.version)).join(" "):navigator.userAgent}function ke(t){return t instanceof be(t).HTMLElement}function Te(t){return t instanceof be(t).Element}function Oe(t){return"undefined"!=typeof ShadowRoot&&(t instanceof be(t).ShadowRoot||t instanceof ShadowRoot)}function xe(t){const{overflow:e,overflowX:n,overflowY:r}=we(t);return/auto|scroll|overlay|hidden/.test(e+r+n)}function Le(t){return["table","td","th"].includes(Ee(t))}function Ae(t){const e=/firefox/i.test(Se()),n=we(t);return"none"!==n.transform||"none"!==n.perspective||"paint"===n.contain||["transform","perspective"].includes(n.willChange)||e&&"filter"===n.willChange||e&&!!n.filter&&"none"!==n.filter}function Ce(){return!/^((?!chrome|android).)*safari/i.test(Se())}const Pe=Math.min,Re=Math.max,_e=Math.round;function je(t,e,n){var r,o,i,s;void 0===e&&(e=!1),void 0===n&&(n=!1);const a=t.getBoundingClientRect();let c=1,u=1;e&&ke(t)&&(c=t.offsetWidth>0&&_e(a.width)/t.offsetWidth||1,u=t.offsetHeight>0&&_e(a.height)/t.offsetHeight||1);const l=Te(t)?be(t):window,h=!Ce()&&n,f=(a.left+(h&&null!=(r=null==(o=l.visualViewport)?void 0:o.offsetLeft)?r:0))/c,d=(a.top+(h&&null!=(i=null==(s=l.visualViewport)?void 0:s.offsetTop)?i:0))/u,p=a.width/c,m=a.height/u;return{width:p,height:m,top:d,right:f+p,bottom:d+m,left:f,x:f,y:d}}function Me(t){return(e=t,(e instanceof be(e).Node?t.ownerDocument:t.document)||window.document).documentElement;var e}function Ne(t){return Te(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function Ie(t){return je(Me(t)).left+Ne(t).scrollLeft}function De(t,e,n){const r=ke(e),o=Me(e),i=je(t,r&&function(t){const e=je(t);return _e(e.width)!==t.offsetWidth||_e(e.height)!==t.offsetHeight}(e),"fixed"===n);let s={scrollLeft:0,scrollTop:0};const a={x:0,y:0};if(r||!r&&"fixed"!==n)if(("body"!==Ee(e)||xe(o))&&(s=Ne(e)),ke(e)){const t=je(e,!0);a.x=t.x+e.clientLeft,a.y=t.y+e.clientTop}else o&&(a.x=Ie(o));return{x:i.left+s.scrollLeft-a.x,y:i.top+s.scrollTop-a.y,width:i.width,height:i.height}}function Fe(t){return"html"===Ee(t)?t:t.assignedSlot||t.parentNode||(Oe(t)?t.host:null)||Me(t)}function Be(t){return ke(t)&&"fixed"!==getComputedStyle(t).position?t.offsetParent:null}function He(t){const e=be(t);let n=Be(t);for(;n&&Le(n)&&"static"===getComputedStyle(n).position;)n=Be(n);return n&&("html"===Ee(n)||"body"===Ee(n)&&"static"===getComputedStyle(n).position&&!Ae(n))?e:n||function(t){let e=Fe(t);for(Oe(e)&&(e=e.host);ke(e)&&!["html","body"].includes(Ee(e));){if(Ae(e))return e;e=e.parentNode}return null}(t)||e}function qe(t){if(ke(t))return{width:t.offsetWidth,height:t.offsetHeight};const e=je(t);return{width:e.width,height:e.height}}function We(t){const e=Fe(t);return["html","body","#document"].includes(Ee(e))?t.ownerDocument.body:ke(e)&&xe(e)?e:We(e)}function Ve(t,e){var n;void 0===e&&(e=[]);const r=We(t),o=r===(null==(n=t.ownerDocument)?void 0:n.body),i=be(r),s=o?[i].concat(i.visualViewport||[],xe(r)?r:[]):r,a=e.concat(s);return o?a:a.concat(Ve(s))}function Ue(t,e,n){return"viewport"===e?re(function(t,e){const n=be(t),r=Me(t),o=n.visualViewport;let i=r.clientWidth,s=r.clientHeight,a=0,c=0;if(o){i=o.width,s=o.height;const t=Ce();(t||!t&&"fixed"===e)&&(a=o.offsetLeft,c=o.offsetTop)}return{width:i,height:s,x:a,y:c}}(t,n)):Te(e)?function(t,e){const n=je(t,!1,"fixed"===e),r=n.top+t.clientTop,o=n.left+t.clientLeft;return{top:r,left:o,x:o,y:r,right:o+t.clientWidth,bottom:r+t.clientHeight,width:t.clientWidth,height:t.clientHeight}}(e,n):re(function(t){var e;const n=Me(t),r=Ne(t),o=null==(e=t.ownerDocument)?void 0:e.body,i=Re(n.scrollWidth,n.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),s=Re(n.scrollHeight,n.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0);let a=-r.scrollLeft+Ie(t);const c=-r.scrollTop;return"rtl"===we(o||n).direction&&(a+=Re(n.clientWidth,o?o.clientWidth:0)-i),{width:i,height:s,x:a,y:c}}(Me(t)))}function $e(t){const e=Ve(t),n=["absolute","fixed"].includes(we(t).position)&&ke(t)?He(t):t;return Te(n)?e.filter((t=>Te(t)&&function(t,e){const n=null==e.getRootNode?void 0:e.getRootNode();if(t.contains(e))return!0;if(n&&Oe(n)){let n=e;do{if(n&&t===n)return!0;n=n.parentNode||n.host}while(n)}return!1}(t,n)&&"body"!==Ee(t))):[]}const ze={getClippingRect:function(t){let{element:e,boundary:n,rootBoundary:r,strategy:o}=t;const i=[..."clippingAncestors"===n?$e(e):[].concat(n),r],s=i[0],a=i.reduce(((t,n)=>{const r=Ue(e,n,o);return t.top=Re(r.top,t.top),t.right=Pe(r.right,t.right),t.bottom=Pe(r.bottom,t.bottom),t.left=Re(r.left,t.left),t}),Ue(e,s,o));return{width:a.right-a.left,height:a.bottom-a.top,x:a.left,y:a.top}},convertOffsetParentRelativeRectToViewportRelativeRect:function(t){let{rect:e,offsetParent:n,strategy:r}=t;const o=ke(n),i=Me(n);if(n===i)return e;let s={scrollLeft:0,scrollTop:0};const a={x:0,y:0};if((o||!o&&"fixed"!==r)&&(("body"!==Ee(n)||xe(i))&&(s=Ne(n)),ke(n))){const t=je(n,!0);a.x=t.x+n.clientLeft,a.y=t.y+n.clientTop}return{...e,x:e.x-s.scrollLeft+a.x,y:e.y-s.scrollTop+a.y}},isElement:Te,getDimensions:qe,getOffsetParent:He,getDocumentElement:Me,getElementRects:t=>{let{reference:e,floating:n,strategy:r}=t;return{reference:De(e,He(n),r),floating:{...qe(n),x:0,y:0}}},getClientRects:t=>Array.from(t.getClientRects()),isRTL:t=>"rtl"===we(t).direction};const Ke=(t,e,n)=>(async(t,e,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:i=[],platform:s}=n,a=await(null==s.isRTL?void 0:s.isRTL(e));let c=await s.getElementRects({reference:t,floating:e,strategy:o}),{x:u,y:l}=ee(c,r,a),h=r,f={},d=0;for(let n=0;n<i.length;n++){const{name:p,fn:m}=i[n],{x:y,y:v,data:g,reset:b}=await m({x:u,y:l,initialPlacement:r,placement:h,strategy:o,middlewareData:f,rects:c,platform:s,elements:{reference:t,floating:e}});u=null!=y?y:u,l=null!=v?v:l,f={...f,[p]:{...f[p],...g}},b&&d<=50&&(d++,"object"==typeof b&&(b.placement&&(h=b.placement),b.rects&&(c=!0===b.rects?await s.getElementRects({reference:t,floating:e,strategy:o}):b.rects),({x:u,y:l}=ee(c,h,a))),n=-1)}return{x:u,y:l,placement:h,strategy:o,middlewareData:f}})(t,e,{platform:ze,...n});function Ge(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Xe(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Xe(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,i=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw i}}}}function Xe(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Je(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Qe(t,e,n){return e&&Je(t.prototype,e),n&&Je(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ze(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&an(t,e)}function tn(t){var e=sn();return function(){var n,r=cn(t);if(e){var o=cn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return en(this,n)}}function en(t,e){if(e&&("object"===un(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return nn(t)}function nn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rn(t){var e="function"==typeof Map?new Map:void 0;return rn=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return on(t,arguments,cn(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),an(r,t)},rn(t)}function on(t,e,n){return on=sn()?Reflect.construct.bind():function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&an(o,n.prototype),o},on.apply(null,arguments)}function sn(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function an(t,e){return an=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},an(t,e)}function cn(t){return cn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},cn(t)}function un(t){return un="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},un(t)}var ln=Object.defineProperty,hn=function(t,e,n){return function(t,e,n){e in t?ln(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n}(t,"symbol"!=un(e)?e+"":e,n),n},fn=function(t){Ze(n,t);var e=tn(n);function n(){var t;return Ye(this,n),t=e.call(this),hn(nn(t),"timeouts",new Map),hn(nn(t),"index",0),new MutationObserver((function(e){e.forEach((function(e){e.addedNodes.forEach((function(e){e instanceof HTMLElement&&t.show(e)}))}))})).observe(nn(t),{childList:!0}),t}return Qe(n,[{key:"connectedCallback",value:function(){this.hasAttribute("role")||this.setAttribute("role","status"),this.hasAttribute("aria-live")||this.setAttribute("aria-live","polite"),this.hasAttribute("aria-relevant")||this.setAttribute("aria-relevant","additions");var t,e=Ge(this.children);try{for(e.s();!(t=e.n()).done;){var n=t.value;this.show(n,{animate:!1})}}catch(t){e.e(t)}finally{e.f()}}},{key:"show",value:function(t){var e=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=r.key||t.dataset.key||String(this.index++);t.dataset.key=o,this.contains(t)?vt(t):!1===r.animate?this.append(t):pt(this.children,(function(){e.append(t),vt(t)}));var i=Number(void 0!==r.duration?r.duration:t.dataset.duration||n.duration);return i>0&&(this.startTimeout(t,i),t.addEventListener("mouseenter",this.clearTimeout.bind(this,t)),t.addEventListener("focusin",this.clearTimeout.bind(this,t)),t.addEventListener("mouseleave",this.startTimeout.bind(this,t,i)),t.addEventListener("focusout",this.startTimeout.bind(this,t,i))),o}},{key:"dismiss",value:function(t){var e=this;"string"!=typeof t?(pt(this.children,(function(){gt(t,{finish:function(){return e.removeChild(t)}})})),this.clearTimeout(t)):this.querySelectorAll('[data-key="'.concat(t,'"]')).forEach((function(t){e.dismiss(t)}))}},{key:"clear",value:function(){var t=this;Array.from(this.children).forEach((function(e){t.dismiss(e)}))}},{key:"speak",value:function(t){var e=document.createElement("div");Object.assign(e.style,{clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:"1px",overflow:"hidden",position:"absolute",whiteSpace:"nowrap",width:"1px"}),e.textContent=t,this.show(e)}},{key:"startTimeout",value:function(t,e){var n=this;this.clearTimeout(t),this.timeouts.set(t,window.setTimeout((function(){n.dismiss(t)}),e))}},{key:"clearTimeout",value:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){this.timeouts.has(t)&&clearTimeout(this.timeouts.get(t))}))}]),n}(rn(HTMLElement)),dn=fn;hn(dn,"duration",1e4);var pn=function(t){Ze(n,t);var e=tn(n);function n(){var t;return Ye(this,n),t=e.apply(this,arguments),hn(nn(t),"search",""),hn(nn(t),"searchTimeout"),hn(nn(t),"onKeyDown",(function(e){if(!t.hidden){if("ArrowUp"===e.key)return t.navigate(-1),void e.preventDefault();if("ArrowDown"===e.key)return t.navigate(1),void e.preventDefault();e.key.length>1||e.ctrlKey||e.metaKey||e.altKey||(t.search+=e.key.toLowerCase(),e.preventDefault(),clearTimeout(t.searchTimeout),t.searchTimeout=window.setTimeout((function(){t.search=""}),n.searchDelay),t.items.some((function(e){var n;return 0===(null==(n=e.textContent)?void 0:n.trim().toLowerCase().indexOf(t.search))&&(e.focus(),!0)})))}})),t}return Qe(n,[{key:"connectedCallback",value:function(){this.hasAttribute("role")||this.setAttribute("role","menu"),this.hasAttribute("tabindex")||this.setAttribute("tabindex","-1"),this.items.forEach((function(t){t.hasAttribute("tabindex")||t.setAttribute("tabindex","-1")})),this.addEventListener("keydown",this.onKeyDown)}},{key:"disconnectedCallback",value:function(){this.removeEventListener("keydown",this.onKeyDown)}},{key:"items",get:function(){return Array.from(this.querySelectorAll("[role^=menuitem]")).filter((function(t){return Ht(t)}))}},{key:"navigate",value:function(t){var e,n=this.items,r=(document.activeElement instanceof HTMLElement?n.indexOf(document.activeElement):-1)+t;r<0&&(r=n.length-1),r>=n.length&&(r=0),null==(e=n[r])||e.focus()}}]),n}(rn(HTMLElement)),mn=pn;hn(mn,"searchDelay",800);var yn=function(t){Ze(n,t);var e=tn(n);function n(){var t;Ye(this,n),t=e.call(this),hn(nn(t),"focusTrap"),hn(nn(t),"connected",!1);var r=document.createElement("template");r.innerHTML='\n            <div part="backdrop" style="position: fixed; top: 0; left: 0; right: 0; bottom: 0"></div>\n            <div part="content" style="z-index: 1"><slot></slot></div>\n        ';var o=t.attachShadow({mode:"open"});return o.appendChild(r.content.cloneNode(!0)),t.backdrop.addEventListener("click",(function(){var e;t.hasAttribute("static")?null==(e=n.attention)||e.call(n,o.children[1]):t.close()})),t.focusTrap=Yt(nn(t),{escapeDeactivates:!1,allowOutsideClick:!0}),t}return Qe(n,[{key:"connectedCallback",value:function(){var t,e,n,r,o,i,s=this;this.connected=!0,null!=(t=this.content)&&t.hasAttribute("role")||null==(e=this.content)||e.setAttribute("role","dialog"),null!=(n=this.content)&&n.hasAttribute("aria-modal")||null==(r=this.content)||r.setAttribute("aria-modal","true"),null!=(o=this.content)&&o.hasAttribute("tabindex")||null==(i=this.content)||i.setAttribute("tabindex","-1"),this.addEventListener("keydown",(function(t){"Escape"===t.key&&s.open&&(t.preventDefault(),t.stopPropagation(),s.close())})),this.open&&this.wasOpened()}},{key:"disconnectedCallback",value:function(){this.connected=!1}},{key:"open",get:function(){return this.hasAttribute("open")},set:function(t){t?this.setAttribute("open",""):this.removeAttribute("open")}},{key:"close",value:function(){if(this.open){var t=new Event("beforeclose",{cancelable:!0});this.dispatchEvent(t)&&(this.open=!1)}}},{key:"attributeChangedCallback",value:function(t,e,n){"open"!==t||!this.connected||(null!==n?this.wasOpened():this.wasClosed())}},{key:"wasOpened",value:function(){var t,e;this.hidden=!1,vt(this),null==(t=this.focusTrap)||t.activate(),null==(e=this.querySelector("[autofocus]"))||e.focus(),this.dispatchEvent(new Event("open"))}},{key:"wasClosed",value:function(){var t,e=this;null==(t=this.focusTrap)||t.deactivate(),gt(this,{finish:function(){return e.hidden=!0}}),this.dispatchEvent(new Event("close"))}},{key:"backdrop",get:function(){var t;return null==(t=this.shadowRoot)?void 0:t.firstElementChild}},{key:"content",get:function(){return this.firstElementChild}}],[{key:"observedAttributes",get:function(){return["open"]}}]),n}(rn(HTMLElement)),vn=yn;hn(vn,"attention",(function(t){return t.animate([{transform:"scale(1)"},{transform:"scale(1.1)"},{transform:"scale(1)"}],300)}));var gn=function(t){Ze(n,t);var e=tn(n);function n(){var t;Ye(this,n),t=e.call(this),hn(nn(t),"cleanup"),hn(nn(t),"onButtonClick",(function(e){!function(t){return t.altKey||t.ctrlKey||t.metaKey||t.shiftKey||void 0!==t.button&&0!==t.button}(e)&&!t.disabled&&(t.open=!t.open,e.preventDefault())})),hn(nn(t),"onButtonKeyDown",(function(e){var n;"ArrowDown"===e.key&&!t.disabled&&(e.preventDefault(),t.open=!0,null==(n=Dt(t.content)[0])||n.focus())})),hn(nn(t),"onKeyDown",(function(e){"Escape"===e.key&&t.open&&(e.preventDefault(),e.stopPropagation(),t.open=!1,t.button.focus())})),hn(nn(t),"onFocusOut",(function(e){t.hasAttribute("persist")||e.relatedTarget instanceof Node&&t.contains(e.relatedTarget)||(t.open=!1)})),hn(nn(t),"onContentClick",(function(e){e.target instanceof Element&&e.target.closest("[role=menuitem], [role=menuitemradio]")&&(t.open=!1,t.button.focus())}));var r=document.createElement("template");return r.innerHTML='\n            <div part="backdrop" hidden style="position: fixed; top: 0; left: 0; right: 0; bottom: 0"></div>\n            <slot></slot>\n        ',t.attachShadow({mode:"open"}).appendChild(r.content.cloneNode(!0)),t.backdrop.onclick=function(){return t.open=!1},t}return Qe(n,[{key:"connectedCallback",value:function(){var t=this;this.backdrop.hidden=!0,this.content.hidden=!0,this.open=!1,this.button.setAttribute("aria-expanded","false"),setTimeout((function(){"menu"===t.content.getAttribute("role")&&t.button.setAttribute("aria-haspopup","true")})),this.button.addEventListener("click",this.onButtonClick),this.button.addEventListener("keydown",this.onButtonKeyDown),this.addEventListener("keydown",this.onKeyDown),this.addEventListener("focusout",this.onFocusOut),this.content.addEventListener("click",this.onContentClick)}},{key:"disconnectedCallback",value:function(){mt(this.backdrop),mt(this.content),this.button.removeAttribute("aria-expanded"),this.button.removeAttribute("aria-haspopup"),this.button.removeEventListener("click",this.onButtonClick),this.button.removeEventListener("keydown",this.onButtonKeyDown),this.removeEventListener("keydown",this.onKeyDown),this.removeEventListener("focusout",this.onFocusOut),this.content.removeEventListener("click",this.onContentClick)}},{key:"open",get:function(){return this.hasAttribute("open")},set:function(t){t?this.setAttribute("open",""):this.removeAttribute("open")}},{key:"disabled",get:function(){return this.hasAttribute("disabled")}},{key:"attributeChangedCallback",value:function(t,e,n){"open"===t&&(null!==n?this.wasOpened():this.wasClosed())}},{key:"wasOpened",value:function(){var t=this;if(this.content.hidden){this.content.hidden=!1,this.backdrop.hidden=!1,vt(this.content),vt(this.backdrop),this.button.setAttribute("aria-expanded","true"),this.content.style.position="absolute",this.cleanup=function(t,e,n,r){void 0===r&&(r={});const{ancestorScroll:o=!0,ancestorResize:i=!0,elementResize:s=!0,animationFrame:a=!1}=r,c=o&&!a,u=i&&!a,l=c||u?[...Te(t)?Ve(t):[],...Ve(e)]:[];l.forEach((t=>{c&&t.addEventListener("scroll",n,{passive:!0}),u&&t.addEventListener("resize",n)}));let h,f=null;if(s){let r=!0;f=new ResizeObserver((()=>{r||n(),r=!1})),Te(t)&&!a&&f.observe(t),f.observe(e)}let d=a?je(t):null;return a&&function e(){const r=je(t);!d||r.x===d.x&&r.y===d.y&&r.width===d.width&&r.height===d.height||n(),d=r,h=requestAnimationFrame(e)}(),n(),()=>{var t;l.forEach((t=>{c&&t.removeEventListener("scroll",n),u&&t.removeEventListener("resize",n)})),null==(t=f)||t.disconnect(),f=null,a&&cancelAnimationFrame(h)}}(this.button,this.content,(function(){Ke(t.button,t.content,{placement:t.getAttribute("placement")||"bottom",middleware:[ye(),pe(),ve({apply:function(e){var n=e.availableWidth,r=e.availableHeight;Object.assign(t.content.style,{maxWidth:"",maxHeight:""});var o=getComputedStyle(t.content);("none"===o.maxWidth||n<parseInt(o.maxWidth))&&(t.content.style.maxWidth="".concat(n,"px")),("none"===o.maxHeight||r<parseInt(o.maxHeight))&&(t.content.style.maxHeight="".concat(r,"px"))}})]}).then((function(e){var n=e.x,r=e.y,o=e.placement;Object.assign(t.content.style,{left:"".concat(n,"px"),top:"".concat(r,"px")}),t.content.dataset.placement=o}))}),{ancestorScroll:!1});var e=this.content.querySelector("[autofocus]");e?e.focus():this.content.focus(),this.dispatchEvent(new Event("open"))}}},{key:"wasClosed",value:function(){var t,e=this;this.content.hidden||(this.button.setAttribute("aria-expanded","false"),null==(t=this.cleanup)||t.call(this),gt(this.backdrop,{finish:function(){return e.backdrop.hidden=!0}}),gt(this.content,{finish:function(){return e.content.hidden=!0}}),this.dispatchEvent(new Event("close")))}},{key:"backdrop",get:function(){var t;return null==(t=this.shadowRoot)?void 0:t.firstElementChild}},{key:"button",get:function(){return this.children[0]}},{key:"content",get:function(){return this.children[1]}}],[{key:"observedAttributes",get:function(){return["open"]}}]),n}(rn(HTMLElement)),bn=function(t){Ze(n,t);var e=tn(n);function n(){var t;return Ye(this,n),t=e.apply(this,arguments),hn(nn(t),"onInitialFocus",(function(){t.removeAttribute("tabindex"),t.focusControlAtIndex(0)})),hn(nn(t),"onKeyDown",(function(e){if("ArrowRight"===e.key||"ArrowLeft"===e.key||"Home"===e.key||"End"===e.key){var n=t.controls,r=t.controls.length,o=n.indexOf(e.target);if(-1!==o){var i=0;"ArrowLeft"===e.key&&(i=o-1),"ArrowRight"===e.key&&(i=o+1),"End"===e.key&&(i=r-1),i<0&&(i=r-1),i>r-1&&(i=0),t.focusControlAtIndex(i),e.preventDefault()}}})),t}return Qe(n,[{key:"connectedCallback",value:function(){this.hasAttribute("role")||this.setAttribute("role","toolbar"),this.setAttribute("tabindex","0"),this.addEventListener("focus",this.onInitialFocus,{once:!0}),this.addEventListener("keydown",this.onKeyDown)}},{key:"disconnectedCallback",value:function(){this.removeEventListener("keydown",this.onKeyDown)}},{key:"focusControlAtIndex",value:function(t){this.controls.forEach((function(e,n){n===t?(e.setAttribute("tabindex","0"),e.focus()):e.setAttribute("tabindex","-1")}))}},{key:"controls",get:function(){return Dt(this)}}]),n}(rn(HTMLElement)),wn=function(t){Ze(n,t);var e=tn(n);function n(){var t;return Ye(this,n),t=e.apply(this,arguments),hn(nn(t),"parent"),hn(nn(t),"tooltip"),hn(nn(t),"timeout"),hn(nn(t),"observer"),hn(nn(t),"showing",!1),hn(nn(t),"onMouseEnter",t.afterDelay.bind(nn(t),t.show)),hn(nn(t),"onFocus",t.show.bind(nn(t))),hn(nn(t),"onMouseLeave",t.afterDelay.bind(nn(t),t.hide)),hn(nn(t),"onBlur",t.hide.bind(nn(t))),hn(nn(t),"onKeyDown",(function(e){"Escape"===e.key&&t.hide()})),t}return Qe(n,[{key:"connectedCallback",value:function(){var t=this;this.parent=this.parentNode,this.parent&&(this.parent.addEventListener("mouseenter",this.onMouseEnter),this.parent.addEventListener("focus",this.onFocus),this.parent.addEventListener("mouseleave",this.onMouseLeave),this.parent.addEventListener("blur",this.onBlur),this.parent.addEventListener("click",this.onBlur),this.observer=new MutationObserver((function(e){e.forEach((function(e){"disabled"===e.attributeName&&t.hide()}))})),this.observer.observe(this.parent,{attributes:!0})),document.addEventListener("keydown",this.onKeyDown),document.addEventListener("scroll",this.onBlur)}},{key:"disconnectedCallback",value:function(){var t;this.tooltip&&(this.tooltip.remove(),this.tooltip=void 0),this.parent&&(this.parent.removeEventListener("mouseenter",this.onMouseEnter),this.parent.removeEventListener("focus",this.onFocus),this.parent.removeEventListener("mouseleave",this.onMouseLeave),this.parent.removeEventListener("blur",this.onBlur),this.parent.removeEventListener("click",this.onBlur),this.parent=void 0),document.removeEventListener("keydown",this.onKeyDown),document.removeEventListener("scroll",this.onBlur),null==(t=this.observer)||t.disconnect(),clearTimeout(this.timeout)}},{key:"disabled",get:function(){return this.hasAttribute("disabled")},set:function(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}},{key:"show",value:function(){if(!this.disabled){var t=this.createTooltip();clearTimeout(this.timeout),this.showing||(t.hidden=!1,vt(t),this.showing=!0),t.innerHTML!==this.innerHTML&&(t.innerHTML=this.innerHTML),t.style.position="absolute",Ke(this.parent,t,{placement:this.getAttribute("placement")||n.placement,middleware:[ye(),pe()]}).then((function(e){var n=e.x,r=e.y,o=e.placement;Object.assign(t.style,{left:"".concat(n,"px"),top:"".concat(r,"px")}),t.dataset.placement=o}))}}},{key:"hide",value:function(){var t=this;clearTimeout(this.timeout),this.showing&&(this.showing=!1,gt(this.tooltip,{finish:function(){t.tooltip&&(t.tooltip.hidden=!0)}}))}},{key:"afterDelay",value:function(t){clearTimeout(this.timeout);var e=parseInt(this.getAttribute("delay")||"");this.timeout=window.setTimeout(t.bind(this),isNaN(e)?n.delay:e)}},{key:"createTooltip",value:function(){return this.tooltip||(this.tooltip=document.createElement("div"),this.tooltip.className=this.getAttribute("tooltip-class")||n.tooltipClass,this.tooltip.hidden=!0,this.tooltip.addEventListener("mouseenter",this.show.bind(this)),this.tooltip.addEventListener("mouseleave",this.afterDelay.bind(this,this.hide)),document.body.appendChild(this.tooltip)),this.tooltip}}]),n}(rn(HTMLElement)),En=wn;hn(En,"delay",100),hn(En,"placement","top"),hn(En,"tooltipClass","tooltip"),window.customElements.define("ui-alerts",dn),window.customElements.define("ui-menu",mn),window.customElements.define("ui-modal",vn),window.customElements.define("ui-popup",gn),window.customElements.define("ui-toolbar",bn),window.customElements.define("ui-tooltip",En);n(1215);function Sn(t){return Sn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sn(t)}function kn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Tn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function On(t,e,n){return e&&Tn(t.prototype,e),n&&Tn(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function xn(){return xn=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xn.apply(this,arguments)}function Ln(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Cn(t,e)}function An(t){return An=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},An(t)}function Cn(t,e){return Cn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Cn(t,e)}function Pn(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Rn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=An(t);if(e){var o=An(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Pn(this,n)}}var _n=function(){function t(){kn(this,t)}return On(t,[{key:"listenForWhisper",value:function(t,e){return this.listen(".client-"+t,e)}},{key:"notification",value:function(t){return this.listen(".Illuminate\\Notifications\\Events\\BroadcastNotificationCreated",t)}},{key:"stopListeningForWhisper",value:function(t,e){return this.stopListening(".client-"+t,e)}}]),t}(),jn=function(){function t(e){kn(this,t),this.setNamespace(e)}return On(t,[{key:"format",value:function(t){return"."===t.charAt(0)||"\\"===t.charAt(0)?t.substr(1):(this.namespace&&(t=this.namespace+"."+t),t.replace(/\./g,"\\"))}},{key:"setNamespace",value:function(t){this.namespace=t}}]),t}(),Mn=function(t){Ln(n,t);var e=Rn(n);function n(t,r,o){var i;return kn(this,n),(i=e.call(this)).name=r,i.pusher=t,i.options=o,i.eventFormatter=new jn(i.options.namespace),i.subscribe(),i}return On(n,[{key:"subscribe",value:function(){this.subscription=this.pusher.subscribe(this.name)}},{key:"unsubscribe",value:function(){this.pusher.unsubscribe(this.name)}},{key:"listen",value:function(t,e){return this.on(this.eventFormatter.format(t),e),this}},{key:"listenToAll",value:function(t){var e=this;return this.subscription.bind_global((function(n,r){if(!n.startsWith("pusher:")){var o=e.options.namespace.replace(/\./g,"\\"),i=n.startsWith(o)?n.substring(o.length+1):"."+n;t(i,r)}})),this}},{key:"stopListening",value:function(t,e){return e?this.subscription.unbind(this.eventFormatter.format(t),e):this.subscription.unbind(this.eventFormatter.format(t)),this}},{key:"stopListeningToAll",value:function(t){return t?this.subscription.unbind_global(t):this.subscription.unbind_global(),this}},{key:"subscribed",value:function(t){return this.on("pusher:subscription_succeeded",(function(){t()})),this}},{key:"error",value:function(t){return this.on("pusher:subscription_error",(function(e){t(e)})),this}},{key:"on",value:function(t,e){return this.subscription.bind(t,e),this}}]),n}(_n),Nn=function(t){Ln(n,t);var e=Rn(n);function n(){return kn(this,n),e.apply(this,arguments)}return On(n,[{key:"whisper",value:function(t,e){return this.pusher.channels.channels[this.name].trigger("client-".concat(t),e),this}}]),n}(Mn),In=function(t){Ln(n,t);var e=Rn(n);function n(){return kn(this,n),e.apply(this,arguments)}return On(n,[{key:"whisper",value:function(t,e){return this.pusher.channels.channels[this.name].trigger("client-".concat(t),e),this}}]),n}(Mn),Dn=function(t){Ln(n,t);var e=Rn(n);function n(){return kn(this,n),e.apply(this,arguments)}return On(n,[{key:"here",value:function(t){return this.on("pusher:subscription_succeeded",(function(e){t(Object.keys(e.members).map((function(t){return e.members[t]})))})),this}},{key:"joining",value:function(t){return this.on("pusher:member_added",(function(e){t(e.info)})),this}},{key:"leaving",value:function(t){return this.on("pusher:member_removed",(function(e){t(e.info)})),this}},{key:"whisper",value:function(t,e){return this.pusher.channels.channels[this.name].trigger("client-".concat(t),e),this}}]),n}(Mn),Fn=function(t){Ln(n,t);var e=Rn(n);function n(t,r,o){var i;return kn(this,n),(i=e.call(this)).events={},i.listeners={},i.name=r,i.socket=t,i.options=o,i.eventFormatter=new jn(i.options.namespace),i.subscribe(),i}return On(n,[{key:"subscribe",value:function(){this.socket.emit("subscribe",{channel:this.name,auth:this.options.auth||{}})}},{key:"unsubscribe",value:function(){this.unbind(),this.socket.emit("unsubscribe",{channel:this.name,auth:this.options.auth||{}})}},{key:"listen",value:function(t,e){return this.on(this.eventFormatter.format(t),e),this}},{key:"stopListening",value:function(t,e){return this.unbindEvent(this.eventFormatter.format(t),e),this}},{key:"subscribed",value:function(t){return this.on("connect",(function(e){t(e)})),this}},{key:"error",value:function(t){return this}},{key:"on",value:function(t,e){var n=this;return this.listeners[t]=this.listeners[t]||[],this.events[t]||(this.events[t]=function(e,r){n.name===e&&n.listeners[t]&&n.listeners[t].forEach((function(t){return t(r)}))},this.socket.on(t,this.events[t])),this.listeners[t].push(e),this}},{key:"unbind",value:function(){var t=this;Object.keys(this.events).forEach((function(e){t.unbindEvent(e)}))}},{key:"unbindEvent",value:function(t,e){this.listeners[t]=this.listeners[t]||[],e&&(this.listeners[t]=this.listeners[t].filter((function(t){return t!==e}))),e&&0!==this.listeners[t].length||(this.events[t]&&(this.socket.removeListener(t,this.events[t]),delete this.events[t]),delete this.listeners[t])}}]),n}(_n),Bn=function(t){Ln(n,t);var e=Rn(n);function n(){return kn(this,n),e.apply(this,arguments)}return On(n,[{key:"whisper",value:function(t,e){return this.socket.emit("client event",{channel:this.name,event:"client-".concat(t),data:e}),this}}]),n}(Fn),Hn=function(t){Ln(n,t);var e=Rn(n);function n(){return kn(this,n),e.apply(this,arguments)}return On(n,[{key:"here",value:function(t){return this.on("presence:subscribed",(function(e){t(e.map((function(t){return t.user_info})))})),this}},{key:"joining",value:function(t){return this.on("presence:joining",(function(e){return t(e.user_info)})),this}},{key:"leaving",value:function(t){return this.on("presence:leaving",(function(e){return t(e.user_info)})),this}}]),n}(Bn),qn=function(t){Ln(n,t);var e=Rn(n);function n(){return kn(this,n),e.apply(this,arguments)}return On(n,[{key:"subscribe",value:function(){}},{key:"unsubscribe",value:function(){}},{key:"listen",value:function(t,e){return this}},{key:"stopListening",value:function(t,e){return this}},{key:"subscribed",value:function(t){return this}},{key:"error",value:function(t){return this}},{key:"on",value:function(t,e){return this}}]),n}(_n),Wn=function(t){Ln(n,t);var e=Rn(n);function n(){return kn(this,n),e.apply(this,arguments)}return On(n,[{key:"whisper",value:function(t,e){return this}}]),n}(qn),Vn=function(t){Ln(n,t);var e=Rn(n);function n(){return kn(this,n),e.apply(this,arguments)}return On(n,[{key:"here",value:function(t){return this}},{key:"joining",value:function(t){return this}},{key:"leaving",value:function(t){return this}},{key:"whisper",value:function(t,e){return this}}]),n}(qn),Un=function(){function t(e){kn(this,t),this._defaultOptions={auth:{headers:{}},authEndpoint:"/broadcasting/auth",userAuthentication:{endpoint:"/broadcasting/user-auth",headers:{}},broadcaster:"pusher",csrfToken:null,bearerToken:null,host:null,key:null,namespace:"App.Events"},this.setOptions(e),this.connect()}return On(t,[{key:"setOptions",value:function(t){this.options=xn(this._defaultOptions,t);var e=this.csrfToken();return e&&(this.options.auth.headers["X-CSRF-TOKEN"]=e,this.options.userAuthentication.headers["X-CSRF-TOKEN"]=e),(e=this.options.bearerToken)&&(this.options.auth.headers.Authorization="Bearer "+e,this.options.userAuthentication.headers.Authorization="Bearer "+e),t}},{key:"csrfToken",value:function(){var t;return"undefined"!=typeof window&&window.Laravel&&window.Laravel.csrfToken?window.Laravel.csrfToken:this.options.csrfToken?this.options.csrfToken:"undefined"!=typeof document&&"function"==typeof document.querySelector&&(t=document.querySelector('meta[name="csrf-token"]'))?t.getAttribute("content"):null}}]),t}(),$n=function(t){Ln(n,t);var e=Rn(n);function n(){var t;return kn(this,n),(t=e.apply(this,arguments)).channels={},t}return On(n,[{key:"connect",value:function(){void 0!==this.options.client?this.pusher=this.options.client:this.pusher=new Pusher(this.options.key,this.options)}},{key:"signin",value:function(){this.pusher.signin()}},{key:"listen",value:function(t,e,n){return this.channel(t).listen(e,n)}},{key:"channel",value:function(t){return this.channels[t]||(this.channels[t]=new Mn(this.pusher,t,this.options)),this.channels[t]}},{key:"privateChannel",value:function(t){return this.channels["private-"+t]||(this.channels["private-"+t]=new Nn(this.pusher,"private-"+t,this.options)),this.channels["private-"+t]}},{key:"encryptedPrivateChannel",value:function(t){return this.channels["private-encrypted-"+t]||(this.channels["private-encrypted-"+t]=new In(this.pusher,"private-encrypted-"+t,this.options)),this.channels["private-encrypted-"+t]}},{key:"presenceChannel",value:function(t){return this.channels["presence-"+t]||(this.channels["presence-"+t]=new Dn(this.pusher,"presence-"+t,this.options)),this.channels["presence-"+t]}},{key:"leave",value:function(t){var e=this;[t,"private-"+t,"private-encrypted-"+t,"presence-"+t].forEach((function(t,n){e.leaveChannel(t)}))}},{key:"leaveChannel",value:function(t){this.channels[t]&&(this.channels[t].unsubscribe(),delete this.channels[t])}},{key:"socketId",value:function(){return this.pusher.connection.socket_id}},{key:"disconnect",value:function(){this.pusher.disconnect()}}]),n}(Un),zn=function(t){Ln(n,t);var e=Rn(n);function n(){var t;return kn(this,n),(t=e.apply(this,arguments)).channels={},t}return On(n,[{key:"connect",value:function(){var t=this,e=this.getSocketIO();return this.socket=e(this.options.host,this.options),this.socket.on("reconnect",(function(){Object.values(t.channels).forEach((function(t){t.subscribe()}))})),this.socket}},{key:"getSocketIO",value:function(){if(void 0!==this.options.client)return this.options.client;if("undefined"!=typeof io)return io;throw new Error("Socket.io client not found. Should be globally available or passed via options.client")}},{key:"listen",value:function(t,e,n){return this.channel(t).listen(e,n)}},{key:"channel",value:function(t){return this.channels[t]||(this.channels[t]=new Fn(this.socket,t,this.options)),this.channels[t]}},{key:"privateChannel",value:function(t){return this.channels["private-"+t]||(this.channels["private-"+t]=new Bn(this.socket,"private-"+t,this.options)),this.channels["private-"+t]}},{key:"presenceChannel",value:function(t){return this.channels["presence-"+t]||(this.channels["presence-"+t]=new Hn(this.socket,"presence-"+t,this.options)),this.channels["presence-"+t]}},{key:"leave",value:function(t){var e=this;[t,"private-"+t,"presence-"+t].forEach((function(t){e.leaveChannel(t)}))}},{key:"leaveChannel",value:function(t){this.channels[t]&&(this.channels[t].unsubscribe(),delete this.channels[t])}},{key:"socketId",value:function(){return this.socket.id}},{key:"disconnect",value:function(){this.socket.disconnect()}}]),n}(Un),Kn=function(t){Ln(n,t);var e=Rn(n);function n(){var t;return kn(this,n),(t=e.apply(this,arguments)).channels={},t}return On(n,[{key:"connect",value:function(){}},{key:"listen",value:function(t,e,n){return new qn}},{key:"channel",value:function(t){return new qn}},{key:"privateChannel",value:function(t){return new Wn}},{key:"presenceChannel",value:function(t){return new Vn}},{key:"leave",value:function(t){}},{key:"leaveChannel",value:function(t){}},{key:"socketId",value:function(){return"fake-socket-id"}},{key:"disconnect",value:function(){}}]),n}(Un),Gn=function(){function t(e){kn(this,t),this.options=e,this.connect(),this.options.withoutInterceptors||this.registerInterceptors()}return On(t,[{key:"channel",value:function(t){return this.connector.channel(t)}},{key:"connect",value:function(){"pusher"==this.options.broadcaster?this.connector=new $n(this.options):"socket.io"==this.options.broadcaster?this.connector=new zn(this.options):"null"==this.options.broadcaster?this.connector=new Kn(this.options):"function"==typeof this.options.broadcaster&&(this.connector=new this.options.broadcaster(this.options))}},{key:"disconnect",value:function(){this.connector.disconnect()}},{key:"join",value:function(t){return this.connector.presenceChannel(t)}},{key:"leave",value:function(t){this.connector.leave(t)}},{key:"leaveChannel",value:function(t){this.connector.leaveChannel(t)}},{key:"listen",value:function(t,e,n){return this.connector.listen(t,e,n)}},{key:"private",value:function(t){return this.connector.privateChannel(t)}},{key:"encryptedPrivate",value:function(t){return this.connector.encryptedPrivateChannel(t)}},{key:"socketId",value:function(){return this.connector.socketId()}},{key:"registerInterceptors",value:function(){"function"==typeof Vue&&Vue.http&&this.registerVueRequestInterceptor(),"function"==typeof axios&&this.registerAxiosRequestInterceptor(),"function"==typeof jQuery&&this.registerjQueryAjaxSetup(),"object"===("undefined"==typeof Turbo?"undefined":Sn(Turbo))&&this.registerTurboRequestInterceptor()}},{key:"registerVueRequestInterceptor",value:function(){var t=this;Vue.http.interceptors.push((function(e,n){t.socketId()&&e.headers.set("X-Socket-ID",t.socketId()),n()}))}},{key:"registerAxiosRequestInterceptor",value:function(){var t=this;axios.interceptors.request.use((function(e){return t.socketId()&&(e.headers["X-Socket-Id"]=t.socketId()),e}))}},{key:"registerjQueryAjaxSetup",value:function(){var t=this;void 0!==jQuery.ajax&&jQuery.ajaxPrefilter((function(e,n,r){t.socketId()&&r.setRequestHeader("X-Socket-Id",t.socketId())}))}},{key:"registerTurboRequestInterceptor",value:function(){var t=this;document.addEventListener("turbo:before-fetch-request",(function(e){e.detail.fetchOptions.headers["X-Socket-Id"]=t.socketId()}))}}]),t}(),Xn=n(6606),Yn=n.n(Xn),Jn=n(6184);function Qn(t){return Qn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qn(t)}function Zn(){Zn=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",a=o.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function u(t,e,n,o){var i=e&&e.prototype instanceof f?e:f,s=Object.create(i.prototype),a=new O(o||[]);return r(s,"_invoke",{value:E(t,n,a)}),s}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var h={};function f(){}function d(){}function p(){}var m={};c(m,i,(function(){return this}));var y=Object.getPrototypeOf,v=y&&y(y(x([])));v&&v!==e&&n.call(v,i)&&(m=v);var g=p.prototype=f.prototype=Object.create(m);function b(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(r,i,s,a){var c=l(t[r],t,i);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"==Qn(h)&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){o("next",t,s,a)}),(function(t){o("throw",t,s,a)})):e.resolve(h).then((function(t){u.value=t,s(u)}),(function(t){return o("throw",t,s,a)}))}a(c.arg)}var i;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return i=i?i.then(r,r):r()}})}function E(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return L()}for(n.method=o,n.arg=i;;){var s=n.delegate;if(s){var a=S(s,n);if(a){if(a===h)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(t,e,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===h)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function S(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,S(t,e),"throw"===e.method))return h;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var r=l(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,h;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function T(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function x(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return d.prototype=p,r(g,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:d,configurable:!0}),d.displayName=c(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,a,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},b(w.prototype),c(w.prototype,s,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var s=new w(u(e,n,r,o),i);return t.isGeneratorFunction(n)?s:s.next().then((function(t){return t.done?t.value:s.next()}))},b(g),c(g,a,"Generator"),c(g,i,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=x,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(T),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return s.type="throw",s.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],s=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var a=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(a&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var s=i?i.completion:{};return s.type=t,s.arg=e,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),T(n),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;T(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:x(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},t}function tr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function er(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function nr(t,e){if(e&&("object"===Qn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function rr(t){var e="function"==typeof Map?new Map:void 0;return rr=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return or(t,arguments,ar(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),sr(r,t)},rr(t)}function or(t,e,n){return or=ir()?Reflect.construct.bind():function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&sr(o,n.prototype),o},or.apply(null,arguments)}function ir(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function sr(t,e){return sr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},sr(t,e)}function ar(t){return ar=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ar(t)}var cr=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function s(t){try{c(r.next(t))}catch(t){i(t)}}function a(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))},ur=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sr(t,e)}(a,t);var e,n,r,o,i,s=(e=a,n=ir(),function(){var t,r=ar(e);if(n){var o=ar(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return nr(this,t)});function a(){return tr(this,a),s.apply(this,arguments)}return r=a,o=[{key:"connectedCallback",value:function(){return cr(this,void 0,void 0,Zn().mark((function t(){var e=this;return Zn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(0,Jn.connectStreamSource)(this),this.subscription=(n=this.type,r=this.channel,"presence"===n?window.Echo.join(r):window.Echo[n](r)).listenToAll((function(t,n){e.dispatchMessageEvent(n.streams)}));case 2:case"end":return t.stop()}var n,r}),t,this)})))}},{key:"disconnectedCallback",value:function(){(0,Jn.disconnectStreamSource)(this),this.subscription&&(window.Echo.leave(this.channel),this.subscription=null)}},{key:"dispatchMessageEvent",value:function(t){var e=new MessageEvent("message",{data:t});return this.dispatchEvent(e)}},{key:"channel",get:function(){return this.getAttribute("channel")||""}},{key:"type",get:function(){return this.getAttribute("type")||"private"}}],o&&er(r.prototype,o),i&&er(r,i),Object.defineProperty(r,"prototype",{writable:!1}),a}(rr(HTMLElement));window.Pusher=Yn(),window.Echo=new Gn(Object.assign({namespace:"Waterhole.Events"},window.Waterhole.echoConfig)),window.Echo.registerTurboRequestInterceptor(),customElements.define("turbo-echo-stream-source",ur);class lr{constructor(t){this.children=[],this.parent=t}delete(t){const e=this.children.indexOf(t);return-1!==e&&(this.children=this.children.slice(0,e).concat(this.children.slice(e+1)),0===this.children.length&&this.parent.delete(this),!0)}add(t){return this.children.push(t),this}}class hr{constructor(t){this.parent=null,this.children={},this.parent=t||null}get(t){return this.children[t]}insert(t){let e=this;for(let n=0;n<t.length;n+=1){const r=t[n];let o=e.get(r);if(n===t.length-1)return o instanceof hr&&(e.delete(o),o=null),o||(o=new lr(e),e.children[r]=o),o;o instanceof lr&&(o=null),o||(o=new hr(e),e.children[r]=o),e=o}return e}delete(t){for(const e in this.children){if(this.children[e]===t){const t=delete this.children[e];return 0===Object.keys(this.children).length&&this.parent&&this.parent.delete(this),t}}return!1}}function fr(t){if(!(t instanceof HTMLElement))return!1;const e=t.nodeName.toLowerCase(),n=(t.getAttribute("type")||"").toLowerCase();return"select"===e||"textarea"===e||"input"===e&&"submit"!==n&&"reset"!==n&&"checkbox"!==n&&"radio"!==n&&"file"!==n||t.isContentEditable}function dr(t){const{ctrlKey:e,altKey:n,metaKey:r,key:o}=t,i=[],s=[e,n,r,mr(t)];for(const[t,e]of s.entries())e&&i.push(pr[t]);return pr.includes(o)||i.push(o),i.join("+")}const pr=["Control","Alt","Meta","Shift"];function mr(t){const{shiftKey:e,code:n,key:r}=t;return e&&!(n.startsWith("Key")&&r.toUpperCase()===r)}const yr=new hr,vr=new WeakMap;let gr=yr,br=null,wr=[];function Er(){wr=[],br=null,gr=yr}function Sr(t){if(t.defaultPrevented)return;if(!(t.target instanceof Node))return;if(fr(t.target)){const e=t.target;if(!e.id)return;if(!e.ownerDocument.querySelector(`[data-hotkey-scope="${e.id}"]`))return}null!=br&&window.clearTimeout(br),br=window.setTimeout(Er,1500);const e=gr.get(dr(t));if(e){if(wr.push(dr(t)),gr=e,e instanceof lr){const n=t.target;let r,o=!1;const i=fr(n);for(let t=e.children.length-1;t>=0;t-=1){r=e.children[t];const s=r.getAttribute("data-hotkey-scope");if(!i&&!s||i&&n.id===s){o=!0;break}}r&&o&&(!function(t,e){const n=new CustomEvent("hotkey-fire",{cancelable:!0,detail:{path:e}});!t.dispatchEvent(n)||(fr(t)?t.focus():t.click())}(r,wr),t.preventDefault()),Er()}}else Er()}function kr(t){t.target.querySelectorAll("[data-hotkey]").forEach((function(t){!function(t,e){0===Object.keys(yr.children).length&&document.addEventListener("keydown",Sr);const n=function(t){const e=[];let n=[""],r=!1;for(let o=0;o<t.length;o++)r&&","===t[o]?(e.push(n),n=[""],r=!1):" "!==t[o]?(r="+"!==t[o],n[n.length-1]+=t[o]):(n.push(""),r=!1);return e.push(n),e.map((t=>t.filter((t=>""!==t)))).filter((t=>t.length>0))}(e||t.getAttribute("data-hotkey")||""),r=n.map((e=>yr.insert(e).add(t)));vr.set(t,r)}(t)}))}document.addEventListener("DOMContentLoaded",kr),document.addEventListener("turbo:render",kr),document.addEventListener("turbo:frame-render",kr);var Tr=n(3578),Or=n(4117);function xr(t){return xr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xr(t)}function Lr(){Lr=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",a=o.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function u(t,e,n,o){var i=e&&e.prototype instanceof f?e:f,s=Object.create(i.prototype),a=new O(o||[]);return r(s,"_invoke",{value:E(t,n,a)}),s}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var h={};function f(){}function d(){}function p(){}var m={};c(m,i,(function(){return this}));var y=Object.getPrototypeOf,v=y&&y(y(x([])));v&&v!==e&&n.call(v,i)&&(m=v);var g=p.prototype=f.prototype=Object.create(m);function b(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(r,i,s,a){var c=l(t[r],t,i);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"==xr(h)&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){o("next",t,s,a)}),(function(t){o("throw",t,s,a)})):e.resolve(h).then((function(t){u.value=t,s(u)}),(function(t){return o("throw",t,s,a)}))}a(c.arg)}var i;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return i=i?i.then(r,r):r()}})}function E(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return L()}for(n.method=o,n.arg=i;;){var s=n.delegate;if(s){var a=S(s,n);if(a){if(a===h)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(t,e,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===h)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function S(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,S(t,e),"throw"===e.method))return h;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var r=l(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,h;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function T(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function x(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return d.prototype=p,r(g,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:d,configurable:!0}),d.displayName=c(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,a,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},b(w.prototype),c(w.prototype,s,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var s=new w(u(e,n,r,o),i);return t.isGeneratorFunction(n)?s:s.next().then((function(t){return t.done?t.value:s.next()}))},b(g),c(g,a,"Generator"),c(g,i,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=x,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(T),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return s.type="throw",s.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],s=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var a=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(a&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var s=i?i.completion:{};return s.type=t,s.arg=e,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),T(n),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;T(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:x(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},t}var Ar,Cr=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function s(t){try{c(r.next(t))}catch(t){i(t)}}function a(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))};Jn.start(),window.Turbo=Jn,document.addEventListener("turbo:before-stream-render",(function(t){var e=t.target;"replace"===e.action&&(t.preventDefault(),e.targetElements.forEach((function(t){(0,Tr.morph)(t,e.templateContent.firstElementChild)})))})),document.addEventListener("turbo:before-fetch-response",(function(t){return Cr(void 0,void 0,void 0,Lr().mark((function e(){var n,r,o,i;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((r=t.detail.fetchResponse.response).ok||422===r.status||Waterhole.debug&&r.status>=500)){e.next=3;break}return e.abrupt("return");case 3:t.preventDefault(),(o=t.target)instanceof Jn.FrameElement?(i=(0,Or.Pi)("frame-error"),null===(n=i.querySelector("button"))||void 0===n||n.addEventListener("click",(function(){o.reload(),o.replaceChildren((0,Or.Pi)("loading"))})),o.replaceChildren(i)):Waterhole.fetchError(r);case 6:case"end":return e.stop()}}),e)})))})),Waterhole.fetchError=function(t){return Cr(this,void 0,void 0,Lr().mark((function e(){var n,r,o;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=null==t?void 0:t.status,e.next=401===e.t0||403===e.t0?3:422===e.t0?5:429===e.t0?11:13;break;case 3:return n="forbidden-alert",e.abrupt("break",14);case 5:return r=(0,Or.Pi)("template-alert-danger"),e.next=8,t.json();case 8:return r.querySelector(".alert__message").textContent=e.sent.message,this.alerts.show(r,{key:"fetchError",duration:-1}),e.abrupt("break",14);case 11:return n="too-many-requests-alert",e.abrupt("break",14);case 13:n="fatal-error-alert";case 14:n&&(o=(0,Or.Pi)(n))&&this.alerts.show(o,{key:"fetchError",duration:-1});case 15:case"end":return e.stop()}}),e,this)})))},Object.defineProperty(Waterhole,"alerts",{get:function(){return document.getElementById("alerts")}}),window.Stimulus=L.Mx.start(),window.Stimulus.load((Ar=n(5153)).keys().map((t=>function(t,e){const n=function(t){const e=(t.match(/^(?:\.\/)?(.+)(?:[_-]controller\..+?)$/)||[])[1];if(e)return e.replace(/_/g,"-").replace(/\//g,"--")}(e);if(n)return function(t,e){const n=t.default;if("function"==typeof n)return{identifier:e,controllerConstructor:n}}(t(e),n)}(Ar,t))).filter((t=>t))),Waterhole.fetch=Y.create({headers:{"X-XSRF-TOKEN":(0,Or.ej)("XSRF-TOKEN")||void 0},hooks:{beforeError:[function(t){return Waterhole.fetchError(t.response),t}]}})},4117:(t,e,n)=>{"use strict";function r(t){return t.altKey||t.ctrlKey||t.metaKey||t.shiftKey||void 0!==t.button&&0!==t.button}function o(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=t.getBoundingClientRect();return-n.top/n.height<e&&(n.bottom-window.innerHeight)/n.height<e}function i(){var t;return(null===(t=document.getElementById("header"))||void 0===t?void 0:t.offsetHeight)||0}function s(t){var e,n,r=document.getElementById(t);return null===(n=null===(e=null==r?void 0:r.content)||void 0===e?void 0:e.firstElementChild)||void 0===n?void 0:n.cloneNode(!0)}function a(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null}n.d(e,{CF:()=>i,PZ:()=>o,Pi:()=>s,ej:()=>a,or:()=>r})},6485:t=>{function e(){return new DOMException("The request is not allowed","NotAllowedError")}t.exports=async function(t){try{await async function(t){if(!navigator.clipboard)throw e();return navigator.clipboard.writeText(t)}(t)}catch(n){try{await async function(t){const n=document.createElement("span");n.textContent=t,n.style.whiteSpace="pre",n.style.webkitUserSelect="auto",n.style.userSelect="all",document.body.appendChild(n);const r=window.getSelection(),o=window.document.createRange();r.removeAllRanges(),o.selectNode(n),r.addRange(o);let i=!1;try{i=window.document.execCommand("copy")}finally{r.removeAllRanges(),window.document.body.removeChild(n)}if(!i)throw e()}(t)}catch(t){throw t||n||e()}}}},3150:t=>{"use strict";var e=/[|\\{}()[\]^$+*?.]/g;t.exports=function(t){if("string"!=typeof t)throw new TypeError("Expected a string");return t.replace(e,"\\$&")}},3578:function(t,e){var n,r,o;"undefined"!=typeof self&&self,r=[],void 0===(o="function"==typeof(n=function(){return function(){"use strict";let t=new Set;function e(t,e,o={}){"string"==typeof e&&(e=d(e));let i=p(e),s=a(t,i,o);if("innerHTML"===o.morphStyle)return r(i,t,s),t.children;if("outerHTML"===o.morphStyle||null==o.morphStyle){let e=y(i,t,s),r=e?.previousSibling,o=e?.nextSibling,a=n(t,e,s);return e?m(r,a,o):[]}throw"Do not understand how to morph style "+o.morphStyle}function n(t,e,n){return null==e?(n.callbacks.beforeNodeRemoved(t),t.remove(),n.callbacks.afterNodeRemoved(t),null):u(t,e)?(n.callbacks.beforeNodeMorphed(t,e),o(e,t),r(e,t,n),n.callbacks.afterNodeMorphed(t,e),t):(n.callbacks.beforeNodeRemoved(t),n.callbacks.beforeNodeAdded(e),t.parentElement.replaceChild(e,t),n.callbacks.afterNodeAdded(e),n.callbacks.afterNodeRemoved(t),e)}function r(t,e,r){let o=t.firstChild,i=e.firstChild;for(;o;){let s=o;if(o=s.nextSibling,null==i)r.callbacks.beforeNodeAdded(s),e.appendChild(s),r.callbacks.afterNodeAdded(s);else if(c(s,i,r))n(i,s,r),i=i.nextSibling;else{let o=h(t,e,s,i,r);if(o)i=l(i,o,r),n(o,s,r);else{let o=f(t,e,s,i,r);o?(i=l(i,o,r),n(o,s,r)):(r.callbacks.beforeNodeAdded(s),e.insertBefore(s,i),r.callbacks.afterNodeAdded(s))}}E(r,s)}for(;null!==i;){let t=i;i=i.nextSibling,g(t,r)}}function o(t,e){let n=t.nodeType;if(1===n){const n=t.attributes,r=e.attributes;for(const t of n)e.getAttribute(t.name)!==t.value&&e.setAttribute(t.name,t.value);for(const n of r)t.hasAttribute(n.name)||e.removeAttribute(n.name)}if(8!==n&&3!==n||e.nodeValue!==t.nodeValue&&(e.nodeValue=t.nodeValue),t instanceof HTMLInputElement&&e instanceof HTMLInputElement&&"file"!==t.type){let n=t.value,r=e.value;i(t,e,"checked"),i(t,e,"disabled"),t.hasAttribute("value")?n!==r&&(e.setAttribute("value",n),e.value=n):(e.value="",e.removeAttribute("value"))}else if(t instanceof HTMLOptionElement)i(t,e,"selected");else if(t instanceof HTMLTextAreaElement&&e instanceof HTMLTextAreaElement){let n=t.value;n!==e.value&&(e.value=n),e.firstChild&&e.firstChild.nodeValue!==n&&(e.firstChild.nodeValue=n)}}function i(t,e,n){t[n]!==e[n]&&(e[n]=t[n],t[n]?e.setAttribute(n,""):e.removeAttribute(n))}function s(){}function a(t,e,n){return{idMap:T(t,e),deadIds:new Set,callbacks:Object.assign({beforeNodeAdded:s,afterNodeAdded:s,beforeNodeMorphed:s,afterNodeMorphed:s,beforeNodeRemoved:s,afterNodeRemoved:s},n.callbacks)}}function c(t,e,n){return null!=t&&null!=e&&t.nodeType===e.nodeType&&t.tagName===e.tagName&&(""!==t.id&&t.id===e.id||S(n,t,e)>0)}function u(t,e){return null!=t&&null!=e&&t.nodeType===e.nodeType&&t.tagName===e.tagName}function l(t,e,n){for(;t!==e;){let e=t;t=t.nextSibling,g(e,n)}return E(n,e),e.nextSibling}function h(t,e,n,r,o){let i=S(o,n,e),s=null;if(i>0){let e=r,s=0;for(;null!=e;){if(c(n,e,o))return e;if(s+=S(o,e,t),s>i)return null;e=e.nextSibling}}return s}function f(t,e,n,r,o){let i=r,s=n.nextSibling,a=0;for(;null!=i;){if(S(o,i,t)>0)return null;if(u(n,i))return i;if(u(s,i)&&(a++,s=s.nextSibling,a>=2))return null;i=i.nextSibling}return i}function d(t){let e=(new DOMParser).parseFromString("<body><template>"+t+"</template></body>","text/html").body.querySelector("template").content;return e.generatedByIdiomorph=!0,e}function p(t){if(null==t)return document.createElement("div");if(t.generatedByIdiomorph)return t;if(t instanceof Node){const e=document.createElement("div");return e.append(t),e}{const e=document.createElement("div");for(const n of[...t])e.append(n);return e}}function m(t,e,n){let r=[],o=[];for(;null!=t;)r.push(t),t=t.previousSibling;for(;r.length>0;){let t=r.pop();o.push(t),e.parentElement.insertBefore(t,e)}for(o.push(e);null!=n;)r.push(n),o.push(n),n=n.nextSibling;for(;r.length>0;)e.parentElement.insertBefore(r.pop(),e.nextSibling);return o}function y(t,e,n){let r=null;r=t.firstChild;let o=r,i=0;for(;r;){let t=v(r,e,n);t>i&&(o=r,i=t),r=r.nextSibling}return o}function v(t,e,n){return u(t,e)?.5+S(n,t,e):0}function g(t,e){E(e,t),e.callbacks.beforeNodeRemoved(t),t.remove(),e.callbacks.afterNodeRemoved(t)}function b(t,e){return!t.deadIds.has(e)}function w(e,n,r){return(e.idMap.get(r)||t).has(n)}function E(e,n){let r=e.idMap.get(n)||t;for(const t of r)e.deadIds.add(t)}function S(e,n,r){let o=e.idMap.get(n)||t,i=0;for(const t of o)b(e,t)&&w(e,t,r)&&++i;return i}function k(t,e){let n=t.parentElement,r=t.querySelectorAll("[id]");for(const t of r){let r=t;for(;r!==n&&null!=r;){let n=e.get(r);null==n&&(n=new Set,e.set(r,n)),n.add(t.id),r=r.parentElement}}}function T(t,e){let n=new Map;return k(t,n),k(e,n),n}return{morph:e}}()})?n.apply(e,r):n)||(t.exports=o)},4934:()=>{},6143:()=>{},6606:t=>{var e;window,e=function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=2)}([function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},r(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=256,s=function(){function t(t){void 0===t&&(t="="),this._paddingCharacter=t}return t.prototype.encodedLength=function(t){return this._paddingCharacter?(t+2)/3*4|0:(8*t+5)/6|0},t.prototype.encode=function(t){for(var e="",n=0;n<t.length-2;n+=3){var r=t[n]<<16|t[n+1]<<8|t[n+2];e+=this._encodeByte(r>>>18&63),e+=this._encodeByte(r>>>12&63),e+=this._encodeByte(r>>>6&63),e+=this._encodeByte(r>>>0&63)}var o=t.length-n;return o>0&&(r=t[n]<<16|(2===o?t[n+1]<<8:0),e+=this._encodeByte(r>>>18&63),e+=this._encodeByte(r>>>12&63),e+=2===o?this._encodeByte(r>>>6&63):this._paddingCharacter||"",e+=this._paddingCharacter||""),e},t.prototype.maxDecodedLength=function(t){return this._paddingCharacter?t/4*3|0:(6*t+7)/8|0},t.prototype.decodedLength=function(t){return this.maxDecodedLength(t.length-this._getPaddingLength(t))},t.prototype.decode=function(t){if(0===t.length)return new Uint8Array(0);for(var e=this._getPaddingLength(t),n=t.length-e,r=new Uint8Array(this.maxDecodedLength(n)),o=0,s=0,a=0,c=0,u=0,l=0,h=0;s<n-4;s+=4)c=this._decodeChar(t.charCodeAt(s+0)),u=this._decodeChar(t.charCodeAt(s+1)),l=this._decodeChar(t.charCodeAt(s+2)),h=this._decodeChar(t.charCodeAt(s+3)),r[o++]=c<<2|u>>>4,r[o++]=u<<4|l>>>2,r[o++]=l<<6|h,a|=c&i,a|=u&i,a|=l&i,a|=h&i;if(s<n-1&&(c=this._decodeChar(t.charCodeAt(s)),u=this._decodeChar(t.charCodeAt(s+1)),r[o++]=c<<2|u>>>4,a|=c&i,a|=u&i),s<n-2&&(l=this._decodeChar(t.charCodeAt(s+2)),r[o++]=u<<4|l>>>2,a|=l&i),s<n-3&&(h=this._decodeChar(t.charCodeAt(s+3)),r[o++]=l<<6|h,a|=h&i),0!==a)throw new Error("Base64Coder: incorrect characters for decoding");return r},t.prototype._encodeByte=function(t){var e=t;return e+=65,e+=25-t>>>8&6,e+=51-t>>>8&-75,e+=61-t>>>8&-15,e+=62-t>>>8&3,String.fromCharCode(e)},t.prototype._decodeChar=function(t){var e=i;return e+=(42-t&t-44)>>>8&-256+t-43+62,e+=(46-t&t-48)>>>8&-256+t-47+63,e+=(47-t&t-58)>>>8&-256+t-48+52,e+=(64-t&t-91)>>>8&-256+t-65+0,e+=(96-t&t-123)>>>8&-256+t-97+26},t.prototype._getPaddingLength=function(t){var e=0;if(this._paddingCharacter){for(var n=t.length-1;n>=0&&t[n]===this._paddingCharacter;n--)e++;if(t.length<4||e>2)throw new Error("Base64Coder: incorrect padding")}return e},t}();e.Coder=s;var a=new s;e.encode=function(t){return a.encode(t)},e.decode=function(t){return a.decode(t)};var c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype._encodeByte=function(t){var e=t;return e+=65,e+=25-t>>>8&6,e+=51-t>>>8&-75,e+=61-t>>>8&-13,e+=62-t>>>8&49,String.fromCharCode(e)},e.prototype._decodeChar=function(t){var e=i;return e+=(44-t&t-46)>>>8&-256+t-45+62,e+=(94-t&t-96)>>>8&-256+t-95+63,e+=(47-t&t-58)>>>8&-256+t-48+52,e+=(64-t&t-91)>>>8&-256+t-65+0,e+=(96-t&t-123)>>>8&-256+t-97+26},e}(s);e.URLSafeCoder=c;var u=new c;e.encodeURLSafe=function(t){return u.encode(t)},e.decodeURLSafe=function(t){return u.decode(t)},e.encodedLength=function(t){return a.encodedLength(t)},e.maxDecodedLength=function(t){return a.maxDecodedLength(t)},e.decodedLength=function(t){return a.decodedLength(t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r="utf8: invalid string",o="utf8: invalid source encoding";function i(t){for(var e=0,n=0;n<t.length;n++){var o=t.charCodeAt(n);if(o<128)e+=1;else if(o<2048)e+=2;else if(o<55296)e+=3;else{if(!(o<=57343))throw new Error(r);if(n>=t.length-1)throw new Error(r);n++,e+=4}}return e}e.encode=function(t){for(var e=new Uint8Array(i(t)),n=0,r=0;r<t.length;r++){var o=t.charCodeAt(r);o<128?e[n++]=o:o<2048?(e[n++]=192|o>>6,e[n++]=128|63&o):o<55296?(e[n++]=224|o>>12,e[n++]=128|o>>6&63,e[n++]=128|63&o):(r++,o=(1023&o)<<10,o|=1023&t.charCodeAt(r),o+=65536,e[n++]=240|o>>18,e[n++]=128|o>>12&63,e[n++]=128|o>>6&63,e[n++]=128|63&o)}return e},e.encodedLength=i,e.decode=function(t){for(var e=[],n=0;n<t.length;n++){var r=t[n];if(128&r){var i=void 0;if(r<224){if(n>=t.length)throw new Error(o);if(128!=(192&(s=t[++n])))throw new Error(o);r=(31&r)<<6|63&s,i=128}else if(r<240){if(n>=t.length-1)throw new Error(o);var s=t[++n],a=t[++n];if(128!=(192&s)||128!=(192&a))throw new Error(o);r=(15&r)<<12|(63&s)<<6|63&a,i=2048}else{if(!(r<248))throw new Error(o);if(n>=t.length-2)throw new Error(o);s=t[++n],a=t[++n];var c=t[++n];if(128!=(192&s)||128!=(192&a)||128!=(192&c))throw new Error(o);r=(15&r)<<18|(63&s)<<12|(63&a)<<6|63&c,i=65536}if(r<i||r>=55296&&r<=57343)throw new Error(o);if(r>=65536){if(r>1114111)throw new Error(o);r-=65536,e.push(String.fromCharCode(55296|r>>10)),r=56320|1023&r}}e.push(String.fromCharCode(r))}return e.join("")}},function(t,e,n){t.exports=n(3).default},function(t,e,n){"use strict";n.r(e);var r,o=function(){function t(t,e){this.lastId=0,this.prefix=t,this.name=e}return t.prototype.create=function(t){this.lastId++;var e=this.lastId,n=this.prefix+e,r=this.name+"["+e+"]",o=!1,i=function(){o||(t.apply(null,arguments),o=!0)};return this[e]=i,{number:e,id:n,name:r,callback:i}},t.prototype.remove=function(t){delete this[t.number]},t}(),i=new o("_pusher_script_","Pusher.ScriptReceivers"),s={VERSION:"7.4.0",PROTOCOL:7,wsPort:80,wssPort:443,wsPath:"",httpHost:"sockjs.pusher.com",httpPort:80,httpsPort:443,httpPath:"/pusher",stats_host:"stats.pusher.com",authEndpoint:"/pusher/auth",authTransport:"ajax",activityTimeout:12e4,pongTimeout:3e4,unavailableTimeout:1e4,cluster:"mt1",userAuthentication:{endpoint:"/pusher/user-auth",transport:"ajax"},channelAuthorization:{endpoint:"/pusher/auth",transport:"ajax"},cdn_http:"http://js.pusher.com",cdn_https:"https://js.pusher.com",dependency_suffix:""},a=function(){function t(t){this.options=t,this.receivers=t.receivers||i,this.loading={}}return t.prototype.load=function(t,e,n){var r=this;if(r.loading[t]&&r.loading[t].length>0)r.loading[t].push(n);else{r.loading[t]=[n];var o=Pe.createScriptRequest(r.getPath(t,e)),i=r.receivers.create((function(e){if(r.receivers.remove(i),r.loading[t]){var n=r.loading[t];delete r.loading[t];for(var s=function(t){t||o.cleanup()},a=0;a<n.length;a++)n[a](e,s)}}));o.send(i)}},t.prototype.getRoot=function(t){var e=Pe.getDocument().location.protocol;return(t&&t.useTLS||"https:"===e?this.options.cdn_https:this.options.cdn_http).replace(/\/*$/,"")+"/"+this.options.version},t.prototype.getPath=function(t,e){return this.getRoot(e)+"/"+t+this.options.suffix+".js"},t}(),c=new o("_pusher_dependencies","Pusher.DependenciesReceivers"),u=new a({cdn_http:s.cdn_http,cdn_https:s.cdn_https,version:s.VERSION,suffix:s.dependency_suffix,receivers:c}),l={baseUrl:"https://pusher.com",urls:{authenticationEndpoint:{path:"/docs/channels/server_api/authenticating_users"},authorizationEndpoint:{path:"/docs/channels/server_api/authorizing-users/"},javascriptQuickStart:{path:"/docs/javascript_quick_start"},triggeringClientEvents:{path:"/docs/client_api_guide/client_events#trigger-events"},encryptedChannelSupport:{fullUrl:"https://github.com/pusher/pusher-js/tree/cc491015371a4bde5743d1c87a0fbac0feb53195#encrypted-channel-support"}}},h=function(t){var e,n=l.urls[t];return n?(n.fullUrl?e=n.fullUrl:n.path&&(e=l.baseUrl+n.path),e?"See: "+e:""):""};!function(t){t.UserAuthentication="user-authentication",t.ChannelAuthorization="channel-authorization"}(r||(r={}));for(var f,d=(f=function(t,e){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},f(t,e)},function(t,e){function n(){this.constructor=t}f(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),p=function(t){function e(e){var n=this.constructor,r=t.call(this,e)||this;return Object.setPrototypeOf(r,n.prototype),r}return d(e,t),e}(Error),m=function(t){function e(e){var n=this.constructor,r=t.call(this,e)||this;return Object.setPrototypeOf(r,n.prototype),r}return d(e,t),e}(Error),y=function(t){function e(e){var n=this.constructor,r=t.call(this,e)||this;return Object.setPrototypeOf(r,n.prototype),r}return d(e,t),e}(Error),v=function(t){function e(e){var n=this.constructor,r=t.call(this,e)||this;return Object.setPrototypeOf(r,n.prototype),r}return d(e,t),e}(Error),g=function(t){function e(e){var n=this.constructor,r=t.call(this,e)||this;return Object.setPrototypeOf(r,n.prototype),r}return d(e,t),e}(Error),b=function(t){function e(e){var n=this.constructor,r=t.call(this,e)||this;return Object.setPrototypeOf(r,n.prototype),r}return d(e,t),e}(Error),w=function(t){function e(e){var n=this.constructor,r=t.call(this,e)||this;return Object.setPrototypeOf(r,n.prototype),r}return d(e,t),e}(Error),E=function(t){function e(e){var n=this.constructor,r=t.call(this,e)||this;return Object.setPrototypeOf(r,n.prototype),r}return d(e,t),e}(Error),S=function(t){function e(e,n){var r=this.constructor,o=t.call(this,n)||this;return o.status=e,Object.setPrototypeOf(o,r.prototype),o}return d(e,t),e}(Error),k=function(t,e,n,o,i){var s=Pe.createXHR();for(var a in s.open("POST",n.endpoint,!0),s.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),n.headers)s.setRequestHeader(a,n.headers[a]);return s.onreadystatechange=function(){if(4===s.readyState)if(200===s.status){var t=void 0,e=!1;try{t=JSON.parse(s.responseText),e=!0}catch(t){i(new S(200,"JSON returned from "+o.toString()+" endpoint was invalid, yet status code was 200. Data was: "+s.responseText),null)}e&&i(null,t)}else{var a="";switch(o){case r.UserAuthentication:a=h("authenticationEndpoint");break;case r.ChannelAuthorization:a="Clients must be authenticated to join private or presence channels. "+h("authorizationEndpoint")}i(new S(s.status,"Unable to retrieve auth string from "+o.toString()+" endpoint - received status: "+s.status+" from "+n.endpoint+". "+a),null)}},s.send(e),s},T=String.fromCharCode,O="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",x={},L=0,A=O.length;L<A;L++)x[O.charAt(L)]=L;var C=function(t){var e=t.charCodeAt(0);return e<128?t:e<2048?T(192|e>>>6)+T(128|63&e):T(224|e>>>12&15)+T(128|e>>>6&63)+T(128|63&e)},P=function(t){return t.replace(/[^\x00-\x7F]/g,C)},R=function(t){var e=[0,2,1][t.length%3],n=t.charCodeAt(0)<<16|(t.length>1?t.charCodeAt(1):0)<<8|(t.length>2?t.charCodeAt(2):0);return[O.charAt(n>>>18),O.charAt(n>>>12&63),e>=2?"=":O.charAt(n>>>6&63),e>=1?"=":O.charAt(63&n)].join("")},_=window.btoa||function(t){return t.replace(/[\s\S]{1,3}/g,R)},j=function(){function t(t,e,n,r){var o=this;this.clear=e,this.timer=t((function(){o.timer&&(o.timer=r(o.timer))}),n)}return t.prototype.isRunning=function(){return null!==this.timer},t.prototype.ensureAborted=function(){this.timer&&(this.clear(this.timer),this.timer=null)},t}(),M=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function N(t){window.clearTimeout(t)}function I(t){window.clearInterval(t)}var D=function(t){function e(e,n){return t.call(this,setTimeout,N,e,(function(t){return n(),null}))||this}return M(e,t),e}(j),F=function(t){function e(e,n){return t.call(this,setInterval,I,e,(function(t){return n(),t}))||this}return M(e,t),e}(j),B={now:function(){return Date.now?Date.now():(new Date).valueOf()},defer:function(t){return new D(0,t)},method:function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=Array.prototype.slice.call(arguments,1);return function(e){return e[t].apply(e,r.concat(arguments))}}},H=B;function q(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0;r<e.length;r++){var o=e[r];for(var i in o)o[i]&&o[i].constructor&&o[i].constructor===Object?t[i]=q(t[i]||{},o[i]):t[i]=o[i]}return t}function W(){for(var t=["Pusher"],e=0;e<arguments.length;e++)"string"==typeof arguments[e]?t.push(arguments[e]):t.push(Z(arguments[e]));return t.join(" : ")}function V(t,e){var n=Array.prototype.indexOf;if(null===t)return-1;if(n&&t.indexOf===n)return t.indexOf(e);for(var r=0,o=t.length;r<o;r++)if(t[r]===e)return r;return-1}function U(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(t[n],n,t)}function $(t){var e=[];return U(t,(function(t,n){e.push(n)})),e}function z(t,e,n){for(var r=0;r<t.length;r++)e.call(n||window,t[r],r,t)}function K(t,e){for(var n=[],r=0;r<t.length;r++)n.push(e(t[r],r,t,n));return n}function G(t,e){e=e||function(t){return!!t};for(var n=[],r=0;r<t.length;r++)e(t[r],r,t,n)&&n.push(t[r]);return n}function X(t,e){var n={};return U(t,(function(r,o){(e&&e(r,o,t,n)||Boolean(r))&&(n[o]=r)})),n}function Y(t,e){for(var n=0;n<t.length;n++)if(e(t[n],n,t))return!0;return!1}function J(t){return e=function(t){return"object"==typeof t&&(t=Z(t)),encodeURIComponent((e=t.toString(),_(P(e))));var e},n={},U(t,(function(t,r){n[r]=e(t)})),n;var e,n}function Q(t){var e,n,r=X(t,(function(t){return void 0!==t}));return K((e=J(r),n=[],U(e,(function(t,e){n.push([e,t])})),n),H.method("join","=")).join("&")}function Z(t){try{return JSON.stringify(t)}catch(r){return JSON.stringify((e=[],n=[],function t(r,o){var i,s,a;switch(typeof r){case"object":if(!r)return null;for(i=0;i<e.length;i+=1)if(e[i]===r)return{$ref:n[i]};if(e.push(r),n.push(o),"[object Array]"===Object.prototype.toString.apply(r))for(a=[],i=0;i<r.length;i+=1)a[i]=t(r[i],o+"["+i+"]");else for(s in a={},r)Object.prototype.hasOwnProperty.call(r,s)&&(a[s]=t(r[s],o+"["+JSON.stringify(s)+"]"));return a;case"number":case"string":case"boolean":return r}}(t,"$")))}var e,n}var tt=function(){function t(){this.globalLog=function(t){window.console&&window.console.log&&window.console.log(t)}}return t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.log(this.globalLog,t)},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.log(this.globalLogWarn,t)},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.log(this.globalLogError,t)},t.prototype.globalLogWarn=function(t){window.console&&window.console.warn?window.console.warn(t):this.globalLog(t)},t.prototype.globalLogError=function(t){window.console&&window.console.error?window.console.error(t):this.globalLogWarn(t)},t.prototype.log=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=W.apply(this,arguments);if(Qe.log)Qe.log(r);else if(Qe.logToConsole){var o=t.bind(this);o(r)}},t}(),et=new tt,nt=function(t,e,n,r,o){void 0!==n.headers&&et.warn("To send headers with the "+r.toString()+" request, you must use AJAX, rather than JSONP.");var i=t.nextAuthCallbackID.toString();t.nextAuthCallbackID++;var s=t.getDocument(),a=s.createElement("script");t.auth_callbacks[i]=function(t){o(null,t)};var c="Pusher.auth_callbacks['"+i+"']";a.src=n.endpoint+"?callback="+encodeURIComponent(c)+"&"+e;var u=s.getElementsByTagName("head")[0]||s.documentElement;u.insertBefore(a,u.firstChild)},rt=function(){function t(t){this.src=t}return t.prototype.send=function(t){var e=this,n="Error loading "+e.src;e.script=document.createElement("script"),e.script.id=t.id,e.script.src=e.src,e.script.type="text/javascript",e.script.charset="UTF-8",e.script.addEventListener?(e.script.onerror=function(){t.callback(n)},e.script.onload=function(){t.callback(null)}):e.script.onreadystatechange=function(){"loaded"!==e.script.readyState&&"complete"!==e.script.readyState||t.callback(null)},void 0===e.script.async&&document.attachEvent&&/opera/i.test(navigator.userAgent)?(e.errorScript=document.createElement("script"),e.errorScript.id=t.id+"_error",e.errorScript.text=t.name+"('"+n+"');",e.script.async=e.errorScript.async=!1):e.script.async=!0;var r=document.getElementsByTagName("head")[0];r.insertBefore(e.script,r.firstChild),e.errorScript&&r.insertBefore(e.errorScript,e.script.nextSibling)},t.prototype.cleanup=function(){this.script&&(this.script.onload=this.script.onerror=null,this.script.onreadystatechange=null),this.script&&this.script.parentNode&&this.script.parentNode.removeChild(this.script),this.errorScript&&this.errorScript.parentNode&&this.errorScript.parentNode.removeChild(this.errorScript),this.script=null,this.errorScript=null},t}(),ot=function(){function t(t,e){this.url=t,this.data=e}return t.prototype.send=function(t){if(!this.request){var e=Q(this.data),n=this.url+"/"+t.number+"?"+e;this.request=Pe.createScriptRequest(n),this.request.send(t)}},t.prototype.cleanup=function(){this.request&&this.request.cleanup()},t}(),it={name:"jsonp",getAgent:function(t,e){return function(n,r){var o="http"+(e?"s":"")+"://"+(t.host||t.options.host)+t.options.path,s=Pe.createJSONPRequest(o,n),a=Pe.ScriptReceivers.create((function(e,n){i.remove(a),s.cleanup(),n&&n.host&&(t.host=n.host),r&&r(e,n)}));s.send(a)}}};function st(t,e,n){return t+(e.useTLS?"s":"")+"://"+(e.useTLS?e.hostTLS:e.hostNonTLS)+n}function at(t,e){return"/app/"+t+"?protocol="+s.PROTOCOL+"&client=js&version="+s.VERSION+(e?"&"+e:"")}var ct={getInitial:function(t,e){return st("ws",e,(e.httpPath||"")+at(t,"flash=false"))}},ut={getInitial:function(t,e){return st("http",e,(e.httpPath||"/pusher")+at(t))}},lt={getInitial:function(t,e){return st("http",e,e.httpPath||"/pusher")},getPath:function(t,e){return at(t)}},ht=function(){function t(){this._callbacks={}}return t.prototype.get=function(t){return this._callbacks[ft(t)]},t.prototype.add=function(t,e,n){var r=ft(t);this._callbacks[r]=this._callbacks[r]||[],this._callbacks[r].push({fn:e,context:n})},t.prototype.remove=function(t,e,n){if(t||e||n){var r=t?[ft(t)]:$(this._callbacks);e||n?this.removeCallback(r,e,n):this.removeAllCallbacks(r)}else this._callbacks={}},t.prototype.removeCallback=function(t,e,n){z(t,(function(t){this._callbacks[t]=G(this._callbacks[t]||[],(function(t){return e&&e!==t.fn||n&&n!==t.context})),0===this._callbacks[t].length&&delete this._callbacks[t]}),this)},t.prototype.removeAllCallbacks=function(t){z(t,(function(t){delete this._callbacks[t]}),this)},t}();function ft(t){return"_"+t}var dt=function(){function t(t){this.callbacks=new ht,this.global_callbacks=[],this.failThrough=t}return t.prototype.bind=function(t,e,n){return this.callbacks.add(t,e,n),this},t.prototype.bind_global=function(t){return this.global_callbacks.push(t),this},t.prototype.unbind=function(t,e,n){return this.callbacks.remove(t,e,n),this},t.prototype.unbind_global=function(t){return t?(this.global_callbacks=G(this.global_callbacks||[],(function(e){return e!==t})),this):(this.global_callbacks=[],this)},t.prototype.unbind_all=function(){return this.unbind(),this.unbind_global(),this},t.prototype.emit=function(t,e,n){for(var r=0;r<this.global_callbacks.length;r++)this.global_callbacks[r](t,e);var o=this.callbacks.get(t),i=[];if(n?i.push(e,n):e&&i.push(e),o&&o.length>0)for(r=0;r<o.length;r++)o[r].fn.apply(o[r].context||window,i);else this.failThrough&&this.failThrough(t,e);return this},t}(),pt=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),mt=function(t){function e(e,n,r,o,i){var s=t.call(this)||this;return s.initialize=Pe.transportConnectionInitializer,s.hooks=e,s.name=n,s.priority=r,s.key=o,s.options=i,s.state="new",s.timeline=i.timeline,s.activityTimeout=i.activityTimeout,s.id=s.timeline.generateUniqueID(),s}return pt(e,t),e.prototype.handlesActivityChecks=function(){return Boolean(this.hooks.handlesActivityChecks)},e.prototype.supportsPing=function(){return Boolean(this.hooks.supportsPing)},e.prototype.connect=function(){var t=this;if(this.socket||"initialized"!==this.state)return!1;var e=this.hooks.urls.getInitial(this.key,this.options);try{this.socket=this.hooks.getSocket(e,this.options)}catch(e){return H.defer((function(){t.onError(e),t.changeState("closed")})),!1}return this.bindListeners(),et.debug("Connecting",{transport:this.name,url:e}),this.changeState("connecting"),!0},e.prototype.close=function(){return!!this.socket&&(this.socket.close(),!0)},e.prototype.send=function(t){var e=this;return"open"===this.state&&(H.defer((function(){e.socket&&e.socket.send(t)})),!0)},e.prototype.ping=function(){"open"===this.state&&this.supportsPing()&&this.socket.ping()},e.prototype.onOpen=function(){this.hooks.beforeOpen&&this.hooks.beforeOpen(this.socket,this.hooks.urls.getPath(this.key,this.options)),this.changeState("open"),this.socket.onopen=void 0},e.prototype.onError=function(t){this.emit("error",{type:"WebSocketError",error:t}),this.timeline.error(this.buildTimelineMessage({error:t.toString()}))},e.prototype.onClose=function(t){t?this.changeState("closed",{code:t.code,reason:t.reason,wasClean:t.wasClean}):this.changeState("closed"),this.unbindListeners(),this.socket=void 0},e.prototype.onMessage=function(t){this.emit("message",t)},e.prototype.onActivity=function(){this.emit("activity")},e.prototype.bindListeners=function(){var t=this;this.socket.onopen=function(){t.onOpen()},this.socket.onerror=function(e){t.onError(e)},this.socket.onclose=function(e){t.onClose(e)},this.socket.onmessage=function(e){t.onMessage(e)},this.supportsPing()&&(this.socket.onactivity=function(){t.onActivity()})},e.prototype.unbindListeners=function(){this.socket&&(this.socket.onopen=void 0,this.socket.onerror=void 0,this.socket.onclose=void 0,this.socket.onmessage=void 0,this.supportsPing()&&(this.socket.onactivity=void 0))},e.prototype.changeState=function(t,e){this.state=t,this.timeline.info(this.buildTimelineMessage({state:t,params:e})),this.emit(t,e)},e.prototype.buildTimelineMessage=function(t){return q({cid:this.id},t)},e}(dt),yt=mt,vt=function(){function t(t){this.hooks=t}return t.prototype.isSupported=function(t){return this.hooks.isSupported(t)},t.prototype.createConnection=function(t,e,n,r){return new yt(this.hooks,t,e,n,r)},t}(),gt=new vt({urls:ct,handlesActivityChecks:!1,supportsPing:!1,isInitialized:function(){return Boolean(Pe.getWebSocketAPI())},isSupported:function(){return Boolean(Pe.getWebSocketAPI())},getSocket:function(t){return Pe.createWebSocket(t)}}),bt={urls:ut,handlesActivityChecks:!1,supportsPing:!0,isInitialized:function(){return!0}},wt=q({getSocket:function(t){return Pe.HTTPFactory.createStreamingSocket(t)}},bt),Et=q({getSocket:function(t){return Pe.HTTPFactory.createPollingSocket(t)}},bt),St={isSupported:function(){return Pe.isXHRSupported()}},kt={ws:gt,xhr_streaming:new vt(q({},wt,St)),xhr_polling:new vt(q({},Et,St))},Tt=new vt({file:"sockjs",urls:lt,handlesActivityChecks:!0,supportsPing:!1,isSupported:function(){return!0},isInitialized:function(){return void 0!==window.SockJS},getSocket:function(t,e){return new window.SockJS(t,null,{js_path:u.getPath("sockjs",{useTLS:e.useTLS}),ignore_null_origin:e.ignoreNullOrigin})},beforeOpen:function(t,e){t.send(JSON.stringify({path:e}))}}),Ot={isSupported:function(t){return Pe.isXDRSupported(t.useTLS)}},xt=new vt(q({},wt,Ot)),Lt=new vt(q({},Et,Ot));kt.xdr_streaming=xt,kt.xdr_polling=Lt,kt.sockjs=Tt;var At=kt,Ct=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Pt=new(function(t){function e(){var e=t.call(this)||this,n=e;return void 0!==window.addEventListener&&(window.addEventListener("online",(function(){n.emit("online")}),!1),window.addEventListener("offline",(function(){n.emit("offline")}),!1)),e}return Ct(e,t),e.prototype.isOnline=function(){return void 0===window.navigator.onLine||window.navigator.onLine},e}(dt)),Rt=function(){function t(t,e,n){this.manager=t,this.transport=e,this.minPingDelay=n.minPingDelay,this.maxPingDelay=n.maxPingDelay,this.pingDelay=void 0}return t.prototype.createConnection=function(t,e,n,r){var o=this;r=q({},r,{activityTimeout:this.pingDelay});var i=this.transport.createConnection(t,e,n,r),s=null,a=function(){i.unbind("open",a),i.bind("closed",c),s=H.now()},c=function(t){if(i.unbind("closed",c),1002===t.code||1003===t.code)o.manager.reportDeath();else if(!t.wasClean&&s){var e=H.now()-s;e<2*o.maxPingDelay&&(o.manager.reportDeath(),o.pingDelay=Math.max(e/2,o.minPingDelay))}};return i.bind("open",a),i},t.prototype.isSupported=function(t){return this.manager.isAlive()&&this.transport.isSupported(t)},t}(),_t={decodeMessage:function(t){try{var e=JSON.parse(t.data),n=e.data;if("string"==typeof n)try{n=JSON.parse(e.data)}catch(t){}var r={event:e.event,channel:e.channel,data:n};return e.user_id&&(r.user_id=e.user_id),r}catch(e){throw{type:"MessageParseError",error:e,data:t.data}}},encodeMessage:function(t){return JSON.stringify(t)},processHandshake:function(t){var e=_t.decodeMessage(t);if("pusher:connection_established"===e.event){if(!e.data.activity_timeout)throw"No activity timeout specified in handshake";return{action:"connected",id:e.data.socket_id,activityTimeout:1e3*e.data.activity_timeout}}if("pusher:error"===e.event)return{action:this.getCloseAction(e.data),error:this.getCloseError(e.data)};throw"Invalid handshake"},getCloseAction:function(t){return t.code<4e3?t.code>=1002&&t.code<=1004?"backoff":null:4e3===t.code?"tls_only":t.code<4100?"refused":t.code<4200?"backoff":t.code<4300?"retry":"refused"},getCloseError:function(t){return 1e3!==t.code&&1001!==t.code?{type:"PusherError",data:{code:t.code,message:t.reason||t.message}}:null}},jt=_t,Mt=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Nt=function(t){function e(e,n){var r=t.call(this)||this;return r.id=e,r.transport=n,r.activityTimeout=n.activityTimeout,r.bindListeners(),r}return Mt(e,t),e.prototype.handlesActivityChecks=function(){return this.transport.handlesActivityChecks()},e.prototype.send=function(t){return this.transport.send(t)},e.prototype.send_event=function(t,e,n){var r={event:t,data:e};return n&&(r.channel=n),et.debug("Event sent",r),this.send(jt.encodeMessage(r))},e.prototype.ping=function(){this.transport.supportsPing()?this.transport.ping():this.send_event("pusher:ping",{})},e.prototype.close=function(){this.transport.close()},e.prototype.bindListeners=function(){var t=this,e={message:function(e){var n;try{n=jt.decodeMessage(e)}catch(n){t.emit("error",{type:"MessageParseError",error:n,data:e.data})}if(void 0!==n){switch(et.debug("Event recd",n),n.event){case"pusher:error":t.emit("error",{type:"PusherError",data:n.data});break;case"pusher:ping":t.emit("ping");break;case"pusher:pong":t.emit("pong")}t.emit("message",n)}},activity:function(){t.emit("activity")},error:function(e){t.emit("error",e)},closed:function(e){n(),e&&e.code&&t.handleCloseEvent(e),t.transport=null,t.emit("closed")}},n=function(){U(e,(function(e,n){t.transport.unbind(n,e)}))};U(e,(function(e,n){t.transport.bind(n,e)}))},e.prototype.handleCloseEvent=function(t){var e=jt.getCloseAction(t),n=jt.getCloseError(t);n&&this.emit("error",n),e&&this.emit(e,{action:e,error:n})},e}(dt),It=function(){function t(t,e){this.transport=t,this.callback=e,this.bindListeners()}return t.prototype.close=function(){this.unbindListeners(),this.transport.close()},t.prototype.bindListeners=function(){var t=this;this.onMessage=function(e){var n;t.unbindListeners();try{n=jt.processHandshake(e)}catch(e){return t.finish("error",{error:e}),void t.transport.close()}"connected"===n.action?t.finish("connected",{connection:new Nt(n.id,t.transport),activityTimeout:n.activityTimeout}):(t.finish(n.action,{error:n.error}),t.transport.close())},this.onClosed=function(e){t.unbindListeners();var n=jt.getCloseAction(e)||"backoff",r=jt.getCloseError(e);t.finish(n,{error:r})},this.transport.bind("message",this.onMessage),this.transport.bind("closed",this.onClosed)},t.prototype.unbindListeners=function(){this.transport.unbind("message",this.onMessage),this.transport.unbind("closed",this.onClosed)},t.prototype.finish=function(t,e){this.callback(q({transport:this.transport,action:t},e))},t}(),Dt=function(){function t(t,e){this.timeline=t,this.options=e||{}}return t.prototype.send=function(t,e){this.timeline.isEmpty()||this.timeline.send(Pe.TimelineTransport.getAgent(this,t),e)},t}(),Ft=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Bt=function(t){function e(e,n){var r=t.call(this,(function(t,n){et.debug("No callbacks on "+e+" for "+t)}))||this;return r.name=e,r.pusher=n,r.subscribed=!1,r.subscriptionPending=!1,r.subscriptionCancelled=!1,r}return Ft(e,t),e.prototype.authorize=function(t,e){return e(null,{auth:""})},e.prototype.trigger=function(t,e){if(0!==t.indexOf("client-"))throw new p("Event '"+t+"' does not start with 'client-'");if(!this.subscribed){var n=h("triggeringClientEvents");et.warn("Client event triggered before channel 'subscription_succeeded' event . "+n)}return this.pusher.send_event(t,e,this.name)},e.prototype.disconnect=function(){this.subscribed=!1,this.subscriptionPending=!1},e.prototype.handleEvent=function(t){var e=t.event,n=t.data;"pusher_internal:subscription_succeeded"===e?this.handleSubscriptionSucceededEvent(t):"pusher_internal:subscription_count"===e?this.handleSubscriptionCountEvent(t):0!==e.indexOf("pusher_internal:")&&this.emit(e,n,{})},e.prototype.handleSubscriptionSucceededEvent=function(t){this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):this.emit("pusher:subscription_succeeded",t.data)},e.prototype.handleSubscriptionCountEvent=function(t){t.data.subscription_count&&(this.subscriptionCount=t.data.subscription_count),this.emit("pusher:subscription_count",t.data)},e.prototype.subscribe=function(){var t=this;this.subscribed||(this.subscriptionPending=!0,this.subscriptionCancelled=!1,this.authorize(this.pusher.connection.socket_id,(function(e,n){e?(t.subscriptionPending=!1,et.error(e.toString()),t.emit("pusher:subscription_error",Object.assign({},{type:"AuthError",error:e.message},e instanceof S?{status:e.status}:{}))):t.pusher.send_event("pusher:subscribe",{auth:n.auth,channel_data:n.channel_data,channel:t.name})})))},e.prototype.unsubscribe=function(){this.subscribed=!1,this.pusher.send_event("pusher:unsubscribe",{channel:this.name})},e.prototype.cancelSubscription=function(){this.subscriptionCancelled=!0},e.prototype.reinstateSubscription=function(){this.subscriptionCancelled=!1},e}(dt),Ht=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),qt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ht(e,t),e.prototype.authorize=function(t,e){return this.pusher.config.channelAuthorizer({channelName:this.name,socketId:t},e)},e}(Bt),Wt=qt,Vt=function(){function t(){this.reset()}return t.prototype.get=function(t){return Object.prototype.hasOwnProperty.call(this.members,t)?{id:t,info:this.members[t]}:null},t.prototype.each=function(t){var e=this;U(this.members,(function(n,r){t(e.get(r))}))},t.prototype.setMyID=function(t){this.myID=t},t.prototype.onSubscription=function(t){this.members=t.presence.hash,this.count=t.presence.count,this.me=this.get(this.myID)},t.prototype.addMember=function(t){return null===this.get(t.user_id)&&this.count++,this.members[t.user_id]=t.user_info,this.get(t.user_id)},t.prototype.removeMember=function(t){var e=this.get(t.user_id);return e&&(delete this.members[t.user_id],this.count--),e},t.prototype.reset=function(){this.members={},this.count=0,this.myID=null,this.me=null},t}(),Ut=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),$t=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function s(t){try{c(r.next(t))}catch(t){i(t)}}function a(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){t.done?o(t.value):new n((function(e){e(t.value)})).then(s,a)}c((r=r.apply(t,e||[])).next())}))},zt=function(t,e){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},Kt=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.members=new Vt,r}return Ut(e,t),e.prototype.authorize=function(e,n){var r=this;t.prototype.authorize.call(this,e,(function(t,e){return $t(r,void 0,void 0,(function(){var r,o;return zt(this,(function(i){switch(i.label){case 0:return t?[3,3]:null==e.channel_data?[3,1]:(r=JSON.parse(e.channel_data),this.members.setMyID(r.user_id),[3,3]);case 1:return[4,this.pusher.user.signinDonePromise];case 2:if(i.sent(),null==this.pusher.user.user_data)return o=h("authorizationEndpoint"),et.error("Invalid auth response for channel '"+this.name+"', expected 'channel_data' field. "+o+", or the user should be signed in."),n("Invalid auth response"),[2];this.members.setMyID(this.pusher.user.user_data.id),i.label=3;case 3:return n(t,e),[2]}}))}))}))},e.prototype.handleEvent=function(t){var e=t.event;if(0===e.indexOf("pusher_internal:"))this.handleInternalEvent(t);else{var n=t.data,r={};t.user_id&&(r.user_id=t.user_id),this.emit(e,n,r)}},e.prototype.handleInternalEvent=function(t){var e=t.event,n=t.data;switch(e){case"pusher_internal:subscription_succeeded":this.handleSubscriptionSucceededEvent(t);break;case"pusher_internal:subscription_count":this.handleSubscriptionCountEvent(t);break;case"pusher_internal:member_added":var r=this.members.addMember(n);this.emit("pusher:member_added",r);break;case"pusher_internal:member_removed":var o=this.members.removeMember(n);o&&this.emit("pusher:member_removed",o)}},e.prototype.handleSubscriptionSucceededEvent=function(t){this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):(this.members.onSubscription(t.data),this.emit("pusher:subscription_succeeded",this.members))},e.prototype.disconnect=function(){this.members.reset(),t.prototype.disconnect.call(this)},e}(Wt),Gt=n(1),Xt=n(0),Yt=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Jt=function(t){function e(e,n,r){var o=t.call(this,e,n)||this;return o.key=null,o.nacl=r,o}return Yt(e,t),e.prototype.authorize=function(e,n){var r=this;t.prototype.authorize.call(this,e,(function(t,e){if(t)n(t,e);else{var o=e.shared_secret;o?(r.key=Object(Xt.decode)(o),delete e.shared_secret,n(null,e)):n(new Error("No shared_secret key in auth payload for encrypted channel: "+r.name),null)}}))},e.prototype.trigger=function(t,e){throw new b("Client events are not currently supported for encrypted channels")},e.prototype.handleEvent=function(e){var n=e.event,r=e.data;0!==n.indexOf("pusher_internal:")&&0!==n.indexOf("pusher:")?this.handleEncryptedEvent(n,r):t.prototype.handleEvent.call(this,e)},e.prototype.handleEncryptedEvent=function(t,e){var n=this;if(this.key)if(e.ciphertext&&e.nonce){var r=Object(Xt.decode)(e.ciphertext);if(r.length<this.nacl.secretbox.overheadLength)et.error("Expected encrypted event ciphertext length to be "+this.nacl.secretbox.overheadLength+", got: "+r.length);else{var o=Object(Xt.decode)(e.nonce);if(o.length<this.nacl.secretbox.nonceLength)et.error("Expected encrypted event nonce length to be "+this.nacl.secretbox.nonceLength+", got: "+o.length);else{var i=this.nacl.secretbox.open(r,o,this.key);if(null===i)return et.debug("Failed to decrypt an event, probably because it was encrypted with a different key. Fetching a new key from the authEndpoint..."),void this.authorize(this.pusher.connection.socket_id,(function(e,s){e?et.error("Failed to make a request to the authEndpoint: "+s+". Unable to fetch new key, so dropping encrypted event"):null!==(i=n.nacl.secretbox.open(r,o,n.key))?n.emit(t,n.getDataToEmit(i)):et.error("Failed to decrypt event with new key. Dropping encrypted event")}));this.emit(t,this.getDataToEmit(i))}}}else et.error("Unexpected format for encrypted event, expected object with `ciphertext` and `nonce` fields, got: "+e);else et.debug("Received encrypted event before key has been retrieved from the authEndpoint")},e.prototype.getDataToEmit=function(t){var e=Object(Gt.decode)(t);try{return JSON.parse(e)}catch(t){return e}},e}(Wt),Qt=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Zt=function(t){function e(e,n){var r=t.call(this)||this;r.state="initialized",r.connection=null,r.key=e,r.options=n,r.timeline=r.options.timeline,r.usingTLS=r.options.useTLS,r.errorCallbacks=r.buildErrorCallbacks(),r.connectionCallbacks=r.buildConnectionCallbacks(r.errorCallbacks),r.handshakeCallbacks=r.buildHandshakeCallbacks(r.errorCallbacks);var o=Pe.getNetwork();return o.bind("online",(function(){r.timeline.info({netinfo:"online"}),"connecting"!==r.state&&"unavailable"!==r.state||r.retryIn(0)})),o.bind("offline",(function(){r.timeline.info({netinfo:"offline"}),r.connection&&r.sendActivityCheck()})),r.updateStrategy(),r}return Qt(e,t),e.prototype.connect=function(){this.connection||this.runner||(this.strategy.isSupported()?(this.updateState("connecting"),this.startConnecting(),this.setUnavailableTimer()):this.updateState("failed"))},e.prototype.send=function(t){return!!this.connection&&this.connection.send(t)},e.prototype.send_event=function(t,e,n){return!!this.connection&&this.connection.send_event(t,e,n)},e.prototype.disconnect=function(){this.disconnectInternally(),this.updateState("disconnected")},e.prototype.isUsingTLS=function(){return this.usingTLS},e.prototype.startConnecting=function(){var t=this,e=function(n,r){n?t.runner=t.strategy.connect(0,e):"error"===r.action?(t.emit("error",{type:"HandshakeError",error:r.error}),t.timeline.error({handshakeError:r.error})):(t.abortConnecting(),t.handshakeCallbacks[r.action](r))};this.runner=this.strategy.connect(0,e)},e.prototype.abortConnecting=function(){this.runner&&(this.runner.abort(),this.runner=null)},e.prototype.disconnectInternally=function(){this.abortConnecting(),this.clearRetryTimer(),this.clearUnavailableTimer(),this.connection&&this.abandonConnection().close()},e.prototype.updateStrategy=function(){this.strategy=this.options.getStrategy({key:this.key,timeline:this.timeline,useTLS:this.usingTLS})},e.prototype.retryIn=function(t){var e=this;this.timeline.info({action:"retry",delay:t}),t>0&&this.emit("connecting_in",Math.round(t/1e3)),this.retryTimer=new D(t||0,(function(){e.disconnectInternally(),e.connect()}))},e.prototype.clearRetryTimer=function(){this.retryTimer&&(this.retryTimer.ensureAborted(),this.retryTimer=null)},e.prototype.setUnavailableTimer=function(){var t=this;this.unavailableTimer=new D(this.options.unavailableTimeout,(function(){t.updateState("unavailable")}))},e.prototype.clearUnavailableTimer=function(){this.unavailableTimer&&this.unavailableTimer.ensureAborted()},e.prototype.sendActivityCheck=function(){var t=this;this.stopActivityCheck(),this.connection.ping(),this.activityTimer=new D(this.options.pongTimeout,(function(){t.timeline.error({pong_timed_out:t.options.pongTimeout}),t.retryIn(0)}))},e.prototype.resetActivityCheck=function(){var t=this;this.stopActivityCheck(),this.connection&&!this.connection.handlesActivityChecks()&&(this.activityTimer=new D(this.activityTimeout,(function(){t.sendActivityCheck()})))},e.prototype.stopActivityCheck=function(){this.activityTimer&&this.activityTimer.ensureAborted()},e.prototype.buildConnectionCallbacks=function(t){var e=this;return q({},t,{message:function(t){e.resetActivityCheck(),e.emit("message",t)},ping:function(){e.send_event("pusher:pong",{})},activity:function(){e.resetActivityCheck()},error:function(t){e.emit("error",t)},closed:function(){e.abandonConnection(),e.shouldRetry()&&e.retryIn(1e3)}})},e.prototype.buildHandshakeCallbacks=function(t){var e=this;return q({},t,{connected:function(t){e.activityTimeout=Math.min(e.options.activityTimeout,t.activityTimeout,t.connection.activityTimeout||1/0),e.clearUnavailableTimer(),e.setConnection(t.connection),e.socket_id=e.connection.id,e.updateState("connected",{socket_id:e.socket_id})}})},e.prototype.buildErrorCallbacks=function(){var t=this,e=function(e){return function(n){n.error&&t.emit("error",{type:"WebSocketError",error:n.error}),e(n)}};return{tls_only:e((function(){t.usingTLS=!0,t.updateStrategy(),t.retryIn(0)})),refused:e((function(){t.disconnect()})),backoff:e((function(){t.retryIn(1e3)})),retry:e((function(){t.retryIn(0)}))}},e.prototype.setConnection=function(t){for(var e in this.connection=t,this.connectionCallbacks)this.connection.bind(e,this.connectionCallbacks[e]);this.resetActivityCheck()},e.prototype.abandonConnection=function(){if(this.connection){for(var t in this.stopActivityCheck(),this.connectionCallbacks)this.connection.unbind(t,this.connectionCallbacks[t]);var e=this.connection;return this.connection=null,e}},e.prototype.updateState=function(t,e){var n=this.state;if(this.state=t,n!==t){var r=t;"connected"===r&&(r+=" with new socket ID "+e.socket_id),et.debug("State changed",n+" -> "+r),this.timeline.info({state:t,params:e}),this.emit("state_change",{previous:n,current:t}),this.emit(t,e)}},e.prototype.shouldRetry=function(){return"connecting"===this.state||"connected"===this.state},e}(dt),te=function(){function t(){this.channels={}}return t.prototype.add=function(t,e){return this.channels[t]||(this.channels[t]=function(t,e){if(0===t.indexOf("private-encrypted-")){if(e.config.nacl)return ne.createEncryptedChannel(t,e,e.config.nacl);var n="Tried to subscribe to a private-encrypted- channel but no nacl implementation available",r=h("encryptedChannelSupport");throw new b(n+". "+r)}if(0===t.indexOf("private-"))return ne.createPrivateChannel(t,e);if(0===t.indexOf("presence-"))return ne.createPresenceChannel(t,e);if(0===t.indexOf("#"))throw new m('Cannot create a channel with name "'+t+'".');return ne.createChannel(t,e)}(t,e)),this.channels[t]},t.prototype.all=function(){return function(t){var e=[];return U(t,(function(t){e.push(t)})),e}(this.channels)},t.prototype.find=function(t){return this.channels[t]},t.prototype.remove=function(t){var e=this.channels[t];return delete this.channels[t],e},t.prototype.disconnect=function(){U(this.channels,(function(t){t.disconnect()}))},t}(),ee=te,ne={createChannels:function(){return new ee},createConnectionManager:function(t,e){return new Zt(t,e)},createChannel:function(t,e){return new Bt(t,e)},createPrivateChannel:function(t,e){return new Wt(t,e)},createPresenceChannel:function(t,e){return new Kt(t,e)},createEncryptedChannel:function(t,e,n){return new Jt(t,e,n)},createTimelineSender:function(t,e){return new Dt(t,e)},createHandshake:function(t,e){return new It(t,e)},createAssistantToTheTransportManager:function(t,e,n){return new Rt(t,e,n)}},re=function(){function t(t){this.options=t||{},this.livesLeft=this.options.lives||1/0}return t.prototype.getAssistant=function(t){return ne.createAssistantToTheTransportManager(this,t,{minPingDelay:this.options.minPingDelay,maxPingDelay:this.options.maxPingDelay})},t.prototype.isAlive=function(){return this.livesLeft>0},t.prototype.reportDeath=function(){this.livesLeft-=1},t}(),oe=function(){function t(t,e){this.strategies=t,this.loop=Boolean(e.loop),this.failFast=Boolean(e.failFast),this.timeout=e.timeout,this.timeoutLimit=e.timeoutLimit}return t.prototype.isSupported=function(){return Y(this.strategies,H.method("isSupported"))},t.prototype.connect=function(t,e){var n=this,r=this.strategies,o=0,i=this.timeout,s=null,a=function(c,u){u?e(null,u):(o+=1,n.loop&&(o%=r.length),o<r.length?(i&&(i*=2,n.timeoutLimit&&(i=Math.min(i,n.timeoutLimit))),s=n.tryStrategy(r[o],t,{timeout:i,failFast:n.failFast},a)):e(!0))};return s=this.tryStrategy(r[o],t,{timeout:i,failFast:this.failFast},a),{abort:function(){s.abort()},forceMinPriority:function(e){t=e,s&&s.forceMinPriority(e)}}},t.prototype.tryStrategy=function(t,e,n,r){var o=null,i=null;return n.timeout>0&&(o=new D(n.timeout,(function(){i.abort(),r(!0)}))),i=t.connect(e,(function(t,e){t&&o&&o.isRunning()&&!n.failFast||(o&&o.ensureAborted(),r(t,e))})),{abort:function(){o&&o.ensureAborted(),i.abort()},forceMinPriority:function(t){i.forceMinPriority(t)}}},t}(),ie=function(){function t(t){this.strategies=t}return t.prototype.isSupported=function(){return Y(this.strategies,H.method("isSupported"))},t.prototype.connect=function(t,e){return function(t,e,n){var r=K(t,(function(t,r,o,i){return t.connect(e,n(r,i))}));return{abort:function(){z(r,se)},forceMinPriority:function(t){z(r,(function(e){e.forceMinPriority(t)}))}}}(this.strategies,t,(function(t,n){return function(r,o){n[t].error=r,r?function(t){return function(t,e){for(var n=0;n<t.length;n++)if(!e(t[n],n,t))return!1;return!0}(t,(function(t){return Boolean(t.error)}))}(n)&&e(!0):(z(n,(function(t){t.forceMinPriority(o.transport.priority)})),e(null,o))}}))},t}();function se(t){t.error||t.aborted||(t.abort(),t.aborted=!0)}var ae=function(){function t(t,e,n){this.strategy=t,this.transports=e,this.ttl=n.ttl||18e5,this.usingTLS=n.useTLS,this.timeline=n.timeline}return t.prototype.isSupported=function(){return this.strategy.isSupported()},t.prototype.connect=function(t,e){var n=this.usingTLS,r=function(t){var e=Pe.getLocalStorage();if(e)try{var n=e[ue(t)];if(n)return JSON.parse(n)}catch(e){le(t)}return null}(n),o=[this.strategy];if(r&&r.timestamp+this.ttl>=H.now()){var i=this.transports[r.transport];i&&(this.timeline.info({cached:!0,transport:r.transport,latency:r.latency}),o.push(new oe([i],{timeout:2*r.latency+1e3,failFast:!0})))}var s=H.now(),a=o.pop().connect(t,(function r(i,c){i?(le(n),o.length>0?(s=H.now(),a=o.pop().connect(t,r)):e(i)):(function(t,e,n){var r=Pe.getLocalStorage();if(r)try{r[ue(t)]=Z({timestamp:H.now(),transport:e,latency:n})}catch(t){}}(n,c.transport.name,H.now()-s),e(null,c))}));return{abort:function(){a.abort()},forceMinPriority:function(e){t=e,a&&a.forceMinPriority(e)}}},t}(),ce=ae;function ue(t){return"pusherTransport"+(t?"TLS":"NonTLS")}function le(t){var e=Pe.getLocalStorage();if(e)try{delete e[ue(t)]}catch(t){}}var he=function(){function t(t,e){var n=e.delay;this.strategy=t,this.options={delay:n}}return t.prototype.isSupported=function(){return this.strategy.isSupported()},t.prototype.connect=function(t,e){var n,r=this.strategy,o=new D(this.options.delay,(function(){n=r.connect(t,e)}));return{abort:function(){o.ensureAborted(),n&&n.abort()},forceMinPriority:function(e){t=e,n&&n.forceMinPriority(e)}}},t}(),fe=function(){function t(t,e,n){this.test=t,this.trueBranch=e,this.falseBranch=n}return t.prototype.isSupported=function(){return(this.test()?this.trueBranch:this.falseBranch).isSupported()},t.prototype.connect=function(t,e){return(this.test()?this.trueBranch:this.falseBranch).connect(t,e)},t}(),de=function(){function t(t){this.strategy=t}return t.prototype.isSupported=function(){return this.strategy.isSupported()},t.prototype.connect=function(t,e){var n=this.strategy.connect(t,(function(t,r){r&&n.abort(),e(t,r)}));return n},t}();function pe(t){return function(){return t.isSupported()}}var me,ye=function(t,e,n){var r={};function o(e,o,i,s,a){var c=n(t,e,o,i,s,a);return r[e]=c,c}var i,s=Object.assign({},e,{hostNonTLS:t.wsHost+":"+t.wsPort,hostTLS:t.wsHost+":"+t.wssPort,httpPath:t.wsPath}),a=Object.assign({},s,{useTLS:!0}),c=Object.assign({},e,{hostNonTLS:t.httpHost+":"+t.httpPort,hostTLS:t.httpHost+":"+t.httpsPort,httpPath:t.httpPath}),u={loop:!0,timeout:15e3,timeoutLimit:6e4},l=new re({lives:2,minPingDelay:1e4,maxPingDelay:t.activityTimeout}),h=new re({lives:2,minPingDelay:1e4,maxPingDelay:t.activityTimeout}),f=o("ws","ws",3,s,l),d=o("wss","ws",3,a,l),p=o("sockjs","sockjs",1,c),m=o("xhr_streaming","xhr_streaming",1,c,h),y=o("xdr_streaming","xdr_streaming",1,c,h),v=o("xhr_polling","xhr_polling",1,c),g=o("xdr_polling","xdr_polling",1,c),b=new oe([f],u),w=new oe([d],u),E=new oe([p],u),S=new oe([new fe(pe(m),m,y)],u),k=new oe([new fe(pe(v),v,g)],u),T=new oe([new fe(pe(S),new ie([S,new he(k,{delay:4e3})]),k)],u),O=new fe(pe(T),T,E);return i=e.useTLS?new ie([b,new he(O,{delay:2e3})]):new ie([b,new he(w,{delay:2e3}),new he(O,{delay:5e3})]),new ce(new de(new fe(pe(f),i,O)),r,{ttl:18e5,timeline:e.timeline,useTLS:e.useTLS})},ve={getRequest:function(t){var e=new window.XDomainRequest;return e.ontimeout=function(){t.emit("error",new y),t.close()},e.onerror=function(e){t.emit("error",e),t.close()},e.onprogress=function(){e.responseText&&e.responseText.length>0&&t.onChunk(200,e.responseText)},e.onload=function(){e.responseText&&e.responseText.length>0&&t.onChunk(200,e.responseText),t.emit("finished",200),t.close()},e},abortRequest:function(t){t.ontimeout=t.onerror=t.onprogress=t.onload=null,t.abort()}},ge=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),be=function(t){function e(e,n,r){var o=t.call(this)||this;return o.hooks=e,o.method=n,o.url=r,o}return ge(e,t),e.prototype.start=function(t){var e=this;this.position=0,this.xhr=this.hooks.getRequest(this),this.unloader=function(){e.close()},Pe.addUnloadListener(this.unloader),this.xhr.open(this.method,this.url,!0),this.xhr.setRequestHeader&&this.xhr.setRequestHeader("Content-Type","application/json"),this.xhr.send(t)},e.prototype.close=function(){this.unloader&&(Pe.removeUnloadListener(this.unloader),this.unloader=null),this.xhr&&(this.hooks.abortRequest(this.xhr),this.xhr=null)},e.prototype.onChunk=function(t,e){for(;;){var n=this.advanceBuffer(e);if(!n)break;this.emit("chunk",{status:t,data:n})}this.isBufferTooLong(e)&&this.emit("buffer_too_long")},e.prototype.advanceBuffer=function(t){var e=t.slice(this.position),n=e.indexOf("\n");return-1!==n?(this.position+=n+1,e.slice(0,n)):null},e.prototype.isBufferTooLong=function(t){return this.position===t.length&&t.length>262144},e}(dt);!function(t){t[t.CONNECTING=0]="CONNECTING",t[t.OPEN=1]="OPEN",t[t.CLOSED=3]="CLOSED"}(me||(me={}));var we=me,Ee=1;function Se(t){var e=-1===t.indexOf("?")?"?":"&";return t+e+"t="+ +new Date+"&n="+Ee++}function ke(t){return Math.floor(Math.random()*t)}var Te,Oe=function(){function t(t,e){this.hooks=t,this.session=ke(1e3)+"/"+function(t){for(var e=[],n=0;n<t;n++)e.push(ke(32).toString(32));return e.join("")}(8),this.location=function(t){var e=/([^\?]*)\/*(\??.*)/.exec(t);return{base:e[1],queryString:e[2]}}(e),this.readyState=we.CONNECTING,this.openStream()}return t.prototype.send=function(t){return this.sendRaw(JSON.stringify([t]))},t.prototype.ping=function(){this.hooks.sendHeartbeat(this)},t.prototype.close=function(t,e){this.onClose(t,e,!0)},t.prototype.sendRaw=function(t){if(this.readyState!==we.OPEN)return!1;try{return Pe.createSocketRequest("POST",Se((e=this.location,n=this.session,e.base+"/"+n+"/xhr_send"))).start(t),!0}catch(t){return!1}var e,n},t.prototype.reconnect=function(){this.closeStream(),this.openStream()},t.prototype.onClose=function(t,e,n){this.closeStream(),this.readyState=we.CLOSED,this.onclose&&this.onclose({code:t,reason:e,wasClean:n})},t.prototype.onChunk=function(t){var e;if(200===t.status)switch(this.readyState===we.OPEN&&this.onActivity(),t.data.slice(0,1)){case"o":e=JSON.parse(t.data.slice(1)||"{}"),this.onOpen(e);break;case"a":e=JSON.parse(t.data.slice(1)||"[]");for(var n=0;n<e.length;n++)this.onEvent(e[n]);break;case"m":e=JSON.parse(t.data.slice(1)||"null"),this.onEvent(e);break;case"h":this.hooks.onHeartbeat(this);break;case"c":e=JSON.parse(t.data.slice(1)||"[]"),this.onClose(e[0],e[1],!0)}},t.prototype.onOpen=function(t){var e,n,r;this.readyState===we.CONNECTING?(t&&t.hostname&&(this.location.base=(e=this.location.base,n=t.hostname,(r=/(https?:\/\/)([^\/:]+)((\/|:)?.*)/.exec(e))[1]+n+r[3])),this.readyState=we.OPEN,this.onopen&&this.onopen()):this.onClose(1006,"Server lost session",!0)},t.prototype.onEvent=function(t){this.readyState===we.OPEN&&this.onmessage&&this.onmessage({data:t})},t.prototype.onActivity=function(){this.onactivity&&this.onactivity()},t.prototype.onError=function(t){this.onerror&&this.onerror(t)},t.prototype.openStream=function(){var t=this;this.stream=Pe.createSocketRequest("POST",Se(this.hooks.getReceiveURL(this.location,this.session))),this.stream.bind("chunk",(function(e){t.onChunk(e)})),this.stream.bind("finished",(function(e){t.hooks.onFinished(t,e)})),this.stream.bind("buffer_too_long",(function(){t.reconnect()}));try{this.stream.start()}catch(e){H.defer((function(){t.onError(e),t.onClose(1006,"Could not start streaming",!1)}))}},t.prototype.closeStream=function(){this.stream&&(this.stream.unbind_all(),this.stream.close(),this.stream=null)},t}(),xe={getReceiveURL:function(t,e){return t.base+"/"+e+"/xhr_streaming"+t.queryString},onHeartbeat:function(t){t.sendRaw("[]")},sendHeartbeat:function(t){t.sendRaw("[]")},onFinished:function(t,e){t.onClose(1006,"Connection interrupted ("+e+")",!1)}},Le={getReceiveURL:function(t,e){return t.base+"/"+e+"/xhr"+t.queryString},onHeartbeat:function(){},sendHeartbeat:function(t){t.sendRaw("[]")},onFinished:function(t,e){200===e?t.reconnect():t.onClose(1006,"Connection interrupted ("+e+")",!1)}},Ae={getRequest:function(t){var e=new(Pe.getXHRAPI());return e.onreadystatechange=e.onprogress=function(){switch(e.readyState){case 3:e.responseText&&e.responseText.length>0&&t.onChunk(e.status,e.responseText);break;case 4:e.responseText&&e.responseText.length>0&&t.onChunk(e.status,e.responseText),t.emit("finished",e.status),t.close()}},e},abortRequest:function(t){t.onreadystatechange=null,t.abort()}},Ce={createStreamingSocket:function(t){return this.createSocket(xe,t)},createPollingSocket:function(t){return this.createSocket(Le,t)},createSocket:function(t,e){return new Oe(t,e)},createXHR:function(t,e){return this.createRequest(Ae,t,e)},createRequest:function(t,e,n){return new be(t,e,n)},createXDR:function(t,e){return this.createRequest(ve,t,e)}},Pe={nextAuthCallbackID:1,auth_callbacks:{},ScriptReceivers:i,DependenciesReceivers:c,getDefaultStrategy:ye,Transports:At,transportConnectionInitializer:function(){var t=this;t.timeline.info(t.buildTimelineMessage({transport:t.name+(t.options.useTLS?"s":"")})),t.hooks.isInitialized()?t.changeState("initialized"):t.hooks.file?(t.changeState("initializing"),u.load(t.hooks.file,{useTLS:t.options.useTLS},(function(e,n){t.hooks.isInitialized()?(t.changeState("initialized"),n(!0)):(e&&t.onError(e),t.onClose(),n(!1))}))):t.onClose()},HTTPFactory:Ce,TimelineTransport:it,getXHRAPI:function(){return window.XMLHttpRequest},getWebSocketAPI:function(){return window.WebSocket||window.MozWebSocket},setup:function(t){var e=this;window.Pusher=t;var n=function(){e.onDocumentBody(t.ready)};window.JSON?n():u.load("json2",{},n)},getDocument:function(){return document},getProtocol:function(){return this.getDocument().location.protocol},getAuthorizers:function(){return{ajax:k,jsonp:nt}},onDocumentBody:function(t){var e=this;document.body?t():setTimeout((function(){e.onDocumentBody(t)}),0)},createJSONPRequest:function(t,e){return new ot(t,e)},createScriptRequest:function(t){return new rt(t)},getLocalStorage:function(){try{return window.localStorage}catch(t){return}},createXHR:function(){return this.getXHRAPI()?this.createXMLHttpRequest():this.createMicrosoftXHR()},createXMLHttpRequest:function(){return new(this.getXHRAPI())},createMicrosoftXHR:function(){return new ActiveXObject("Microsoft.XMLHTTP")},getNetwork:function(){return Pt},createWebSocket:function(t){return new(this.getWebSocketAPI())(t)},createSocketRequest:function(t,e){if(this.isXHRSupported())return this.HTTPFactory.createXHR(t,e);if(this.isXDRSupported(0===e.indexOf("https:")))return this.HTTPFactory.createXDR(t,e);throw"Cross-origin HTTP requests are not supported"},isXHRSupported:function(){var t=this.getXHRAPI();return Boolean(t)&&void 0!==(new t).withCredentials},isXDRSupported:function(t){var e=t?"https:":"http:",n=this.getProtocol();return Boolean(window.XDomainRequest)&&n===e},addUnloadListener:function(t){void 0!==window.addEventListener?window.addEventListener("unload",t,!1):void 0!==window.attachEvent&&window.attachEvent("onunload",t)},removeUnloadListener:function(t){void 0!==window.addEventListener?window.removeEventListener("unload",t,!1):void 0!==window.detachEvent&&window.detachEvent("onunload",t)}};!function(t){t[t.ERROR=3]="ERROR",t[t.INFO=6]="INFO",t[t.DEBUG=7]="DEBUG"}(Te||(Te={}));var Re=Te,_e=function(){function t(t,e,n){this.key=t,this.session=e,this.events=[],this.options=n||{},this.sent=0,this.uniqueID=0}return t.prototype.log=function(t,e){t<=this.options.level&&(this.events.push(q({},e,{timestamp:H.now()})),this.options.limit&&this.events.length>this.options.limit&&this.events.shift())},t.prototype.error=function(t){this.log(Re.ERROR,t)},t.prototype.info=function(t){this.log(Re.INFO,t)},t.prototype.debug=function(t){this.log(Re.DEBUG,t)},t.prototype.isEmpty=function(){return 0===this.events.length},t.prototype.send=function(t,e){var n=this,r=q({session:this.session,bundle:this.sent+1,key:this.key,lib:"js",version:this.options.version,cluster:this.options.cluster,features:this.options.features,timeline:this.events},this.options.params);return this.events=[],t(r,(function(t,r){t||n.sent++,e&&e(t,r)})),!0},t.prototype.generateUniqueID=function(){return this.uniqueID++,this.uniqueID},t}(),je=function(){function t(t,e,n,r){this.name=t,this.priority=e,this.transport=n,this.options=r||{}}return t.prototype.isSupported=function(){return this.transport.isSupported({useTLS:this.options.useTLS})},t.prototype.connect=function(t,e){var n=this;if(!this.isSupported())return Me(new E,e);if(this.priority<t)return Me(new v,e);var r=!1,o=this.transport.createConnection(this.name,this.priority,this.options.key,this.options),i=null,s=function(){o.unbind("initialized",s),o.connect()},a=function(){i=ne.createHandshake(o,(function(t){r=!0,l(),e(null,t)}))},c=function(t){l(),e(t)},u=function(){var t;l(),t=Z(o),e(new g(t))},l=function(){o.unbind("initialized",s),o.unbind("open",a),o.unbind("error",c),o.unbind("closed",u)};return o.bind("initialized",s),o.bind("open",a),o.bind("error",c),o.bind("closed",u),o.initialize(),{abort:function(){r||(l(),i?i.close():o.close())},forceMinPriority:function(t){r||n.priority<t&&(i?i.close():o.close())}}},t}();function Me(t,e){return H.defer((function(){e(t)})),{abort:function(){},forceMinPriority:function(){}}}var Ne=Pe.Transports,Ie=function(t,e,n,r,o,i){var s,a=Ne[n];if(!a)throw new w(n);return t.enabledTransports&&-1===V(t.enabledTransports,e)||t.disabledTransports&&-1!==V(t.disabledTransports,e)?s=De:(o=Object.assign({ignoreNullOrigin:t.ignoreNullOrigin},o),s=new je(e,r,i?i.getAssistant(a):a,o)),s},De={isSupported:function(){return!1},connect:function(t,e){var n=H.defer((function(){e(new E)}));return{abort:function(){n.ensureAborted()},forceMinPriority:function(){}}}},Fe=function(t){if(void 0===Pe.getAuthorizers()[t.transport])throw"'"+t.transport+"' is not a recognized auth transport";return function(e,n){var o=function(t,e){var n="socket_id="+encodeURIComponent(t.socketId);for(var r in e.params)n+="&"+encodeURIComponent(r)+"="+encodeURIComponent(e.params[r]);return n}(e,t);Pe.getAuthorizers()[t.transport](Pe,o,t,r.UserAuthentication,n)}},Be=function(t){if(void 0===Pe.getAuthorizers()[t.transport])throw"'"+t.transport+"' is not a recognized auth transport";return function(e,n){var o=function(t,e){var n="socket_id="+encodeURIComponent(t.socketId);for(var r in n+="&channel_name="+encodeURIComponent(t.channelName),e.params)n+="&"+encodeURIComponent(r)+"="+encodeURIComponent(e.params[r]);return n}(e,t);Pe.getAuthorizers()[t.transport](Pe,o,t,r.ChannelAuthorization,n)}},He=function(){return He=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},He.apply(this,arguments)};function qe(t){return t.httpHost?t.httpHost:t.cluster?"sockjs-"+t.cluster+".pusher.com":s.httpHost}function We(t){return t.wsHost?t.wsHost:t.cluster?Ve(t.cluster):Ve(s.cluster)}function Ve(t){return"ws-"+t+".pusher.com"}function Ue(t){return"https:"===Pe.getProtocol()||!1!==t.forceTLS}function $e(t){return"enableStats"in t?t.enableStats:"disableStats"in t&&!t.disableStats}function ze(t){var e=He({},s.userAuthentication,t.userAuthentication);return"customHandler"in e&&null!=e.customHandler?e.customHandler:Fe(e)}function Ke(t,e){var n=function(t,e){var n;return"channelAuthorization"in t?n=He({},s.channelAuthorization,t.channelAuthorization):(n={transport:t.authTransport||s.authTransport,endpoint:t.authEndpoint||s.authEndpoint},"auth"in t&&("params"in t.auth&&(n.params=t.auth.params),"headers"in t.auth&&(n.headers=t.auth.headers)),"authorizer"in t&&(n.customHandler=function(t,e,n){var r={authTransport:e.transport,authEndpoint:e.endpoint,auth:{params:e.params,headers:e.headers}};return function(e,o){var i=t.channel(e.channelName);n(i,r).authorize(e.socketId,o)}}(e,n,t.authorizer))),n}(t,e);return"customHandler"in n&&null!=n.customHandler?n.customHandler:Be(n)}var Ge=function(){var t,e;return{promise:new Promise((function(n,r){t=n,e=r})),resolve:t,reject:e}},Xe=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ye=function(t){function e(e){var n=t.call(this,(function(t,e){et.debug("No callbacks on user for "+t)}))||this;return n.signin_requested=!1,n.user_data=null,n.serverToUserChannel=null,n.signinDonePromise=null,n._signinDoneResolve=null,n._onAuthorize=function(t,e){if(t)return et.warn("Error during signin: "+t),void n._cleanup();n.pusher.send_event("pusher:signin",{auth:e.auth,user_data:e.user_data})},n.pusher=e,n.pusher.connection.bind("state_change",(function(t){var e=t.previous,r=t.current;"connected"!==e&&"connected"===r&&n._signin(),"connected"===e&&"connected"!==r&&(n._cleanup(),n._newSigninPromiseIfNeeded())})),n.pusher.connection.bind("message",(function(t){"pusher:signin_success"===t.event&&n._onSigninSuccess(t.data),n.serverToUserChannel&&n.serverToUserChannel.name===t.channel&&n.serverToUserChannel.handleEvent(t)})),n}return Xe(e,t),e.prototype.signin=function(){this.signin_requested||(this.signin_requested=!0,this._signin())},e.prototype._signin=function(){this.signin_requested&&(this._newSigninPromiseIfNeeded(),"connected"===this.pusher.connection.state&&this.pusher.config.userAuthenticator({socketId:this.pusher.connection.socket_id},this._onAuthorize))},e.prototype._onSigninSuccess=function(t){try{this.user_data=JSON.parse(t.user_data)}catch(e){return et.error("Failed parsing user data after signin: "+t.user_data),void this._cleanup()}if("string"!=typeof this.user_data.id||""===this.user_data.id)return et.error("user_data doesn't contain an id. user_data: "+this.user_data),void this._cleanup();this._signinDoneResolve(),this._subscribeChannels()},e.prototype._subscribeChannels=function(){var t,e=this;this.serverToUserChannel=new Bt("#server-to-user-"+this.user_data.id,this.pusher),this.serverToUserChannel.bind_global((function(t,n){0!==t.indexOf("pusher_internal:")&&0!==t.indexOf("pusher:")&&e.emit(t,n)})),(t=this.serverToUserChannel).subscriptionPending&&t.subscriptionCancelled?t.reinstateSubscription():t.subscriptionPending||"connected"!==e.pusher.connection.state||t.subscribe()},e.prototype._cleanup=function(){this.user_data=null,this.serverToUserChannel&&(this.serverToUserChannel.unbind_all(),this.serverToUserChannel.disconnect(),this.serverToUserChannel=null),this.signin_requested&&this._signinDoneResolve()},e.prototype._newSigninPromiseIfNeeded=function(){if(this.signin_requested&&(!this.signinDonePromise||this.signinDonePromise.done)){var t=Ge(),e=t.promise,n=t.resolve;t.reject,e.done=!1;var r=function(){e.done=!0};e.then(r).catch(r),this.signinDonePromise=e,this._signinDoneResolve=n}},e}(dt),Je=function(){function t(e,n){var r,o,i,a=this;if(function(t){if(null==t)throw"You must pass your app key when you instantiate Pusher."}(e),!(n=n||{}).cluster&&!n.wsHost&&!n.httpHost){var c=h("javascriptQuickStart");et.warn("You should always specify a cluster when connecting. "+c)}"disableStats"in n&&et.warn("The disableStats option is deprecated in favor of enableStats"),this.key=e,this.config=(o=this,i={activityTimeout:(r=n).activityTimeout||s.activityTimeout,cluster:r.cluster||s.cluster,httpPath:r.httpPath||s.httpPath,httpPort:r.httpPort||s.httpPort,httpsPort:r.httpsPort||s.httpsPort,pongTimeout:r.pongTimeout||s.pongTimeout,statsHost:r.statsHost||s.stats_host,unavailableTimeout:r.unavailableTimeout||s.unavailableTimeout,wsPath:r.wsPath||s.wsPath,wsPort:r.wsPort||s.wsPort,wssPort:r.wssPort||s.wssPort,enableStats:$e(r),httpHost:qe(r),useTLS:Ue(r),wsHost:We(r),userAuthenticator:ze(r),channelAuthorizer:Ke(r,o)},"disabledTransports"in r&&(i.disabledTransports=r.disabledTransports),"enabledTransports"in r&&(i.enabledTransports=r.enabledTransports),"ignoreNullOrigin"in r&&(i.ignoreNullOrigin=r.ignoreNullOrigin),"timelineParams"in r&&(i.timelineParams=r.timelineParams),"nacl"in r&&(i.nacl=r.nacl),i),this.channels=ne.createChannels(),this.global_emitter=new dt,this.sessionID=Math.floor(1e9*Math.random()),this.timeline=new _e(this.key,this.sessionID,{cluster:this.config.cluster,features:t.getClientFeatures(),params:this.config.timelineParams||{},limit:50,level:Re.INFO,version:s.VERSION}),this.config.enableStats&&(this.timelineSender=ne.createTimelineSender(this.timeline,{host:this.config.statsHost,path:"/timeline/v2/"+Pe.TimelineTransport.name})),this.connection=ne.createConnectionManager(this.key,{getStrategy:function(t){return Pe.getDefaultStrategy(a.config,t,Ie)},timeline:this.timeline,activityTimeout:this.config.activityTimeout,pongTimeout:this.config.pongTimeout,unavailableTimeout:this.config.unavailableTimeout,useTLS:Boolean(this.config.useTLS)}),this.connection.bind("connected",(function(){a.subscribeAll(),a.timelineSender&&a.timelineSender.send(a.connection.isUsingTLS())})),this.connection.bind("message",(function(t){var e=0===t.event.indexOf("pusher_internal:");if(t.channel){var n=a.channel(t.channel);n&&n.handleEvent(t)}e||a.global_emitter.emit(t.event,t.data)})),this.connection.bind("connecting",(function(){a.channels.disconnect()})),this.connection.bind("disconnected",(function(){a.channels.disconnect()})),this.connection.bind("error",(function(t){et.warn(t)})),t.instances.push(this),this.timeline.info({instances:t.instances.length}),this.user=new Ye(this),t.isReady&&this.connect()}return t.ready=function(){t.isReady=!0;for(var e=0,n=t.instances.length;e<n;e++)t.instances[e].connect()},t.getClientFeatures=function(){return $(X({ws:Pe.Transports.ws},(function(t){return t.isSupported({})})))},t.prototype.channel=function(t){return this.channels.find(t)},t.prototype.allChannels=function(){return this.channels.all()},t.prototype.connect=function(){if(this.connection.connect(),this.timelineSender&&!this.timelineSenderTimer){var t=this.connection.isUsingTLS(),e=this.timelineSender;this.timelineSenderTimer=new F(6e4,(function(){e.send(t)}))}},t.prototype.disconnect=function(){this.connection.disconnect(),this.timelineSenderTimer&&(this.timelineSenderTimer.ensureAborted(),this.timelineSenderTimer=null)},t.prototype.bind=function(t,e,n){return this.global_emitter.bind(t,e,n),this},t.prototype.unbind=function(t,e,n){return this.global_emitter.unbind(t,e,n),this},t.prototype.bind_global=function(t){return this.global_emitter.bind_global(t),this},t.prototype.unbind_global=function(t){return this.global_emitter.unbind_global(t),this},t.prototype.unbind_all=function(t){return this.global_emitter.unbind_all(),this},t.prototype.subscribeAll=function(){var t;for(t in this.channels.channels)this.channels.channels.hasOwnProperty(t)&&this.subscribe(t)},t.prototype.subscribe=function(t){var e=this.channels.add(t,this);return e.subscriptionPending&&e.subscriptionCancelled?e.reinstateSubscription():e.subscriptionPending||"connected"!==this.connection.state||e.subscribe(),e},t.prototype.unsubscribe=function(t){var e=this.channels.find(t);e&&e.subscriptionPending?e.cancelSubscription():(e=this.channels.remove(t))&&e.subscribed&&e.unsubscribe()},t.prototype.send_event=function(t,e,n){return this.connection.send_event(t,e,n)},t.prototype.shouldUseTLS=function(){return this.config.useTLS},t.prototype.signin=function(){this.user.signin()},t.instances=[],t.isReady=!1,t.logToConsole=!1,t.Runtime=Pe,t.ScriptReceivers=Pe.ScriptReceivers,t.DependenciesReceivers=Pe.DependenciesReceivers,t.auth_callbacks=Pe.auth_callbacks,t}(),Qe=e.default=Je;Pe.setup(Je)}])},t.exports=e()},5923:(t,e,n)=>{"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var s,a=t[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{!r&&a.return&&a.return()}finally{if(o)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=c(n(3150)),a=c(n(9737));function c(t){return t&&t.__esModule?t:{default:t}}var u=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.el=e}return i(t,[{key:"range",value:function(t){var e=this.el;if(null==t)return[e.selectionStart||0,e.selectionEnd||0];this.focus();var n=o(t,2);return e.selectionStart=n[0],e.selectionEnd=n[1],this}},{key:"insert",value:function(t){var e=!0;this.el.contentEditable=!0,this.focus();try{document.execCommand("insertText",!1,t)}catch(t){e=!1}if(this.el.contentEditable=!1,e)return this;try{document.execCommand("ms-beginUndoUnit")}catch(t){}var n=this.selection(),r=n.before,o=n.after;this.el.value=r+t+o;try{document.execCommand("ms-endUndoUnit")}catch(t){}var i=document.createEvent("Event");return i.initEvent("input",!0,!0),this.el.dispatchEvent(i),this}},{key:"focus",value:function(){return document.activeElement!==this.el&&this.el.focus(),this}},{key:"selection",value:function(){var t=this.range(),e=o(t,2),n=e[0],r=e[1],i=this.el.value.replace("\r\n","\n");return{before:i.slice(0,n),content:i.slice(n,r),after:i.slice(r)}}},{key:"getFormat",value:function(t){if("object"==(void 0===t?"undefined":r(t)))return m(t);if(!a.default.hasOwnProperty(t))throw new Error("Invalid format "+t);return m(a.default[t])}},{key:"toggle",value:function(t){if(this.hasFormat(t))return this.unformat(t);for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return this.format.apply(this,[t].concat(n))}},{key:"format",value:function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var i=this.getFormat(t),s=i.prefix,a=i.suffix,c=i.multiline,u=this.selection(),l=u.before,h=u.content,d=u.after,p=c?h.split("\n"):[h],m=this.range(),y=o(m,2),g=y[0],b=y[1],w=(p=p.map((function(t,e){var r=v.apply(void 0,[s.value,t,e+1].concat(n)),o=v.apply(void 0,[a.value,t,e+1].concat(n));return c&&h.length?b+=r.length+o.length:(g+=r.length,b+=r.length),r+t+o}))).join("\n");if(i.block){var E=f(l,/\n+$/),S=f(d,/^\n+/);if(l)for(;E<2;)w="\n"+w,g++,b++,E++;if(d)for(;S<2;)w+="\n",S++}return this.insert(w),this.range([g,b]),this}},{key:"unformat",value:function(t){if(!this.hasFormat(t))return this;var e=this.getFormat(t),n=e.prefix,r=e.suffix,i=e.multiline,s=this.selection(),a=s.before,c=s.content,u=s.after,f=i?c.split("\n"):[c],m=this.range(),y=o(m,2),v=y[0],g=y[1];i&&1!=f.length||!h(a,n)||!l(u,r)||(v-=p(a,n),g+=d(u,r),this.range([v,g]),f=[this.selection().content]);var b=(f=f.map((function(t){var e=d(t,n),o=p(t,r);return t.slice(e,t.length-o)}))).join("\n");return this.insert(b),this.range([v,v+b.length]),this}},{key:"hasFormat",value:function(t){var e=this.getFormat(t),n=e.prefix,r=e.suffix,o=e.multiline,i=this.selection(),s=i.before,a=i.content,c=i.after,u=a.split("\n");return o&&1!=u.length?u.filter((function(t){return l(t,n)&&h(t,r)})).length===u.length:h(s,n)&&l(c,r)||l(a,n)&&h(a,r)}}]),t}();function l(t,e){var n=new RegExp("^"+e.pattern).test(t);if(e.antipattern){var r=new RegExp("^"+e.antipattern);n=n&&!r.test(t)}return n}function h(t,e){var n=new RegExp(e.pattern+"$").test(t);if(e.antipattern){var r=new RegExp(e.antipattern+"$");n=n&&!r.test(t)}return n}function f(t,e){var n=t.match(e);return n?n[0].length:0}function d(t,e){return f(t,new RegExp("^"+e.pattern))}function p(t,e){return f(t,new RegExp(e.pattern+"$"))}function m(t){var e=Object.assign({},t);return e.prefix=y(t.prefix),e.suffix=y(t.suffix),e}function y(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"object"==(void 0===t?"undefined":r(t))?t:{value:t,pattern:(0,s.default)(t)}}function v(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return"function"==typeof t?t.apply(void 0,n):t}e.ZP=u,a.default},9737:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default={bold:{prefix:"**",suffix:"**"},italic:{prefix:"_",suffix:"_"},strikethrough:{prefix:"~~",suffix:"~~"},link:{prefix:{value:"[",pattern:"\\[",antipattern:"\\!\\["},suffix:{value:function(t,e,n){return"]("+n+")"},pattern:"\\]\\([^()]*?\\)"}},image:{prefix:"![",suffix:{value:function(t,e,n){return"]("+n+")"},pattern:"\\]\\([^()]*?\\)"}},header1:{prefix:{value:"# ",pattern:"# ",antipattern:"[#]{2,} "}},header2:{prefix:{value:"## ",pattern:"## ",antipattern:"[#]{3,} "}},header3:{prefix:{value:"### ",pattern:"### ",antipattern:"[#]{4,} "}},header4:{prefix:{value:"#### ",pattern:"#### ",antipattern:"[#]{5,} "}},header5:{prefix:{value:"##### ",pattern:"##### ",antipattern:"[#]{6,} "}},header6:{prefix:{value:"###### ",pattern:"###### ",antipattern:"[#]{7,} "}},code:{block:!0,prefix:"```\n",suffix:"\n```"},orderedList:{block:!0,multiline:!0,prefix:{value:function(t,e){return e+". "},pattern:"[0-9]+\\. "}},unorderedList:{block:!0,multiline:!0,prefix:"- "},taskList:{block:!0,multiline:!0,prefix:{value:"- [ ] ",pattern:"- \\[[x ]{1}\\] "}},blockquote:{block:!0,multiline:!0,prefix:"> "}}},5153:(t,e,n)=>{var r={"./alert-controller.ts":1686,"./comment-controller.ts":9961,"./comment-replies-controller.ts":8896,"./composer-controller.ts":9165,"./copy-link-controller.ts":4208,"./load-backwards-controller.ts":4119,"./login-controller.ts":2925,"./modal-controller.ts":2335,"./notifications-popup-controller.ts":3461,"./page-controller.ts":8253,"./post-controller.ts":948,"./post-feed-controller.ts":6861,"./post-page-controller.ts":788,"./quotable-controller.ts":450,"./reveal-controller.ts":7266,"./scrollspy-controller.ts":1680,"./text-editor-controller.ts":5824,"./theme-controller.ts":7763,"./turbo-frame-controller.ts":276,"./watch-sticky-controller.ts":5440};function o(t){var e=i(t);return n(e)}function i(t){if(!n.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}o.keys=function(){return Object.keys(r)},o.resolve=i,t.exports=o,o.id=5153},9380:(t,e,n)=>{"use strict";n.d(e,{Z:()=>l});var r=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function s(t){try{c(r.next(t))}catch(t){i(t)}}function a(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))};function o(t){let e=0,n=0,r=t;do{e+=r.offsetTop||0,n+=r.offsetLeft||0,r=r.offsetParent}while(r);return{top:e,left:n}}class i{constructor(t){this.element=t}getHorizontalScroll(){return this.element.scrollLeft}getVerticalScroll(){return this.element.scrollTop}getMaxHorizontalScroll(){return this.element.scrollWidth-this.element.clientWidth}getMaxVerticalScroll(){return this.element.scrollHeight-this.element.clientHeight}getHorizontalElementScrollOffset(t,e){return o(t).left-o(e).left}getVerticalElementScrollOffset(t,e){return o(t).top-o(e).top}scrollTo(t,e){this.element.scrollLeft=t,this.element.scrollTop=e}}class s{constructor(){this.element=window}getHorizontalScroll(){return window.scrollX||document.documentElement.scrollLeft}getVerticalScroll(){return window.scrollY||document.documentElement.scrollTop}getMaxHorizontalScroll(){return Math.max(document.body.scrollWidth,document.documentElement.scrollWidth,document.body.offsetWidth,document.documentElement.offsetWidth,document.body.clientWidth,document.documentElement.clientWidth)-window.innerWidth}getMaxVerticalScroll(){return Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight)-window.innerHeight}getHorizontalElementScrollOffset(t){return(window.scrollX||document.documentElement.scrollLeft)+t.getBoundingClientRect().left}getVerticalElementScrollOffset(t){return(window.scrollY||document.documentElement.scrollTop)+t.getBoundingClientRect().top}scrollTo(t,e){window.scrollTo(t,e)}}const a={elements:[],cancelMethods:[],add:(t,e)=>{a.elements.push(t),a.cancelMethods.push(e)},remove:(t,e)=>{const n=a.elements.indexOf(t);n>-1&&(e&&a.cancelMethods[n](),a.elements.splice(n,1),a.cancelMethods.splice(n,1))}},c="undefined"!=typeof window,u={cancelOnUserAction:!0,easing:t=>--t*t*t+1,elementToScroll:c?window:null,horizontalOffset:0,maxDuration:3e3,minDuration:250,speed:500,verticalOffset:0};const l=function(t,e={}){return r(this,void 0,void 0,(function*(){if(!c)return new Promise((t=>{t(!1)}));if(!window.Promise)throw"Browser doesn't support Promises, and animated-scroll-to depends on it, please provide a polyfill.";let n,r,o,l=Object.assign(Object.assign({},u),e);const h=l.elementToScroll===window,f=!!l.elementToScroll.nodeName;if(!h&&!f)throw"Element to scroll needs to be either window or DOM element.";const d=h?document.documentElement:l.elementToScroll;"smooth"===getComputedStyle(d).getPropertyValue("scroll-behavior")&&console.warn(`${d.tagName} has "scroll-behavior: smooth" which can mess up with animated-scroll-to's animations`);const p=h?new s:new i(l.elementToScroll);if(t instanceof Element){if(o=t,f&&(!l.elementToScroll.contains(o)||l.elementToScroll.isSameNode(o)))throw"options.elementToScroll has to be a parent of scrollToElement";n=p.getHorizontalElementScrollOffset(o,l.elementToScroll),r=p.getVerticalElementScrollOffset(o,l.elementToScroll)}else if("number"==typeof t)n=p.getHorizontalScroll(),r=t;else{if(!Array.isArray(t)||2!==t.length)throw"Wrong function signature. Check documentation.\nAvailable method signatures are:\n  animateScrollTo(y:number, options)\n  animateScrollTo([x:number | null, y:number | null], options)\n  animateScrollTo(scrollToElement:Element, options)";n=null===t[0]?p.getHorizontalScroll():t[0],r=null===t[1]?p.getVerticalScroll():t[1]}n+=l.horizontalOffset,r+=l.verticalOffset;const m=p.getMaxHorizontalScroll(),y=p.getHorizontalScroll();n>m&&(n=m);const v=n-y,g=p.getMaxVerticalScroll(),b=p.getVerticalScroll();r>g&&(r=g);const w=r-b,E=Math.abs(Math.round(v/1e3*l.speed)),S=Math.abs(Math.round(w/1e3*l.speed));let k=E>S?E:S;return k<l.minDuration?k=l.minDuration:k>l.maxDuration&&(k=l.maxDuration),new Promise(((t,e)=>{let o;0===v&&0===w&&t(!0),a.remove(p.element,!0);const i=()=>{h(),cancelAnimationFrame(o),t(!1)};a.add(p.element,i);const s=l.cancelOnUserAction?i:t=>t.preventDefault(),c=l.cancelOnUserAction?{passive:!0}:{passive:!1},u=["wheel","touchstart","keydown","mousedown"],h=()=>{u.forEach((t=>{p.element.removeEventListener(t,s,c)}))};u.forEach((t=>{p.element.addEventListener(t,s,c)}));const f=Date.now(),d=()=>{var e=Date.now()-f,i=e/k;const s=Math.round(y+v*l.easing(i)),c=Math.round(b+w*l.easing(i));e<k&&(s!==n||c!==r)?(p.scrollTo(s,c),o=requestAnimationFrame(d)):(p.scrollTo(n,r),cancelAnimationFrame(o),h(),a.remove(p.element,!1),t(!0))};o=requestAnimationFrame(d)}))}))}}},n={};function r(t){var o=n[t];if(void 0!==o)return o.exports;var i=n[t]={exports:{}};return e[t].call(i.exports,i,i.exports,r),i.exports}r.m=e,t=[],r.O=(e,n,o,i)=>{if(!n){var s=1/0;for(l=0;l<t.length;l++){for(var[n,o,i]=t[l],a=!0,c=0;c<n.length;c++)(!1&i||s>=i)&&Object.keys(r.O).every((t=>r.O[t](n[c])))?n.splice(c--,1):(a=!1,i<s&&(s=i));if(a){t.splice(l--,1);var u=o();void 0!==u&&(e=u)}}return e}i=i||0;for(var l=t.length;l>0&&t[l-1][2]>i;l--)t[l]=t[l-1];t[l]=[n,o,i]},r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{var t={201:0,781:0,34:0};r.O.j=e=>0===t[e];var e=(e,n)=>{var o,i,[s,a,c]=n,u=0;if(s.some((e=>0!==t[e]))){for(o in a)r.o(a,o)&&(r.m[o]=a[o]);if(c)var l=c(r)}for(e&&e(n);u<s.length;u++)i=s[u],r.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return r.O(l)},n=self.webpackChunk=self.webpackChunk||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))})(),r.O(void 0,[781,34],(()=>r(5927))),r.O(void 0,[781,34],(()=>r(4934)));var o=r.O(void 0,[781,34],(()=>r(6143)));o=r.O(o)})();