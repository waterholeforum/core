(function(){var e=Object.defineProperty,t=(t,n)=>{let r={};for(var i in t)e(r,i,{get:t[i],enumerable:!0});return n||e(r,Symbol.toStringTag,{value:`Module`}),r};function n(e){return e.replace(/(?:[_-])([a-z0-9])/g,(e,t)=>t.toUpperCase())}function r(e){return n(e.replace(/--/g,`-`).replace(/__/g,`_`))}function i(e){return e.charAt(0).toUpperCase()+e.slice(1)}function a(e){return e.replace(/([A-Z])/g,(e,t)=>`-${t.toLowerCase()}`)}function o(e){return e!=null}function s(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function c(e,t){let n=u(e);return Array.from(n.reduce((e,n)=>(d(n,t).forEach(t=>e.add(t)),e),new Set))}function l(e,t){return u(e).reduce((e,n)=>(e.push(...f(n,t)),e),[])}function u(e){let t=[];for(;e;)t.push(e),e=Object.getPrototypeOf(e);return t.reverse()}function d(e,t){let n=e[t];return Array.isArray(n)?n:[]}function f(e,t){let n=e[t];return n?Object.keys(n).map(e=>[e,n[e]]):[]}typeof Object.getOwnPropertySymbols==`function`||Object.getOwnPropertyNames,(()=>{function e(e){function t(){return Reflect.construct(e,arguments,new.target)}return t.prototype=Object.create(e.prototype,{constructor:{value:t}}),Reflect.setPrototypeOf(t,e),t}function t(){let t=e(function(){this.a.call(this)});return t.prototype.a=function(){},new t}try{return t(),e}catch{return e=>class extends e{}}})(),Object.assign(Object.assign({enter:`Enter`,tab:`Tab`,esc:`Escape`,space:` `,up:`ArrowUp`,down:`ArrowDown`,left:`ArrowLeft`,right:`ArrowRight`,home:`Home`,end:`End`,page_up:`PageUp`,page_down:`PageDown`},p(`abcdefghijklmnopqrstuvwxyz`.split(``).map(e=>[e,e]))),p(`0123456789`.split(``).map(e=>[e,e])));function p(e){return e.reduce((e,[t,n])=>Object.assign(Object.assign({},e),{[t]:n}),{})}function m(e){return c(e,`classes`).reduce((e,t)=>Object.assign(e,h(t)),{})}function h(e){return{[`${e}Class`]:{get(){let{classes:t}=this;if(t.has(e))return t.get(e);{let n=t.getAttributeName(e);throw Error(`Missing attribute "${n}"`)}}},[`${e}Classes`]:{get(){return this.classes.getAll(e)}},[`has${i(e)}Class`]:{get(){return this.classes.has(e)}}}}function g(e){return c(e,`outlets`).reduce((e,t)=>Object.assign(e,y(t)),{})}function _(e,t,n){return e.application.getControllerForElementAndIdentifier(t,n)}function v(e,t,n){let r=_(e,t,n);if(r||(e.application.router.proposeToConnectScopeForElementAndIdentifier(t,n),r=_(e,t,n),r))return r}function y(e){let t=r(e);return{[`${t}Outlet`]:{get(){let t=this.outlets.find(e),n=this.outlets.getSelectorForOutletName(e);if(t){let n=v(this,t,e);if(n)return n;throw Error(`The provided outlet element is missing an outlet controller "${e}" instance for host controller "${this.identifier}"`)}throw Error(`Missing outlet element "${e}" for host controller "${this.identifier}". Stimulus couldn't find a matching outlet element using selector "${n}".`)}},[`${t}Outlets`]:{get(){let t=this.outlets.findAll(e);return t.length>0?t.map(t=>{let n=v(this,t,e);if(n)return n;console.warn(`The provided outlet element is missing an outlet controller "${e}" instance for host controller "${this.identifier}"`,t)}).filter(e=>e):[]}},[`${t}OutletElement`]:{get(){let t=this.outlets.find(e),n=this.outlets.getSelectorForOutletName(e);if(t)return t;throw Error(`Missing outlet element "${e}" for host controller "${this.identifier}". Stimulus couldn't find a matching outlet element using selector "${n}".`)}},[`${t}OutletElements`]:{get(){return this.outlets.findAll(e)}},[`has${i(t)}Outlet`]:{get(){return this.outlets.has(e)}}}}function b(e){return c(e,`targets`).reduce((e,t)=>Object.assign(e,x(t)),{})}function x(e){return{[`${e}Target`]:{get(){let t=this.targets.find(e);if(t)return t;throw Error(`Missing target element "${e}" for "${this.identifier}" controller`)}},[`${e}Targets`]:{get(){return this.targets.findAll(e)}},[`has${i(e)}Target`]:{get(){return this.targets.has(e)}}}}function S(e){let t=l(e,`values`);return t.reduce((e,t)=>Object.assign(e,C(t)),{valueDescriptorMap:{get(){return t.reduce((e,t)=>{let n=w(t,this.identifier),r=this.data.getAttributeNameForKey(n.key);return Object.assign(e,{[r]:n})},{})}}})}function C(e,t){let n=w(e,t),{key:r,name:a,reader:o,writer:s}=n;return{[a]:{get(){let e=this.data.get(r);return e===null?n.defaultValue:o(e)},set(e){e===void 0?this.data.delete(r):this.data.set(r,s(e))}},[`has${i(a)}`]:{get(){return this.data.has(r)||n.hasCustomDefaultValue}}}}function w([e,t],n){return ne({controller:n,token:e,typeDefinition:t})}function T(e){switch(e){case Array:return`array`;case Boolean:return`boolean`;case Number:return`number`;case Object:return`object`;case String:return`string`}}function E(e){switch(typeof e){case`boolean`:return`boolean`;case`number`:return`number`;case`string`:return`string`}if(Array.isArray(e))return`array`;if(Object.prototype.toString.call(e)===`[object Object]`)return`object`}function D(e){let{controller:t,token:n,typeObject:r}=e,i=o(r.type),a=o(r.default),s=i&&a,c=i&&!a,l=!i&&a,u=T(r.type),d=E(e.typeObject.default);if(c)return u;if(l)return d;if(u!==d){let e=t?`${t}.${n}`:n;throw Error(`The specified default value for the Stimulus Value "${e}" must match the defined type "${u}". The provided default value of "${r.default}" is of type "${d}".`)}if(s)return u}function ee(e){let{controller:t,token:n,typeDefinition:r}=e,i=D({controller:t,token:n,typeObject:r}),a=E(r),o=T(r),s=i||a||o;if(s)return s;let c=t?`${t}.${r}`:n;throw Error(`Unknown value type "${c}" for "${n}" value`)}function te(e){let t=T(e);if(t)return O[t];let n=s(e,`default`),r=s(e,`type`),i=e;if(n)return i.default;if(r){let{type:e}=i,t=T(e);if(t)return O[t]}return e}function ne(e){let{token:t,typeDefinition:r}=e,i=`${a(t)}-value`,o=ee(e);return{type:o,key:i,name:n(i),get defaultValue(){return te(r)},get hasCustomDefaultValue(){return E(r)!==void 0},reader:re[o],writer:ie[o]||ie.default}}let O={get array(){return[]},boolean:!1,number:0,get object(){return{}},string:``},re={array(e){let t=JSON.parse(e);if(!Array.isArray(t))throw TypeError(`expected value of type "array" but instead got value "${e}" of type "${E(t)}"`);return t},boolean(e){return!(e==`0`||String(e).toLowerCase()==`false`)},number(e){return Number(e.replace(/_/g,``))},object(e){let t=JSON.parse(e);if(typeof t!=`object`||!t||Array.isArray(t))throw TypeError(`expected value of type "object" but instead got value "${e}" of type "${E(t)}"`);return t},string(e){return e}},ie={default:oe,array:ae,object:ae};function ae(e){return JSON.stringify(e)}function oe(e){return`${e}`}var k=class{constructor(e){this.context=e}static get shouldLoad(){return!0}static afterLoad(e,t){}get application(){return this.context.application}get scope(){return this.context.scope}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get targets(){return this.scope.targets}get outlets(){return this.scope.outlets}get classes(){return this.scope.classes}get data(){return this.scope.data}initialize(){}connect(){}disconnect(){}dispatch(e,{target:t=this.element,detail:n={},prefix:r=this.identifier,bubbles:i=!0,cancelable:a=!0}={}){let o=r?`${r}:${e}`:e,s=new CustomEvent(o,{detail:n,bubbles:i,cancelable:a});return t.dispatchEvent(s),s}};k.blessings=[m,b,S,g],k.targets=[],k.outlets=[],k.values={};var se=t({default:()=>A}),A=class extends k{static{this.targets=[`input`,`picker`,`swatch`]}show(){clearTimeout(this.timeout),this.pickerTarget.hidden=!1}hide(){clearTimeout(this.timeout),this.timeout=window.setTimeout(()=>this.pickerTarget.hidden=!0)}colorChanged(e){this.inputTarget.color=e.detail.value,this.pickerTarget.color=e.detail.value,this.swatchTarget.style.backgroundColor=e.detail.value}},j=class{constructor(e,t,{tabInsertsSuggestions:n,firstOptionSelectionMode:r,scrollIntoViewOptions:i}={}){this.input=e,this.list=t,this.tabInsertsSuggestions=n??!0,this.firstOptionSelectionMode=r??`none`,this.scrollIntoViewOptions=i??{block:`nearest`,inline:`nearest`},this.isComposing=!1,t.id||=`combobox-${Math.random().toString().slice(2,6)}`,this.ctrlBindings=!!navigator.userAgent.match(/Macintosh/),this.keyboardEventHandler=e=>ce(e,this),this.compositionEventHandler=e=>fe(e,this),this.inputHandler=this.clearSelection.bind(this),e.setAttribute(`role`,`combobox`),e.setAttribute(`aria-controls`,t.id),e.setAttribute(`aria-expanded`,`false`),e.setAttribute(`aria-autocomplete`,`list`),e.setAttribute(`aria-haspopup`,`listbox`)}destroy(){this.clearSelection(),this.stop(),this.input.removeAttribute(`role`),this.input.removeAttribute(`aria-controls`),this.input.removeAttribute(`aria-expanded`),this.input.removeAttribute(`aria-autocomplete`),this.input.removeAttribute(`aria-haspopup`)}start(){this.input.setAttribute(`aria-expanded`,`true`),this.input.addEventListener(`compositionstart`,this.compositionEventHandler),this.input.addEventListener(`compositionend`,this.compositionEventHandler),this.input.addEventListener(`input`,this.inputHandler),this.input.addEventListener(`keydown`,this.keyboardEventHandler),this.list.addEventListener(`click`,le),this.resetSelection()}stop(){this.clearSelection(),this.input.setAttribute(`aria-expanded`,`false`),this.input.removeEventListener(`compositionstart`,this.compositionEventHandler),this.input.removeEventListener(`compositionend`,this.compositionEventHandler),this.input.removeEventListener(`input`,this.inputHandler),this.input.removeEventListener(`keydown`,this.keyboardEventHandler),this.list.removeEventListener(`click`,le)}indicateDefaultOption(){var e;this.firstOptionSelectionMode===`active`?(e=Array.from(this.list.querySelectorAll(`[role="option"]:not([aria-disabled="true"])`)).filter(de)[0])==null||e.setAttribute(`data-combobox-option-default`,`true`):this.firstOptionSelectionMode===`selected`&&this.navigate(1)}navigate(e=1){let t=Array.from(this.list.querySelectorAll(`[aria-selected="true"]`)).filter(de)[0],n=Array.from(this.list.querySelectorAll(`[role="option"]`)).filter(de),r=n.indexOf(t);if(r===n.length-1&&e===1||r===0&&e===-1){this.clearSelection(),this.input.focus();return}let i=e===1?0:n.length-1;if(t&&r>=0){let t=r+e;t>=0&&t<n.length&&(i=t)}let a=n[i];if(a)for(let e of n)e.removeAttribute(`data-combobox-option-default`),a===e?(this.input.setAttribute(`aria-activedescendant`,a.id),a.setAttribute(`aria-selected`,`true`),ue(a),a.scrollIntoView(this.scrollIntoViewOptions)):e.removeAttribute(`aria-selected`)}clearSelection(){this.input.removeAttribute(`aria-activedescendant`);for(let e of this.list.querySelectorAll(`[aria-selected="true"], [data-combobox-option-default="true"]`))e.removeAttribute(`aria-selected`),e.removeAttribute(`data-combobox-option-default`)}resetSelection(){this.clearSelection(),this.indicateDefaultOption()}};function ce(e,t){if(!(e.shiftKey||e.metaKey||e.altKey)&&!(!t.ctrlBindings&&e.ctrlKey)&&!t.isComposing)switch(e.key){case`Enter`:M(t.input,t.list)&&e.preventDefault();break;case`Tab`:t.tabInsertsSuggestions&&M(t.input,t.list)&&e.preventDefault();break;case`Escape`:t.clearSelection();break;case`ArrowDown`:t.navigate(1),e.preventDefault();break;case`ArrowUp`:t.navigate(-1),e.preventDefault();break;case`n`:t.ctrlBindings&&e.ctrlKey&&(t.navigate(1),e.preventDefault());break;case`p`:t.ctrlBindings&&e.ctrlKey&&(t.navigate(-1),e.preventDefault());break;default:if(e.ctrlKey)break;t.resetSelection()}}function le(e){if(!(e.target instanceof Element))return;let t=e.target.closest(`[role="option"]`);t&&t.getAttribute(`aria-disabled`)!==`true`&&N(t,{event:e})}function M(e,t){let n=t.querySelector(`[aria-selected="true"], [data-combobox-option-default="true"]`);return n?(n.getAttribute(`aria-disabled`)===`true`||n.click(),!0):!1}function N(e,t){e.dispatchEvent(new CustomEvent(`combobox-commit`,{bubbles:!0,detail:t}))}function ue(e){e.dispatchEvent(new Event(`combobox-select`,{bubbles:!0}))}function de(e){return!e.hidden&&!(e instanceof HTMLInputElement&&e.type===`hidden`)&&(e.offsetWidth>0||e.offsetHeight>0)}function fe(e,t){t.isComposing=e.type===`compositionstart`,document.getElementById(t.input.getAttribute(`aria-controls`)||``)&&t.clearSelection()}function pe(e){return e instanceof HTMLInputElement||e instanceof HTMLTextAreaElement}function me(e,t){let n=e.ownerDocument.activeElement;if(n===e)return t();try{return e.focus(),t()}finally{e.blur(),n instanceof HTMLElement&&n.focus()}}function he(e,t){t===``?e.execCommand(`delete`):e.execCommand(`insertText`,!1,t)}function ge(e,t){me(e,()=>{he(e.ownerDocument,t)})}function _e(e,t){if(pe(e))e.select(),ge(e,t);else{let n=e.ownerDocument;me(e,()=>{n.execCommand(`selectAll`,!1,t),he(n,t)})}}let ve=_e;var ye=t({default:()=>xe});let be=/([^\s"]*)"([^"]*)(?:"|$)|[^\s"]+/gi;var xe=class extends k{static{this.targets=[`input`,`list`]}connect(){this.combobox=new j(this.inputTarget,this.listTarget)}focus(){this.combobox?.start(),this.update()}blur(){this.combobox?.stop(),this.listTarget.hidden=!0}tokens(){let e=this.inputTarget.value.matchAll(be);return Array.from(e).reverse()}currentToken(){let e=this.inputTarget.selectionStart||0;return this.tokens().find(t=>t.index!==void 0&&t.index<e&&t.index+t[0].length>=e)}update(){let e=this.tokens(),t=this.currentToken(),n=t&&t[0].toLowerCase(),r=Array.from(this.listTarget.children),i=[];r.forEach(t=>{let r=(t.dataset.value||t.textContent)?.trim().toLowerCase()||``;e.some(e=>e[0].toLowerCase()===r)?t.hidden=!0:n?t.hidden=!r.startsWith(n)||n.includes(`:`)===r.endsWith(`:`):(t.hidden=i.some(e=>r.startsWith(e)),i.push(r))}),this.listTarget.hidden=!r.some(e=>!e.hidden)}commit(e){let t=e.target,n=this.currentToken(),r=(t.dataset.value||t.textContent)?.trim()||``;ve(this.inputTarget,this.inputTarget.value.slice(0,n?.index)+r+(r.endsWith(`:`)?``:` `))}preventBlur(e){e.preventDefault()}},Se=t({default:()=>Ce}),Ce=class extends k{static{this.targets=[`form`]}submit(){setTimeout(()=>{this.formTarget.requestSubmit()})}},we=t({default:()=>Te}),Te=class extends k{static{this.targets=[`preview`,`form`,`emoji`]}change(){this.previewTarget.hidden=!0,this.formTarget.hidden=!1}emojiTargetConnected(e){let t=e.querySelector(`input`),n=e.querySelector(`ui-popup`),r=e.querySelector(`button`),i=e.querySelector(`emoji-picker`);t.type=`hidden`,n.hidden=!1,i.addEventListener(`emoji-click`,e=>{t.value=e.detail.unicode||``,r.innerHTML=t.value,n.open=!1})}},P=typeof global==`object`&&global&&global.Object===Object&&global,F=typeof self==`object`&&self&&self.Object===Object&&self,Ee=P||F||Function(`return this`)(),De=Ee.Symbol,Oe=Object.prototype,ke=Oe.hasOwnProperty,Ae=Oe.toString,je=De?De.toStringTag:void 0;function Me(e){var t=ke.call(e,je),n=e[je];try{e[je]=void 0;var r=!0}catch{}var i=Ae.call(e);return r&&(t?e[je]=n:delete e[je]),i}var Ne=Object.prototype.toString;function Pe(e){return Ne.call(e)}var Fe=`[object Null]`,Ie=`[object Undefined]`,Le=De?De.toStringTag:void 0;function Re(e){return e==null?e===void 0?Ie:Fe:Le&&Le in Object(e)?Me(e):Pe(e)}function ze(e){return typeof e==`object`&&!!e}var Be=`[object Symbol]`;function Ve(e){return typeof e==`symbol`||ze(e)&&Re(e)==Be}var He=/\s/;function Ue(e){for(var t=e.length;t--&&He.test(e.charAt(t)););return t}var We=/^\s+/;function Ge(e){return e&&e.slice(0,Ue(e)+1).replace(We,``)}function Ke(e){var t=typeof e;return e!=null&&(t==`object`||t==`function`)}var qe=NaN,Je=/^[-+]0x[0-9a-f]+$/i,Ye=/^0b[01]+$/i,Xe=/^0o[0-7]+$/i,Ze=parseInt;function Qe(e){if(typeof e==`number`)return e;if(Ve(e))return qe;if(Ke(e)){var t=typeof e.valueOf==`function`?e.valueOf():e;e=Ke(t)?t+``:t}if(typeof e!=`string`)return e===0?e:+e;e=Ge(e);var n=Ye.test(e);return n||Xe.test(e)?Ze(e.slice(2),n?2:8):Je.test(e)?qe:+e}var $e=function(){return Ee.Date.now()},et=`Expected a function`,tt=Math.max,nt=Math.min;function rt(e,t,n){var r,i,a,o,s,c,l=0,u=!1,d=!1,f=!0;if(typeof e!=`function`)throw TypeError(et);t=Qe(t)||0,Ke(n)&&(u=!!n.leading,d=`maxWait`in n,a=d?tt(Qe(n.maxWait)||0,t):a,f=`trailing`in n?!!n.trailing:f);function p(t){var n=r,a=i;return r=i=void 0,l=t,o=e.apply(a,n),o}function m(e){return l=e,s=setTimeout(_,t),u?p(e):o}function h(e){var n=e-c,r=e-l,i=t-n;return d?nt(i,a-r):i}function g(e){var n=e-c,r=e-l;return c===void 0||n>=t||n<0||d&&r>=a}function _(){var e=$e();if(g(e))return v(e);s=setTimeout(_,h(e))}function v(e){return s=void 0,f&&r?p(e):(r=i=void 0,o)}function y(){s!==void 0&&clearTimeout(s),l=0,r=c=i=s=void 0}function b(){return s===void 0?o:v($e())}function x(){var e=$e(),n=g(e);if(r=arguments,i=this,c=e,n){if(s===void 0)return m(c);if(d)return clearTimeout(s),s=setTimeout(_,t),p(c)}return s===void 0&&(s=setTimeout(_,t)),o}return x.cancel=y,x.flush=b,x}var it=t({default:()=>at}),at=class extends k{constructor(...e){super(...e),this.debouncedSubmit=rt(this.submit,250)}input(e){e.target.value?this.debouncedSubmit():this.submit()}submit(){this.element.form?.requestSubmit()}};let ot=`u-off`,st=`u-label`,ct=`width`,lt=`height`,ut=`bottom`,dt=`left`,ft=`right`,pt=`#000`,mt=pt+`0`,ht=`mousemove`,gt=`mousedown`,_t=`mouseup`,vt=`mouseenter`,yt=`mouseleave`,bt=`dblclick`,xt=`change`,St=`dppxchange`,Ct=typeof window<`u`,wt=Ct?document:null,Tt=Ct?window:null,Et=Ct?navigator:null,I,Dt;function Ot(){let e=devicePixelRatio;I!=e&&(I=e,Dt&&Ht(xt,Dt,Ot),Dt=matchMedia(`(min-resolution: ${I-.001}dppx) and (max-resolution: ${I+.001}dppx)`),Vt(xt,Dt,Ot),Tt.dispatchEvent(new CustomEvent(St)))}function kt(e,t){if(t!=null){let n=e.classList;!n.contains(t)&&n.add(t)}}function At(e,t){let n=e.classList;n.contains(t)&&n.remove(t)}function L(e,t,n){e.style[t]=n+`px`}function jt(e,t,n,r){let i=wt.createElement(e);return t!=null&&kt(i,t),n?.insertBefore(i,r),i}function Mt(e,t){return jt(`div`,e,t)}let Nt=new WeakMap;function Pt(e,t,n,r,i){let a=`translate(`+t+`px,`+n+`px)`;a!=Nt.get(e)&&(e.style.transform=a,Nt.set(e,a),t<0||n<0||t>r||n>i?kt(e,ot):At(e,ot))}let Ft=new WeakMap;function It(e,t,n){let r=t+n;r!=Ft.get(e)&&(Ft.set(e,r),e.style.background=t,e.style.borderColor=n)}let Lt=new WeakMap;function Rt(e,t,n,r){let i=t+``+n;i!=Lt.get(e)&&(Lt.set(e,i),e.style.height=n+`px`,e.style.width=t+`px`,e.style.marginLeft=r?-t/2+`px`:0,e.style.marginTop=r?-n/2+`px`:0)}let zt={passive:!0},Bt={...zt,capture:!0};function Vt(e,t,n,r){t.addEventListener(e,n,r?Bt:zt)}function Ht(e,t,n,r){t.removeEventListener(e,n,zt)}Ct&&Ot();function Ut(e,t,n,r){let i;n||=0,r||=t.length-1;let a=r<=2147483647;for(;r-n>1;)i=a?n+r>>1:z((n+r)/2),t[i]<e?n=i:r=i;return e-t[n]<=t[r]-e?n:r}function Wt(e){return(t,n,r)=>{let i=-1,a=-1;for(let a=n;a<=r;a++)if(e(t[a])){i=a;break}for(let i=r;i>=n;i--)if(e(t[i])){a=i;break}return[i,a]}}let Gt=e=>e!=null,Kt=e=>e!=null&&e>0,qt=Wt(Gt),Jt=Wt(Kt);function Yt(e,t,n,r=0,i=!1){let a=i?Jt:qt,o=i?Kt:Gt;[t,n]=a(e,t,n);let s=e[t],c=e[t];if(t>-1)if(r==1)s=e[t],c=e[n];else if(r==-1)s=e[n],c=e[t];else for(let r=t;r<=n;r++){let t=e[r];o(t)&&(t<s?s=t:t>c&&(c=t))}return[s??B,c??-B]}function Xt(e,t,n,r){let i=gn(e),a=gn(t);e==t&&(i==-1?(e*=n,t/=n):(e/=n,t*=n));let o=n==10?_n:vn,s=i==1?z:fn,c=a==1?fn:z,l=s(o(un(e))),u=c(o(un(t))),d=hn(n,l),f=hn(n,u);return n==10&&(l<0&&(d=H(d,-l)),u<0&&(f=H(f,-u))),r||n==2?(e=d*i,t=f*a):(e=Pn(e,d),t=Nn(t,f)),[e,t]}function Zt(e,t,n,r){let i=Xt(e,t,n,r);return e==0&&(i[0]=0),t==0&&(i[1]=0),i}let Qt=.1,$t={mode:3,pad:Qt},en={pad:0,soft:null,mode:0},tn={min:en,max:en};function nn(e,t,n,r){return Gn(n)?an(e,t,n):(en.pad=n,en.soft=r?0:null,en.mode=r?3:0,an(e,t,tn))}function R(e,t){return e??t}function rn(e,t,n){for(t=R(t,0),n=R(n,e.length-1);t<=n;){if(e[t]!=null)return!0;t++}return!1}function an(e,t,n){let r=n.min,i=n.max,a=R(r.pad,0),o=R(i.pad,0),s=R(r.hard,-B),c=R(i.hard,B),l=R(r.soft,B),u=R(i.soft,-B),d=R(r.mode,0),f=R(i.mode,0),p=t-e,m=_n(p),h=mn(un(e),un(t)),g=un(_n(h)-m);(p<1e-24||g>10)&&(p=0,(e==0||t==0)&&(p=1e-24,d==2&&l!=B&&(a=0),f==2&&u!=-B&&(o=0)));let _=p||h||1e3,v=hn(10,z(_n(_))),y=H(Pn(e-_*(p==0?e==0?.1:1:a),v/10),24),b=e>=l&&(d==1||d==3&&y<=l||d==2&&y>=l)?l:B,x=mn(s,y<b&&e>=b?b:pn(b,y)),S=H(Nn(t+_*(p==0?t==0?.1:1:o),v/10),24),C=t<=u&&(f==1||f==3&&S>=u||f==2&&S<=u)?u:-B,w=pn(c,S>C&&t<=C?C:mn(C,S));return x==w&&x==0&&(w=100),[x,w]}let on=new Intl.NumberFormat(Ct?Et.language:`en-US`),sn=e=>on.format(e),cn=Math,ln=cn.PI,un=cn.abs,z=cn.floor,dn=cn.round,fn=cn.ceil,pn=cn.min,mn=cn.max,hn=cn.pow,gn=cn.sign,_n=cn.log10,vn=cn.log2,yn=(e,t=1)=>cn.sinh(e)*t,bn=(e,t=1)=>cn.asinh(e/t),B=1/0;function xn(e){return(_n((e^e>>31)-(e>>31))|0)+1}function Sn(e,t,n){return pn(mn(e,t),n)}function Cn(e){return typeof e==`function`}function V(e){return Cn(e)?e:()=>e}let wn=()=>{},Tn=e=>e,En=(e,t)=>t,Dn=e=>null,On=e=>!0,kn=(e,t)=>e==t,An=/\.\d*?(?=9{6,}|0{6,})/gm,jn=e=>{if(Hn(e)||Fn.has(e))return e;let t=`${e}`,n=t.match(An);if(n==null)return e;let r=n[0].length-1;if(t.indexOf(`e-`)!=-1){let[e,n]=t.split(`e`);return+`${jn(e)}e${n}`}return H(e,r)};function Mn(e,t){return jn(H(jn(e/t))*t)}function Nn(e,t){return jn(fn(jn(e/t))*t)}function Pn(e,t){return jn(z(jn(e/t))*t)}function H(e,t=0){if(Hn(e))return e;let n=10**t;return dn(e*n*(1+2**-52))/n}let Fn=new Map;function In(e){return((``+e).split(`.`)[1]||``).length}function Ln(e,t,n,r){let i=[],a=r.map(In);for(let o=t;o<n;o++){let t=un(o),n=H(hn(e,o),t);for(let s=0;s<r.length;s++){let c=e==10?+`${r[s]}e${o}`:r[s]*n,l=(o>=0?0:t)+(o>=a[s]?0:a[s]),u=e==10?c:H(c,l);i.push(u),Fn.set(u,l)}}return i}let Rn={},zn=[],Bn=[null,null],Vn=Array.isArray,Hn=Number.isInteger,Un=e=>e===void 0;function Wn(e){return typeof e==`string`}function Gn(e){let t=!1;if(e!=null){let n=e.constructor;t=n==null||n==Object}return t}function Kn(e){return typeof e==`object`&&!!e}let qn=Object.getPrototypeOf(Uint8Array),Jn=`__proto__`;function Yn(e,t=Gn){let n;if(Vn(e)){let r=e.find(e=>e!=null);if(Vn(r)||t(r)){n=Array(e.length);for(let r=0;r<e.length;r++)n[r]=Yn(e[r],t)}else n=e.slice()}else if(e instanceof qn)n=e.slice();else if(t(e)){n={};for(let r in e)r!=Jn&&(n[r]=Yn(e[r],t))}else n=e;return n}function Xn(e){let t=arguments;for(let n=1;n<t.length;n++){let r=t[n];for(let t in r)t!=Jn&&(Gn(e[t])?Xn(e[t],Yn(r[t])):e[t]=Yn(r[t]))}return e}function Zn(e,t,n){for(let r=0,i,a=-1;r<t.length;r++){let o=t[r];if(o>a){for(i=o-1;i>=0&&e[i]==null;)e[i--]=null;for(i=o+1;i<n&&e[i]==null;)e[a=i++]=null}}}function Qn(e,t){if(tr(e)){let t=e[0].slice();for(let n=1;n<e.length;n++)t.push(...e[n].slice(1));return nr(t[0])||(t=er(t)),t}let n=new Set;for(let t=0;t<e.length;t++){let r=e[t][0],i=r.length;for(let e=0;e<i;e++)n.add(r[e])}let r=[Array.from(n).sort((e,t)=>e-t)],i=r[0].length,a=new Map;for(let e=0;e<i;e++)a.set(r[0][e],e);for(let n=0;n<e.length;n++){let o=e[n],s=o[0];for(let e=1;e<o.length;e++){let c=o[e],l=Array(i).fill(void 0),u=t?t[n][e]:1,d=[];for(let e=0;e<c.length;e++){let t=c[e],n=a.get(s[e]);t===null?u!=0&&(l[n]=t,u==2&&d.push(n)):l[n]=t}Zn(l,d,i),r.push(l)}}return r}let $n=typeof queueMicrotask>`u`?e=>Promise.resolve().then(e):queueMicrotask;function er(e){let t=e[0],n=t.length,r=Array(n);for(let e=0;e<r.length;e++)r[e]=e;r.sort((e,n)=>t[e]-t[n]);let i=[];for(let t=0;t<e.length;t++){let a=e[t],o=Array(n);for(let e=0;e<n;e++)o[e]=a[r[e]];i.push(o)}return i}function tr(e){let t=e[0][0],n=t.length;for(let r=1;r<e.length;r++){let i=e[r][0];if(i.length!=n)return!1;if(i!=t){for(let e=0;e<n;e++)if(i[e]!=t[e])return!1}}return!0}function nr(e,t=100){let n=e.length;if(n<=1)return!0;let r=0,i=n-1;for(;r<=i&&e[r]==null;)r++;for(;i>=r&&e[i]==null;)i--;if(i<=r)return!0;let a=mn(1,z((i-r+1)/t));for(let t=e[r],n=r+a;n<=i;n+=a){let r=e[n];if(r!=null){if(r<=t)return!1;t=r}}return!0}let rr=[`January`,`February`,`March`,`April`,`May`,`June`,`July`,`August`,`September`,`October`,`November`,`December`],ir=[`Sunday`,`Monday`,`Tuesday`,`Wednesday`,`Thursday`,`Friday`,`Saturday`];function ar(e){return e.slice(0,3)}let or=ir.map(ar),sr={MMMM:rr,MMM:rr.map(ar),WWWW:ir,WWW:or};function cr(e){return(e<10?`0`:``)+e}function lr(e){return(e<10?`00`:e<100?`0`:``)+e}let ur={YYYY:e=>e.getFullYear(),YY:e=>(e.getFullYear()+``).slice(2),MMMM:(e,t)=>t.MMMM[e.getMonth()],MMM:(e,t)=>t.MMM[e.getMonth()],MM:e=>cr(e.getMonth()+1),M:e=>e.getMonth()+1,DD:e=>cr(e.getDate()),D:e=>e.getDate(),WWWW:(e,t)=>t.WWWW[e.getDay()],WWW:(e,t)=>t.WWW[e.getDay()],HH:e=>cr(e.getHours()),H:e=>e.getHours(),h:e=>{let t=e.getHours();return t==0?12:t>12?t-12:t},AA:e=>e.getHours()>=12?`PM`:`AM`,aa:e=>e.getHours()>=12?`pm`:`am`,a:e=>e.getHours()>=12?`p`:`a`,mm:e=>cr(e.getMinutes()),m:e=>e.getMinutes(),ss:e=>cr(e.getSeconds()),s:e=>e.getSeconds(),fff:e=>lr(e.getMilliseconds())};function dr(e,t){t||=sr;let n=[],r=/\{([a-z]+)\}|[^{]+/gi,i;for(;i=r.exec(e);)n.push(i[0][0]==`{`?ur[i[1]]:i[0]);return e=>{let r=``;for(let i=0;i<n.length;i++)r+=typeof n[i]==`string`?n[i]:n[i](e,t);return r}}let fr=new Intl.DateTimeFormat().resolvedOptions().timeZone;function pr(e,t){let n;return t==`UTC`||t==`Etc/UTC`?n=new Date(+e+e.getTimezoneOffset()*6e4):t==fr?n=e:(n=new Date(e.toLocaleString(`en-US`,{timeZone:t})),n.setMilliseconds(e.getMilliseconds())),n}let mr=e=>e%1==0,hr=[1,2,2.5,5],gr=Ln(10,-32,0,hr),_r=Ln(10,0,32,hr),vr=_r.filter(mr),yr=gr.concat(_r),br=`{YYYY}`,xr=`
`+br,Sr=`{M}/{D}`,Cr=`
`+Sr,wr=Cr+`/{YY}`,U=`{aa}`,W=`{h}:{mm}`+U,Tr=`
`+W,Er=`:{ss}`;function Dr(e){let t=e*1e3,n=t*60,r=n*60,i=r*24,a=i*30,o=i*365,s=(e==1?Ln(10,0,3,hr).filter(mr):Ln(10,-3,0,hr)).concat([t,t*5,t*10,t*15,t*30,n,n*5,n*10,n*15,n*30,r,r*2,r*3,r*4,r*6,r*8,r*12,i,i*2,i*3,i*4,i*5,i*6,i*7,i*8,i*9,i*10,i*15,a,a*2,a*3,a*4,a*6,o,o*2,o*5,o*10,o*25,o*50,o*100]),c=[[o,br,null,null,null,null,null,null,1],[i*28,`{MMM}`,xr,null,null,null,null,null,1],[i,Sr,xr,null,null,null,null,null,1],[r,`{h}`+U,wr,null,Cr,null,null,null,1],[n,W,wr,null,Cr,null,null,null,1],[t,Er,wr+` {h}:{mm}{aa}`,null,Cr+` {h}:{mm}{aa}`,null,Tr,null,1],[e,Er+`.{fff}`,wr+` {h}:{mm}{aa}`,null,Cr+` {h}:{mm}{aa}`,null,Tr,null,1]];function l(t){return(s,c,l,u,d,f)=>{let p=[],m=d>=o,h=d>=a&&d<o,g=t(l),_=H(g*e,3),v=Lr(g.getFullYear(),m?0:g.getMonth(),h||m?1:g.getDate()),y=H(v*e,3);if(h||m){let n=h?d/a:0,r=m?d/o:0,i=_==y?_:H(Lr(v.getFullYear()+r,v.getMonth()+n,1)*e,3),s=new Date(dn(i/e)),c=s.getFullYear(),l=s.getMonth();for(let a=0;i<=u;a++){let o=Lr(c+r*a,l+n*a,1),s=o-t(H(o*e,3));i=H((+o+s)*e,3),i<=u&&p.push(i)}}else{let a=d>=i?i:d,o=y+(z(l)-z(_))+Nn(_-y,a);p.push(o);let m=t(o),h=m.getHours()+m.getMinutes()/n+m.getSeconds()/r,g=d/r,v=f/s.axes[c]._space;for(;o=H(o+d,e==1?0:3),!(o>u);)if(g>1){let e=z(H(h+g,6))%24,n=t(o).getHours()-e;n>1&&(n=-1),o-=n*r,h=(h+g)%24;let i=p[p.length-1];H((o-i)/d,3)*v>=.7&&p.push(o)}else p.push(o)}return p}}return[s,c,l]}let[Or,kr,Ar]=Dr(1),[jr,Mr,Nr]=Dr(.001);Ln(2,-53,53,[1]);function Pr(e,t){return e.map(e=>e.map((n,r)=>r==0||r==8||n==null?n:t(r==1||e[8]==0?n:e[1]+n)))}function Fr(e,t){return(n,r,i,a,o)=>{let s=t.find(e=>o>=e[0])||t[t.length-1],c,l,u,d,f,p;return r.map(t=>{let n=e(t),r=n.getFullYear(),i=n.getMonth(),a=n.getDate(),o=n.getHours(),m=n.getMinutes(),h=n.getSeconds(),g=r!=c&&s[2]||i!=l&&s[3]||a!=u&&s[4]||o!=d&&s[5]||m!=f&&s[6]||h!=p&&s[7]||s[1];return c=r,l=i,u=a,d=o,f=m,p=h,g(n)})}}function Ir(e,t){let n=dr(t);return(t,r,i,a,o)=>r.map(t=>n(e(t)))}function Lr(e,t,n){return new Date(e,t,n)}function Rr(e,t){return t(e)}function zr(e,t){return(n,r,i,a)=>a==null?`--`:t(e(r))}function G(e,t){let n=e.series[t];return n.width?n.stroke(e,t):n.points.width?n.points.stroke(e,t):null}function Br(e,t){return e.series[t].fill(e,t)}let Vr={show:!0,live:!0,isolate:!1,mount:wn,markers:{show:!0,width:2,stroke:G,fill:Br,dash:`solid`},idx:null,idxs:null,values:[]};function Hr(e,t){let n=e.cursor.points,r=Mt(),i=n.size(e,t);L(r,ct,i),L(r,lt,i);let a=i/-2;L(r,`marginLeft`,a),L(r,`marginTop`,a);let o=n.width(e,t,i);return o&&L(r,`borderWidth`,o),r}function Ur(e,t){let n=e.series[t].points;return n._fill||n._stroke}function Wr(e,t){let n=e.series[t].points;return n._stroke||n._fill}function Gr(e,t){return e.series[t].points.size}let Kr=[0,0];function qr(e,t,n){return Kr[0]=t,Kr[1]=n,Kr}function Jr(e,t,n,r=!0){return e=>{e.button==0&&(!r||e.target==t)&&n(e)}}function Yr(e,t,n,r=!0){return e=>{(!r||e.target==t)&&n(e)}}let Xr={show:!0,x:!0,y:!0,lock:!1,move:qr,points:{one:!1,show:Hr,size:Gr,width:0,stroke:Wr,fill:Ur},bind:{mousedown:Jr,mouseup:Jr,click:Jr,dblclick:Jr,mousemove:Yr,mouseleave:Yr,mouseenter:Yr},drag:{setScale:!0,x:!0,y:!1,dist:0,uni:null,click:(e,t)=>{t.stopPropagation(),t.stopImmediatePropagation()},_x:!1,_y:!1},focus:{dist:(e,t,n,r,i)=>r-i,prox:-1,bias:0},hover:{skip:[void 0],prox:null,bias:0},left:-10,top:-10,idx:null,dataIdx:null,idxs:null,event:null},Zr={show:!0,stroke:`rgba(0,0,0,0.07)`,width:2},Qr=Xn({},Zr,{filter:En}),$r=Xn({},Qr,{size:10}),ei=Xn({},Zr,{show:!1}),ti=`12px system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"`,ni=`bold `+ti,ri=1.5,ii={show:!0,scale:`x`,stroke:pt,space:50,gap:5,alignTo:1,size:50,labelGap:0,labelSize:30,labelFont:ni,side:2,grid:Qr,ticks:$r,border:ei,font:ti,lineGap:ri,rotate:0},ai={show:!0,scale:`x`,auto:!1,sorted:1,min:B,max:-B,idxs:[]};function oi(e,t,n,r,i){return t.map(e=>e==null?``:sn(e))}function si(e,t,n,r,i,a,o){let s=[],c=Fn.get(i)||0;n=o?n:H(Nn(n,i),c);for(let e=n;e<=r;e=H(e+i,c))s.push(Object.is(e,-0)?0:e);return s}function ci(e,t,n,r,i,a,o){let s=[],c=e.scales[e.axes[t].scale].log;i=hn(c,z((c==10?_n:vn)(n))),c==10&&(i=yr[Ut(i,yr)]);let l=n,u=i*c;c==10&&(u=yr[Ut(u,yr)]);do s.push(l),l+=i,c==10&&!Fn.has(l)&&(l=H(l,Fn.get(i))),l>=u&&(i=l,u=i*c,c==10&&(u=yr[Ut(u,yr)]));while(l<=r);return s}function li(e,t,n,r,i,a,o){let s=e.scales[e.axes[t].scale].asinh,c=r>s?ci(e,t,mn(s,n),r,i):[s],l=r>=0&&n<=0?[0]:[];return(n<-s?ci(e,t,mn(s,-r),-n,i):[s]).reverse().map(e=>-e).concat(l,c)}let ui=/./,di=/[12357]/,fi=/[125]/,pi=/1/,mi=(e,t,n,r)=>e.map((e,i)=>t==4&&e==0||i%r==0&&n.test(e.toExponential()[e<0?1:0])?e:null);function hi(e,t,n,r,i){let a=e.axes[n],o=a.scale,s=e.scales[o],c=e.valToPos,l=a._space,u=c(10,o),d=c(9,o)-u>=l?ui:c(7,o)-u>=l?di:c(5,o)-u>=l?fi:pi;if(d==pi){let e=un(c(1,o)-u);if(e<l)return mi(t.slice().reverse(),s.distr,d,fn(l/e)).reverse()}return mi(t,s.distr,d,1)}function gi(e,t,n,r,i){let a=e.axes[n],o=a.scale,s=a._space,c=e.valToPos,l=un(c(1,o)-c(2,o));return l<s?mi(t.slice().reverse(),3,ui,fn(s/l)).reverse():t}function _i(e,t,n,r){return r==null?`--`:t==null?``:sn(t)}let vi={show:!0,scale:`y`,stroke:pt,space:30,gap:5,alignTo:1,size:50,labelGap:0,labelSize:30,labelFont:ni,side:3,grid:Qr,ticks:$r,border:ei,font:ti,lineGap:ri,rotate:0};function yi(e,t){return H((3+(e||1)*2)*t,3)}function bi(e,t){let{scale:n,idxs:r}=e.series[0],i=e._data[0],a=e.valToPos(i[r[0]],n,!0),o=un(e.valToPos(i[r[1]],n,!0)-a)/(e.series[t].points.space*I);return r[1]-r[0]<=o}let xi={scale:null,auto:!0,sorted:0,min:B,max:-B},Si=(e,t,n,r,i)=>i,Ci={show:!0,auto:!0,sorted:0,gaps:Si,alpha:1,facets:[Xn({},xi,{scale:`x`}),Xn({},xi,{scale:`y`})]},wi={scale:`y`,auto:!0,sorted:0,show:!0,spanGaps:!1,gaps:Si,alpha:1,points:{show:bi,filter:null},values:null,min:B,max:-B,idxs:[],path:null,clip:null};function Ti(e,t,n,r,i){return n/10}let Ei={time:!0,auto:!0,distr:1,log:10,asinh:1,min:null,max:null,dir:1,ori:0},Di=Xn({},Ei,{time:!1,ori:1}),Oi={};function ki(e,t){let n=Oi[e];return n||(n={key:e,plots:[],sub(e){n.plots.push(e)},unsub(e){n.plots=n.plots.filter(t=>t!=e)},pub(e,t,r,i,a,o,s){for(let c=0;c<n.plots.length;c++)n.plots[c]!=t&&n.plots[c].pub(e,t,r,i,a,o,s)}},e!=null&&(Oi[e]=n)),n}function Ai(e,t,n){let r=e.mode,i=e.series[t],a=r==2?e._data[t]:e._data,o=e.scales,s=e.bbox,c=a[0],l=r==2?a[1]:a[t],u=r==2?o[i.facets[0].scale]:o[e.series[0].scale],d=r==2?o[i.facets[1].scale]:o[i.scale],f=s.left,p=s.top,m=s.width,h=s.height,g=e.valToPosH,_=e.valToPosV;return u.ori==0?n(i,c,l,u,d,g,_,f,p,m,h,zi,Vi,Ui,Gi,qi):n(i,c,l,u,d,_,g,p,f,h,m,Bi,Hi,Wi,Ki,Ji)}function ji(e,t){let n=0,r=0,i=R(e.bands,zn);for(let e=0;e<i.length;e++){let a=i[e];a.series[0]==t?n=a.dir:a.series[1]==t&&(a.dir==1?r|=1:r|=2)}return[n,r==1?-1:r==2?1:r==3?2:0]}function Mi(e,t,n,r,i){let a=e.mode,o=e.series[t],s=a==2?o.facets[1].scale:o.scale,c=e.scales[s];return i==-1?c.min:i==1?c.max:c.distr==3?c.dir==1?c.min:c.max:0}function Ni(e,t,n,r,i,a){return Ai(e,t,(e,t,o,s,c,l,u,d,f,p,m)=>{let h=e.pxRound,g=s.dir*(s.ori==0?1:-1),_=s.ori==0?Vi:Hi,v,y;g==1?(v=n,y=r):(v=r,y=n);let b=h(l(t[v],s,p,d)),x=h(u(o[v],c,m,f)),S=h(l(t[y],s,p,d)),C=h(u(a==1?c.max:c.min,c,m,f)),w=new Path2D(i);return _(w,S,C),_(w,b,C),_(w,b,x),w})}function Pi(e,t,n,r,i,a){let o=null;if(e.length>0){o=new Path2D;let s=t==0?Ui:Wi,c=n;for(let t=0;t<e.length;t++){let n=e[t];if(n[1]>n[0]){let e=n[0]-c;e>0&&s(o,c,r,e,r+a),c=n[1]}}let l=n+i-c;l>0&&s(o,c,r-10/2,l,r+a+10)}return o}function Fi(e,t,n){let r=e[e.length-1];r&&r[0]==t?r[1]=n:e.push([t,n])}function Ii(e,t,n,r,i,a,o){let s=[],c=e.length;for(let l=i==1?n:r;l>=n&&l<=r;l+=i)if(t[l]===null){let u=l,d=l;if(i==1)for(;++l<=r&&t[l]===null;)d=l;else for(;--l>=n&&t[l]===null;)d=l;let f=a(e[u]),p=d==u?f:a(e[d]),m=u-i;f=o<=0&&m>=0&&m<c?a(e[m]):f;let h=d+i;p=o>=0&&h>=0&&h<c?a(e[h]):p,p>=f&&s.push([f,p])}return s}function Li(e){return e==0?Tn:e==1?dn:t=>Mn(t,e)}function Ri(e){let t=e==0?zi:Bi,n=e==0?(e,t,n,r,i,a)=>{e.arcTo(t,n,r,i,a)}:(e,t,n,r,i,a)=>{e.arcTo(n,t,i,r,a)},r=e==0?(e,t,n,r,i)=>{e.rect(t,n,r,i)}:(e,t,n,r,i)=>{e.rect(n,t,i,r)};return(e,i,a,o,s,c=0,l=0)=>{c==0&&l==0?r(e,i,a,o,s):(c=pn(c,o/2,s/2),l=pn(l,o/2,s/2),t(e,i+c,a),n(e,i+o,a,i+o,a+s,c),n(e,i+o,a+s,i,a+s,l),n(e,i,a+s,i,a,l),n(e,i,a,i+o,a,c),e.closePath())}}let zi=(e,t,n)=>{e.moveTo(t,n)},Bi=(e,t,n)=>{e.moveTo(n,t)},Vi=(e,t,n)=>{e.lineTo(t,n)},Hi=(e,t,n)=>{e.lineTo(n,t)},Ui=Ri(0),Wi=Ri(1),Gi=(e,t,n,r,i,a)=>{e.arc(t,n,r,i,a)},Ki=(e,t,n,r,i,a)=>{e.arc(n,t,r,i,a)},qi=(e,t,n,r,i,a,o)=>{e.bezierCurveTo(t,n,r,i,a,o)},Ji=(e,t,n,r,i,a,o)=>{e.bezierCurveTo(n,t,i,r,o,a)};function Yi(e){return(e,t,n,r,i)=>Ai(e,t,(t,a,o,s,c,l,u,d,f,p,m)=>{let{pxRound:h,points:g}=t,_,v;s.ori==0?(_=zi,v=Gi):(_=Bi,v=Ki);let y=H(g.width*I,3),b=(g.size-g.width)/2*I,x=H(b*2,3),S=new Path2D,C=new Path2D,{left:w,top:T,width:E,height:D}=e.bbox;Ui(C,w-x,T-x,E+x*2,D+x*2);let ee=e=>{if(o[e]!=null){let t=h(l(a[e],s,p,d)),n=h(u(o[e],c,m,f));_(S,t+b,n),v(S,t,n,b,0,ln*2)}};if(i)i.forEach(ee);else for(let e=n;e<=r;e++)ee(e);return{stroke:y>0?S:null,fill:S,clip:C,flags:3}})}function Xi(e){return(t,n,r,i,a,o)=>{r!=i&&(a!=r&&o!=r&&e(t,n,r),a!=i&&o!=i&&e(t,n,i),e(t,n,o))}}let Zi=Xi(Vi),Qi=Xi(Hi);function $i(e){let t=R(e?.alignGaps,0);return(e,n,r,i)=>Ai(e,n,(a,o,s,c,l,u,d,f,p,m,h)=>{[r,i]=qt(s,r,i);let g=a.pxRound,_=e=>g(u(e,c,m,f)),v=e=>g(d(e,l,h,p)),y,b;c.ori==0?(y=Vi,b=Zi):(y=Hi,b=Qi);let x=c.dir*(c.ori==0?1:-1),S={stroke:new Path2D,fill:null,clip:null,band:null,gaps:null,flags:1},C=S.stroke,w=!1;if(i-r>=m*4){let t=t=>e.posToVal(t,c.key,!0),n=null,a=null,l,u,d=_(o[x==1?r:i]),f=_(o[r]),p=_(o[i]),m=t(x==1?f+1:p-1);for(let e=x==1?r:i;e>=r&&e<=i;e+=x){let r=o[e],i=(x==1?r<m:r>m)?d:_(r),c=s[e];i==d?c==null?c===null&&(w=!0):(u=c,n==null?(y(C,i,v(u)),l=n=a=u):u<n?n=u:u>a&&(a=u)):(n!=null&&b(C,d,v(n),v(a),v(l),v(u)),c==null?(n=a=null,c===null&&(w=!0)):(u=c,y(C,i,v(u)),n=a=l=u),d=i,m=t(d+x))}n!=null&&n!=a&&d!=null&&b(C,d,v(n),v(a),v(l),v(u))}else for(let e=x==1?r:i;e>=r&&e<=i;e+=x){let t=s[e];t===null?w=!0:t!=null&&y(C,_(o[e]),v(t))}let[T,E]=ji(e,n);if(a.fill!=null||T!=0){let t=S.fill=new Path2D(C),s=v(a.fillTo(e,n,a.min,a.max,T)),c=_(o[r]),l=_(o[i]);x==-1&&([l,c]=[c,l]),y(t,l,s),y(t,c,s)}if(!a.spanGaps){let l=[];w&&l.push(...Ii(o,s,r,i,x,_,t)),S.gaps=l=a.gaps(e,n,r,i,l),S.clip=Pi(l,c.ori,f,p,m,h)}return E!=0&&(S.band=E==2?[Ni(e,n,r,i,C,-1),Ni(e,n,r,i,C,1)]:Ni(e,n,r,i,C,E)),S})}function ea(e){let t=R(e.align,1),n=R(e.ascDesc,!1),r=R(e.alignGaps,0),i=R(e.extend,!1);return(e,a,o,s)=>Ai(e,a,(c,l,u,d,f,p,m,h,g,_,v)=>{[o,s]=qt(u,o,s);let y=c.pxRound,{left:b,width:x}=e.bbox,S=e=>y(p(e,d,_,h)),C=e=>y(m(e,f,v,g)),w=d.ori==0?Vi:Hi,T={stroke:new Path2D,fill:null,clip:null,band:null,gaps:null,flags:1},E=T.stroke,D=d.dir*(d.ori==0?1:-1),ee=C(u[D==1?o:s]),te=S(l[D==1?o:s]),ne=te,O=te;i&&t==-1&&(O=b,w(E,O,ee)),w(E,te,ee);for(let e=D==1?o:s;e>=o&&e<=s;e+=D){let n=u[e];if(n==null)continue;let r=S(l[e]),i=C(n);t==1?w(E,r,ee):w(E,ne,i),w(E,r,i),ee=i,ne=r}let re=ne;i&&t==1&&(re=b+x,w(E,re,ee));let[ie,ae]=ji(e,a);if(c.fill!=null||ie!=0){let t=T.fill=new Path2D(E),n=C(c.fillTo(e,a,c.min,c.max,ie));w(t,re,n),w(t,O,n)}if(!c.spanGaps){let i=[];i.push(...Ii(l,u,o,s,D,S,r));let f=c.width*I/2,p=n||t==1?f:-f,m=n||t==-1?-f:f;i.forEach(e=>{e[0]+=p,e[1]+=m}),T.gaps=i=c.gaps(e,a,o,s,i),T.clip=Pi(i,d.ori,h,g,_,v)}return ae!=0&&(T.band=ae==2?[Ni(e,a,o,s,E,-1),Ni(e,a,o,s,E,1)]:Ni(e,a,o,s,E,ae)),T})}function ta(e,t,n,r,i,a,o=B){if(e.length>1){let s=null;for(let c=0,l=1/0;c<e.length;c++)if(t[c]!==void 0){if(s!=null){let t=un(e[c]-e[s]);t<l&&(l=t,o=un(n(e[c],r,i,a)-n(e[s],r,i,a)))}s=c}}return o}function na(e){e||=Rn;let t=R(e.size,[.6,B,1]),n=e.align||0,r=e.gap||0,i=e.radius;i=i==null?[0,0]:typeof i==`number`?[i,0]:i;let a=V(i),o=1-t[0],s=R(t[1],B),c=R(t[2],1),l=R(e.disp,Rn),u=R(e.each,e=>{}),{fill:d,stroke:f}=l;return(e,t,i,p)=>Ai(e,t,(m,h,g,_,v,y,b,x,S,C,w)=>{let T=m.pxRound,E=n,D=r*I,ee=s*I,te=c*I,ne,O;_.ori==0?[ne,O]=a(e,t):[O,ne]=a(e,t);let re=_.dir*(_.ori==0?1:-1),ie=_.ori==0?Ui:Wi,ae=_.ori==0?u:(e,t,n,r,i,a,o)=>{u(e,t,n,i,r,o,a)},oe=R(e.bands,zn).find(e=>e.series[0]==t),k=oe==null?0:oe.dir,se=m.fillTo(e,t,m.min,m.max,k),A=T(b(se,v,w,S)),j,ce,le,M=C,N=T(m.width*I),ue=!1,de=null,fe=null,pe=null,me=null;d!=null&&(N==0||f!=null)&&(ue=!0,de=d.values(e,t,i,p),fe=new Map,new Set(de).forEach(e=>{e!=null&&fe.set(e,new Path2D)}),N>0&&(pe=f.values(e,t,i,p),me=new Map,new Set(pe).forEach(e=>{e!=null&&me.set(e,new Path2D)})));let{x0:he,size:ge}=l;if(he!=null&&ge!=null){E=1,h=he.values(e,t,i,p),he.unit==2&&(h=h.map(t=>e.posToVal(x+t*C,_.key,!0)));let n=ge.values(e,t,i,p);ce=ge.unit==2?n[0]*C:y(n[0],_,C,x)-y(0,_,C,x),M=ta(h,g,y,_,C,x,M),le=M-ce+D}else M=ta(h,g,y,_,C,x,M),le=M*o+D,ce=M-le;le<1&&(le=0),N>=ce/2&&(N=0),le<5&&(T=Tn);let _e=le>0,ve=M-le-(_e?N:0);ce=T(Sn(ve,te,ee)),j=(E==0?ce/2:E==re?0:ce)-E*re*((E==0?D/2:0)+(_e?N/2:0));let ye={stroke:null,fill:null,clip:null,band:null,gaps:null,flags:0},be=ue?null:new Path2D,xe=null;if(oe!=null)xe=e.data[oe.series[1]];else{let{y0:n,y1:r}=l;n!=null&&r!=null&&(g=r.values(e,t,i,p),xe=n.values(e,t,i,p))}let Se=ne*ce,Ce=O*ce;for(let n=re==1?i:p;n>=i&&n<=p;n+=re){let r=g[n];if(r==null)continue;if(xe!=null){let e=xe[n]??0;if(r-e==0)continue;A=b(e,v,w,S)}let i=y(_.distr!=2||l!=null?h[n]:n,_,C,x),a=b(R(r,se),v,w,S),o=T(i-j),s=T(mn(a,A)),c=T(pn(a,A)),u=s-c;if(r!=null){let i=r<0?Ce:Se,a=r<0?Se:Ce;ue?(N>0&&pe[n]!=null&&ie(me.get(pe[n]),o,c+z(N/2),ce,mn(0,u-N),i,a),de[n]!=null&&ie(fe.get(de[n]),o,c+z(N/2),ce,mn(0,u-N),i,a)):ie(be,o,c+z(N/2),ce,mn(0,u-N),i,a),ae(e,t,n,o-N/2,c,ce+N,u)}}return N>0?ye.stroke=ue?me:be:ue||(ye._fill=m.width==0?m._fill:m._stroke??m._fill,ye.width=0),ye.fill=ue?fe:be,ye})}function ra(e,t){let n=R(t?.alignGaps,0);return(t,r,i,a)=>Ai(t,r,(o,s,c,l,u,d,f,p,m,h,g)=>{[i,a]=qt(c,i,a);let _=o.pxRound,v=e=>_(d(e,l,h,p)),y=e=>_(f(e,u,g,m)),b,x,S;l.ori==0?(b=zi,S=Vi,x=qi):(b=Bi,S=Hi,x=Ji);let C=l.dir*(l.ori==0?1:-1),w=v(s[C==1?i:a]),T=w,E=[],D=[];for(let e=C==1?i:a;e>=i&&e<=a;e+=C)if(c[e]!=null){let t=s[e],n=v(t);E.push(T=n),D.push(y(c[e]))}let ee={stroke:e(E,D,b,S,x,_),fill:null,clip:null,band:null,gaps:null,flags:1},te=ee.stroke,[ne,O]=ji(t,r);if(o.fill!=null||ne!=0){let e=ee.fill=new Path2D(te),n=y(o.fillTo(t,r,o.min,o.max,ne));S(e,T,n),S(e,w,n)}if(!o.spanGaps){let e=[];e.push(...Ii(s,c,i,a,C,v,n)),ee.gaps=e=o.gaps(t,r,i,a,e),ee.clip=Pi(e,l.ori,p,m,h,g)}return O!=0&&(ee.band=O==2?[Ni(t,r,i,a,te,-1),Ni(t,r,i,a,te,1)]:Ni(t,r,i,a,te,O)),ee})}function ia(e){return ra(aa,e)}function aa(e,t,n,r,i,a){let o=e.length;if(o<2)return null;let s=new Path2D;if(n(s,e[0],t[0]),o==2)r(s,e[1],t[1]);else{let n=Array(o),r=Array(o-1),a=Array(o-1),c=Array(o-1);for(let n=0;n<o-1;n++)a[n]=t[n+1]-t[n],c[n]=e[n+1]-e[n],r[n]=a[n]/c[n];n[0]=r[0];for(let e=1;e<o-1;e++)r[e]===0||r[e-1]===0||r[e-1]>0!=r[e]>0?n[e]=0:(n[e]=3*(c[e-1]+c[e])/((2*c[e]+c[e-1])/r[e-1]+(c[e]+2*c[e-1])/r[e]),isFinite(n[e])||(n[e]=0));n[o-1]=r[o-2];for(let r=0;r<o-1;r++)i(s,e[r]+c[r]/3,t[r]+n[r]*c[r]/3,e[r+1]-c[r]/3,t[r+1]-n[r+1]*c[r]/3,e[r+1],t[r+1])}return s}let oa=new Set;function sa(){for(let e of oa)e.syncRect(!0)}Ct&&(Vt(`resize`,Tt,sa),Vt(`scroll`,Tt,sa,!0),Vt(St,Tt,()=>{Ca.pxRatio=I}));let ca=$i(),la=Yi();function ua(e,t,n,r){return(r?[e[0],e[1]].concat(e.slice(2)):[e[0]].concat(e.slice(1))).map((e,r)=>fa(e,r,t,n))}function da(e,t){return e.map((e,n)=>n==0?{}:Xn({},t,e))}function fa(e,t,n,r){return Xn({},t==0?n:r,e)}function pa(e,t,n){return t==null?Bn:[t,n]}let ma=pa;function ha(e,t,n){return t==null?Bn:nn(t,n,Qt,!0)}function ga(e,t,n,r){return t==null?Bn:Xt(t,n,e.scales[r].log,!1)}let _a=ga;function va(e,t,n,r){return t==null?Bn:Zt(t,n,e.scales[r].log,!1)}let ya=va;function ba(e,t,n,r,i){let a=mn(xn(e),xn(t)),o=t-e,s=Ut(i/r*o,n);do{let e=n[s],t=r*e/o;if(t>=i&&a+(e<5?Fn.get(e):0)<=17)return[e,t]}while(++s<n.length);return[0,0]}function xa(e){let t,n;return e=e.replace(/(\d+)px/,(e,r)=>(t=dn((n=+r)*I))+`px`),[e,t,n]}function Sa(e){e.show&&[e.font,e.labelFont].forEach(e=>{let t=H(e[2]*I,1);e[0]=e[0].replace(/[0-9.]+px/,t+`px`),e[1]=t})}function Ca(e,t,n){let r={mode:R(e.mode,1)},i=r.mode;function a(e,t,n,r){let i=t.valToPct(e);return r+n*(t.dir==-1?1-i:i)}function o(e,t,n,r){let i=t.valToPct(e);return r+n*(t.dir==-1?i:1-i)}function s(e,t,n,r){return t.ori==0?a(e,t,n,r):o(e,t,n,r)}r.valToPosH=a,r.valToPosV=o;let c=!1;r.status=0;let l=r.root=Mt(`uplot`);if(e.id!=null&&(l.id=e.id),kt(l,e.class),e.title){let t=Mt(`u-title`,l);t.textContent=e.title}let u=jt(`canvas`),d=r.ctx=u.getContext(`2d`),f=Mt(`u-wrap`,l);Vt(`click`,f,e=>{e.target===m&&(U!=xr||W!=Sr)&&Er.click(r,e)},!0);let p=r.under=Mt(`u-under`,f);f.appendChild(u);let m=r.over=Mt(`u-over`,f);e=Yn(e);let h=+R(e.pxAlign,1),g=Li(h);(e.plugins||[]).forEach(t=>{t.opts&&(e=t.opts(r,e)||e)});let _=e.ms||.001,v=r.series=i==1?ua(e.series||[],ai,wi,!1):da(e.series||[null],Ci),y=r.axes=ua(e.axes||[],ii,vi,!0),b=r.scales={},x=r.bands=e.bands||[];x.forEach(e=>{e.fill=V(e.fill||null),e.dir=R(e.dir,-1)});let S=i==2?v[1].facets[0].scale:v[0].scale,C={axes:nr,series:jn},w=(e.drawOrder||[`axes`,`series`]).map(e=>C[e]);function T(e){let t=e.distr==3?t=>_n(t>0?t:e.clamp(r,t,e.min,e.max,e.key)):e.distr==4?t=>bn(t,e.asinh):e.distr==100?t=>e.fwd(t):e=>e;return n=>{let r=t(n),{_min:i,_max:a}=e,o=a-i;return(r-i)/o}}function E(t){let n=b[t];if(n==null){let r=(e.scales||Rn)[t]||Rn;if(r.from!=null){E(r.from);let e=Xn({},b[r.from],r,{key:t});e.valToPct=T(e),b[t]=e}else{n=b[t]=Xn({},t==S?Ei:Di,r),n.key=t;let e=n.time,a=n.range,o=Vn(a);if((t!=S||i==2&&!e)&&(o&&(a[0]==null||a[1]==null)&&(a={min:a[0]==null?$t:{mode:1,hard:a[0],soft:a[0]},max:a[1]==null?$t:{mode:1,hard:a[1],soft:a[1]}},o=!1),!o&&Gn(a))){let e=a;a=(t,n,r)=>n==null?Bn:nn(n,r,e)}n.range=V(a||(e?ma:t==S?n.distr==3?_a:n.distr==4?ya:pa:n.distr==3?ga:n.distr==4?va:ha)),n.auto=V(o?!1:n.auto),n.clamp=V(n.clamp||Ti),n._min=n._max=null,n.valToPct=T(n)}}}E(`x`),E(`y`),i==1&&v.forEach(e=>{E(e.scale)}),y.forEach(e=>{E(e.scale)});for(let t in e.scales)E(t);let D=b[S],ee=D.distr,te,ne;D.ori==0?(kt(l,`u-hz`),te=a,ne=o):(kt(l,`u-vt`),te=o,ne=a);let O={};for(let e in b){let t=b[e];(t.min!=null||t.max!=null)&&(O[e]={min:t.min,max:t.max},t.min=t.max=null)}let re=e.tzDate||(e=>new Date(dn(e/_))),ie=e.fmtDate||dr,ae=_==1?Ar(re):Nr(re),oe=Fr(re,Pr(_==1?kr:Mr,ie)),k=zr(re,Rr(`{YYYY}-{MM}-{DD} {h}:{mm}{aa}`,ie)),se=[],A=r.legend=Xn({},Vr,e.legend),j=r.cursor=Xn({},Xr,{drag:{y:i==2}},e.cursor),ce=A.show,le=j.show,M=A.markers;A.idxs=se,M.width=V(M.width),M.dash=V(M.dash),M.stroke=V(M.stroke),M.fill=V(M.fill);let N,ue,de,fe=[],pe=[],me,he=!1,ge={};if(A.live){let e=v[1]?v[1].values:null;he=e!=null,me=he?e(r,1,0):{_:0};for(let e in me)ge[e]=`--`}if(ce)if(N=jt(`table`,`u-legend`,l),de=jt(`tbody`,null,N),A.mount(r,N),he){ue=jt(`thead`,null,N,de);let e=jt(`tr`,null,ue);for(var _e in jt(`th`,null,e),me)jt(`th`,st,e).textContent=_e}else kt(N,`u-inline`),A.live&&kt(N,`u-live`);let ve={show:!0},ye={show:!1};function be(e,t){if(t==0&&(he||!A.live||i==2))return Bn;let n=[],a=jt(`tr`,`u-series`,de,de.childNodes[t]);kt(a,e.class),e.show||kt(a,ot);let o=jt(`th`,null,a);if(M.show){let e=Mt(`u-marker`,o);if(t>0){let n=M.width(r,t);n&&(e.style.border=n+`px `+M.dash(r,t)+` `+M.stroke(r,t)),e.style.background=M.fill(r,t)}}let s=Mt(st,o);for(var c in e.label instanceof HTMLElement?s.appendChild(e.label):s.textContent=e.label,t>0&&(M.show||(s.style.color=e.width>0?M.stroke(r,t):M.fill(r,t)),Se(`click`,o,t=>{if(j._lock)return;Je(t);let n=v.indexOf(e);if((t.ctrlKey||t.metaKey)!=A.isolate){let e=v.some((e,t)=>t>0&&t!=n&&e.show);v.forEach((t,r)=>{r>0&&Gr(r,e?r==n?ve:ye:ve,!0,Xi.setSeries)})}else Gr(n,{show:!e.show},!0,Xi.setSeries)},!1),Ze&&Se(vt,o,t=>{j._lock||(Je(t),Gr(v.indexOf(e),ei,!0,Xi.setSeries))},!1)),me){let e=jt(`td`,`u-value`,a);e.textContent=`--`,n.push(e)}return[a,n]}let xe=new Map;function Se(e,t,n,i=!0){let a=xe.get(t)||{},o=j.bind[e](r,t,n,i);o&&(Vt(e,t,a[e]=o),xe.set(t,a))}function Ce(e,t,n){let r=xe.get(t)||{};for(let n in r)(e==null||n==e)&&(Ht(n,t,r[n]),delete r[n]);e??xe.delete(t)}let we=0,Te=0,P=0,F=0,Ee=0,De=0,Oe=Ee,ke=De,Ae=P,je=F,Me=0,Ne=0,Pe=0,Fe=0;r.bbox={};let Ie=!1,Le=!1,Re=!1,ze=!1,Be=!1,Ve=!1;function He(e,t,n){(n||e!=r.width||t!=r.height)&&Ue(e,t),rr(!1),Re=!0,Le=!0,cr()}function Ue(e,t){r.width=we=P=e,r.height=Te=F=t,Ee=De=0,Ke(),qe();let n=r.bbox;Me=n.left=Mn(Ee*I,.5),Ne=n.top=Mn(De*I,.5),Pe=n.width=Mn(P*I,.5),Fe=n.height=Mn(F*I,.5)}function We(){let e=!1,t=0;for(;!e;){t++;let n=er(t),i=tr(t);e=t==3||n&&i,e||(Ue(r.width,r.height),Le=!0)}}function Ge({width:e,height:t}){He(e,t)}r.setSize=Ge;function Ke(){let e=!1,t=!1,n=!1,r=!1;y.forEach((i,a)=>{if(i.show&&i._show){let{side:a,_size:o}=i,s=a%2,c=o+(i.label==null?0:i.labelSize);c>0&&(s?(P-=c,a==3?(Ee+=c,r=!0):n=!0):(F-=c,a==0?(De+=c,e=!0):t=!0))}}),pt[0]=e,pt[1]=n,pt[2]=t,pt[3]=r,P-=Dt[1]+Dt[3],Ee+=Dt[3],F-=Dt[2]+Dt[0],De+=Dt[0]}function qe(){let e=Ee+P,t=De+F,n=Ee,r=De;function i(i,a){switch(i){case 1:return e+=a,e-a;case 2:return t+=a,t-a;case 3:return n-=a,n+a;case 0:return r-=a,r+a}}y.forEach((e,t)=>{if(e.show&&e._show){let t=e.side;e._pos=i(t,e._size),e.label!=null&&(e._lpos=i(t,e.labelSize))}})}if(j.dataIdx==null){let e=j.hover,n=e.skip=new Set(e.skip??[]);n.add(void 0);let r=e.prox=V(e.prox),i=e.bias??=0;j.dataIdx=(e,a,o,s)=>{if(a==0)return o;let c=o,l=r(e,a,o,s)??B,u=l>=0&&l<B,d=D.ori==0?P:F,f=j.left,p=t[0],m=t[a];if(n.has(m[o])){c=null;let e=null,t=null,r;if(i==0||i==-1)for(r=o;e==null&&r-- >0;)n.has(m[r])||(e=r);if(i==0||i==1)for(r=o;t==null&&r++<m.length;)n.has(m[r])||(t=r);if(e!=null||t!=null)if(u){let n=e==null?-1/0:te(p[e],D,d,0),r=t==null?1/0:te(p[t],D,d,0),i=f-n,a=r-f;i<=a?i<=l&&(c=e):a<=l&&(c=t)}else c=t==null?e:e==null?t:o-e<=t-o?e:t}else u&&un(f-te(p[o],D,d,0))>l&&(c=null);return c}}let Je=e=>{j.event=e};j.idxs=se,j._lock=!1;let Ye=j.points;Ye.show=V(Ye.show),Ye.size=V(Ye.size),Ye.stroke=V(Ye.stroke),Ye.width=V(Ye.width),Ye.fill=V(Ye.fill);let Xe=r.focus=Xn({},e.focus||{alpha:.3},j.focus),Ze=Xe.prox>=0,Qe=Ze&&Ye.one,$e=[],et=[],tt=[];function nt(e,t){let n=Ye.show(r,t);if(n instanceof HTMLElement)return kt(n,`u-cursor-pt`),kt(n,e.class),Pt(n,-10,-10,P,F),m.insertBefore(n,$e[t]),n}function rt(e,t){if(i==1||t>0){let t=i==1&&b[e.scale].time,n=e.value;e.value=t?Wn(n)?zr(re,Rr(n,ie)):n||k:n||_i,e.label=e.label||(t?`Time`:`Value`)}if(Qe||t>0){e.width=e.width==null?1:e.width,e.paths=e.paths||ca||Dn,e.fillTo=V(e.fillTo||Mi),e.pxAlign=+R(e.pxAlign,h),e.pxRound=Li(e.pxAlign),e.stroke=V(e.stroke||null),e.fill=V(e.fill||null),e._stroke=e._fill=e._paths=e._focus=null;let t=yi(mn(1,e.width),1),n=e.points=Xn({},{size:t,width:mn(1,t*.2),stroke:e.stroke,space:t*2,paths:la,_stroke:null,_fill:null},e.points);n.show=V(n.show),n.filter=V(n.filter),n.fill=V(n.fill),n.stroke=V(n.stroke),n.paths=V(n.paths),n.pxAlign=e.pxAlign}if(ce){let n=be(e,t);fe.splice(t,0,n[0]),pe.splice(t,0,n[1]),A.values.push(null)}if(le){se.splice(t,0,null);let n=null;Qe?t==0&&(n=nt(e,t)):t>0&&(n=nt(e,t)),$e.splice(t,0,n),et.splice(t,0,0),tt.splice(t,0,0)}Ji(`addSeries`,t)}function it(e,t){t??=v.length,e=i==1?fa(e,t,ai,wi):fa(e,t,{},Ci),v.splice(t,0,e),rt(v[t],t)}r.addSeries=it;function at(e){if(v.splice(e,1),ce){A.values.splice(e,1),pe.splice(e,1);let t=fe.splice(e,1)[0];Ce(null,t.firstChild),t.remove()}le&&(se.splice(e,1),$e.splice(e,1)[0].remove(),et.splice(e,1),tt.splice(e,1)),Ji(`delSeries`,e)}r.delSeries=at;let pt=[!1,!1,!1,!1];function xt(e,t){if(e._show=e.show,e.show){let n=e.side%2,i=b[e.scale];i??=(e.scale=n?v[1].scale:S,b[e.scale]);let a=i.time;e.size=V(e.size),e.space=V(e.space),e.rotate=V(e.rotate),Vn(e.incrs)&&e.incrs.forEach(e=>{!Fn.has(e)&&Fn.set(e,In(e))}),e.incrs=V(e.incrs||(i.distr==2?vr:a?_==1?Or:jr:yr)),e.splits=V(e.splits||(a&&i.distr==1?ae:i.distr==3?ci:i.distr==4?li:si)),e.stroke=V(e.stroke),e.grid.stroke=V(e.grid.stroke),e.ticks.stroke=V(e.ticks.stroke),e.border.stroke=V(e.border.stroke);let o=e.values;e.values=Vn(o)&&!Vn(o[0])?V(o):a?Vn(o)?Fr(re,Pr(o,ie)):Wn(o)?Ir(re,o):o||oe:o||oi,e.filter=V(e.filter||(i.distr>=3&&i.log==10?hi:i.distr==3&&i.log==2?gi:En)),e.font=xa(e.font),e.labelFont=xa(e.labelFont),e._size=e.size(r,null,t,0),e._space=e._rotate=e._incrs=e._found=e._splits=e._values=null,e._size>0&&(pt[t]=!0,e._el=Mt(`u-axis`,f))}}function Ct(e,t,n,r){let[i,a,o,s]=n,c=t%2,l=0;return c==0&&(s||a)&&(l=t==0&&!i||t==2&&!o?dn(ii.size/3):0),c==1&&(i||o)&&(l=t==1&&!a||t==3&&!s?dn(vi.size/2):0),l}let Et=r.padding=(e.padding||[Ct,Ct,Ct,Ct]).map(e=>V(R(e,Ct))),Dt=r._padding=Et.map((e,t)=>e(r,t,pt,0)),Ot,Nt=null,Ft=null,Lt=i==1?v[0].idxs:null,zt=null,Bt=!1;function Wt(e,n){if(t=e??[],r.data=r._data=t,i==2){Ot=0;for(let e=1;e<v.length;e++)Ot+=t[e][0].length}else{t.length==0&&(r.data=r._data=t=[[]]),zt=t[0],Ot=zt.length;let e=t;if(ee==2){e=t.slice();let n=e[0]=Array(Ot);for(let e=0;e<Ot;e++)n[e]=e}r._data=t=e}if(rr(!0),Ji(`setData`),ee==2&&(Re=!0),n!==!1){let e=D;e.auto(r,Bt)?Gt():Wr(S,e.min,e.max),ze||=j.left>=0,Ve=!0,cr()}}r.setData=Wt;function Gt(){Bt=!0;let e,n;i==1&&(Ot>0?(Nt=Lt[0]=0,Ft=Lt[1]=Ot-1,e=t[0][Nt],n=t[0][Ft],ee==2?(e=Nt,n=Ft):e==n&&(ee==3?[e,n]=Xt(e,e,D.log,!1):ee==4?[e,n]=Zt(e,e,D.log,!1):D.time?n=e+dn(86400/_):[e,n]=nn(e,n,Qt,!0))):(Nt=Lt[0]=e=null,Ft=Lt[1]=n=null)),Wr(S,e,n)}let Kt,qt,Jt,en,tn,an,on,sn,cn,z;function gn(e,t,n,r,i,a){e??=mt,n??=zn,r??=`butt`,i??=mt,a??=`round`,e!=Kt&&(d.strokeStyle=Kt=e),i!=qt&&(d.fillStyle=qt=i),t!=Jt&&(d.lineWidth=Jt=t),a!=tn&&(d.lineJoin=tn=a),r!=an&&(d.lineCap=an=r),n!=en&&d.setLineDash(en=n)}function vn(e,t,n,r){t!=qt&&(d.fillStyle=qt=t),e!=on&&(d.font=on=e),n!=sn&&(d.textAlign=sn=n),r!=cn&&(d.textBaseline=cn=r)}function xn(e,t,n,i,a=0){if(i.length>0&&e.auto(r,Bt)&&(t==null||t.min==null)){let t=R(Nt,0),r=R(Ft,i.length-1),o=n.min==null?Yt(i,t,r,a,e.distr==3):[n.min,n.max];e.min=pn(e.min,n.min=o[0]),e.max=mn(e.max,n.max=o[1])}}let wn={min:null,max:null};function Tn(){for(let e in b){let t=b[e];O[e]==null&&(t.min==null||O[S]!=null&&t.auto(r,Bt))&&(O[e]=wn)}for(let e in b){let t=b[e];O[e]==null&&t.from!=null&&O[t.from]!=null&&(O[e]=wn)}O[S]!=null&&rr(!0);let e={};for(let t in O){let n=O[t];if(n!=null){let a=e[t]=Yn(b[t],Kn);if(n.min!=null)Xn(a,n);else if(t!=S||i==2)if(Ot==0&&a.from==null){let e=a.range(r,null,null,t);a.min=e[0],a.max=e[1]}else a.min=B,a.max=-B}}if(Ot>0){v.forEach((n,a)=>{if(i==1){let i=n.scale,o=O[i];if(o==null)return;let s=e[i];if(a==0){let e=s.range(r,s.min,s.max,i);s.min=e[0],s.max=e[1],Nt=Ut(s.min,t[0]),Ft=Ut(s.max,t[0]),Ft-Nt>1&&(t[0][Nt]<s.min&&Nt++,t[0][Ft]>s.max&&Ft--),n.min=zt[Nt],n.max=zt[Ft]}else n.show&&n.auto&&xn(s,o,n,t[a],n.sorted);n.idxs[0]=Nt,n.idxs[1]=Ft}else if(a>0&&n.show&&n.auto){let[r,i]=n.facets,o=r.scale,s=i.scale,[c,l]=t[a],u=e[o],d=e[s];u!=null&&xn(u,O[o],r,c,r.sorted),d!=null&&xn(d,O[s],i,l,i.sorted),n.min=i.min,n.max=i.max}});for(let t in e){let n=e[t],i=O[t];if(n.from==null&&(i==null||i.min==null)){let e=n.range(r,n.min==B?null:n.min,n.max==-B?null:n.max,t);n.min=e[0],n.max=e[1]}}}for(let t in e){let n=e[t];if(n.from!=null){let i=e[n.from];if(i.min==null)n.min=n.max=null;else{let e=n.range(r,i.min,i.max,t);n.min=e[0],n.max=e[1]}}}let n={},a=!1;for(let t in e){let r=e[t],i=b[t];if(i.min!=r.min||i.max!=r.max){i.min=r.min,i.max=r.max;let e=i.distr;i._min=e==3?_n(i.min):e==4?bn(i.min,i.asinh):e==100?i.fwd(i.min):i.min,i._max=e==3?_n(i.max):e==4?bn(i.max,i.asinh):e==100?i.fwd(i.max):i.max,n[t]=a=!0}}if(a){v.forEach((e,t)=>{i==2?t>0&&n.y&&(e._paths=null):n[e.scale]&&(e._paths=null)});for(let e in n)Re=!0,Ji(`setScale`,e);le&&j.left>=0&&(ze=Ve=!0)}for(let e in O)O[e]=null}function An(e){let t=Sn(Nt-1,0,Ot-1),n=Sn(Ft+1,0,Ot-1);for(;e[t]==null&&t>0;)t--;for(;e[n]==null&&n<Ot-1;)n++;return[t,n]}function jn(){if(Ot>0){let e=v.some(e=>e._focus)&&z!=Xe.alpha;e&&(d.globalAlpha=z=Xe.alpha),v.forEach((e,n)=>{if(n>0&&e.show&&(Nn(n,!1),Nn(n,!0),e._paths==null)){let a=z;z!=e.alpha&&(d.globalAlpha=z=e.alpha);let o=i==2?[0,t[n][0].length-1]:An(t[n]);e._paths=e.paths(r,n,o[0],o[1]),z!=a&&(d.globalAlpha=z=a)}}),v.forEach((e,t)=>{if(t>0&&e.show){let n=z;z!=e.alpha&&(d.globalAlpha=z=e.alpha),e._paths!=null&&Pn(t,!1);{let n=e._paths==null?null:e._paths.gaps,i=e.points.show(r,t,Nt,Ft,n),a=e.points.filter(r,t,i,n);(i||a)&&(e.points._paths=e.points.paths(r,t,Nt,Ft,a),Pn(t,!0))}z!=n&&(d.globalAlpha=z=n),Ji(`drawSeries`,t)}}),e&&(d.globalAlpha=z=1)}}function Nn(e,t){let n=t?v[e].points:v[e];n._stroke=n.stroke(r,e),n._fill=n.fill(r,e)}function Pn(e,t){let n=t?v[e].points:v[e],{stroke:r,fill:i,clip:a,flags:o,_stroke:s=n._stroke,_fill:c=n._fill,_width:l=n.width}=n._paths;l=H(l*I,3);let u=null,f=l%2/2;t&&c==null&&(c=l>0?`#fff`:s);let p=n.pxAlign==1&&f>0;if(p&&d.translate(f,f),!t){let e=Me-l/2,t=Ne-l/2,n=Pe+l,r=Fe+l;u=new Path2D,u.rect(e,t,n,r)}t?Hn(s,l,n.dash,n.cap,c,r,i,o,a):Ln(e,s,l,n.dash,n.cap,c,r,i,o,u,a),p&&d.translate(-f,-f)}function Ln(e,n,i,a,o,s,c,l,u,d,f){let p=!1;u!=0&&x.forEach((m,h)=>{if(m.series[0]==e){let e=v[m.series[1]],g=t[m.series[1]],_=(e._paths||Rn).band;Vn(_)&&(_=m.dir==1?_[0]:_[1]);let y,b=null;e.show&&_&&rn(g,Nt,Ft)?(b=m.fill(r,h)||s,y=e._paths.clip):_=null,Hn(n,i,a,o,b,c,l,u,d,f,y,_),p=!0}}),p||Hn(n,i,a,o,s,c,l,u,d,f)}function Hn(e,t,n,r,i,a,o,s,c,l,u,f){gn(e,t,n,r,i),(c||l||f)&&(d.save(),c&&d.clip(c),l&&d.clip(l)),f?(s&3)==3?(d.clip(f),u&&d.clip(u),Jn(i,o),qn(e,a,t)):s&2?(Jn(i,o),d.clip(f),qn(e,a,t)):s&1&&(d.save(),d.clip(f),u&&d.clip(u),Jn(i,o),d.restore(),qn(e,a,t)):(Jn(i,o),qn(e,a,t)),(c||l||f)&&d.restore()}function qn(e,t,n){n>0&&(t instanceof Map?t.forEach((e,t)=>{d.strokeStyle=Kt=t,d.stroke(e)}):t!=null&&e&&d.stroke(t))}function Jn(e,t){t instanceof Map?t.forEach((e,t)=>{d.fillStyle=qt=t,d.fill(e)}):t!=null&&e&&d.fill(t)}function Zn(e,t,n,i){let a=y[e],o;if(i<=0)o=[0,0];else{let s=a._space=a.space(r,e,t,n,i);o=ba(t,n,a._incrs=a.incrs(r,e,t,n,i,s),i,s)}return a._found=o}function Qn(e,t,n,r,i,a,o,s,c,l){let u=o%2/2;h==1&&d.translate(u,u),gn(s,o,c,l,s),d.beginPath();let f,p,m,g,_=i+(r==0||r==3?-a:a);n==0?(p=i,g=_):(f=i,m=_);for(let r=0;r<e.length;r++)t[r]!=null&&(n==0?f=m=e[r]:p=g=e[r],d.moveTo(f,p),d.lineTo(m,g));d.stroke(),h==1&&d.translate(-u,-u)}function er(e){let t=!0;return y.forEach((n,i)=>{if(!n.show)return;let a=b[n.scale];if(a.min==null){n._show&&(t=!1,n._show=!1,rr(!1));return}else n._show||(t=!1,n._show=!0,rr(!1));let o=n.side,s=o%2,{min:c,max:l}=a,[u,d]=Zn(i,c,l,s==0?P:F);if(d==0)return;let f=a.distr==2,p=n._splits=n.splits(r,i,c,l,u,d,f),m=a.distr==2?p.map(e=>zt[e]):p,h=a.distr==2?zt[p[1]]-zt[p[0]]:u,g=n._values=n.values(r,n.filter(r,m,i,d,h),i,d,h);n._rotate=o==2?n.rotate(r,g,i,d):0;let _=n._size;n._size=fn(n.size(r,g,i,e)),_!=null&&n._size!=_&&(t=!1)}),t}function tr(e){let t=!0;return Et.forEach((n,i)=>{let a=n(r,i,pt,e);a!=Dt[i]&&(t=!1),Dt[i]=a}),t}function nr(){for(let e=0;e<y.length;e++){let t=y[e];if(!t.show||!t._show)continue;let n=t.side,i=n%2,a,o,c=t.stroke(r,e),l=n==0||n==3?-1:1,[u,f]=t._found;if(t.label!=null){let s=t.labelGap*l,p=dn((t._lpos+s)*I);vn(t.labelFont[0],c,`center`,n==2?`top`:ut),d.save(),i==1?(a=o=0,d.translate(p,dn(Ne+Fe/2)),d.rotate((n==3?-ln:ln)/2)):(a=dn(Me+Pe/2),o=p);let m=Cn(t.label)?t.label(r,e,u,f):t.label;d.fillText(m,a,o),d.restore()}if(f==0)continue;let p=b[t.scale],m=i==0?Pe:Fe,h=i==0?Me:Ne,_=t._splits,v=p.distr==2?_.map(e=>zt[e]):_,x=p.distr==2?zt[_[1]]-zt[_[0]]:u,S=t.ticks,C=t.border,w=S.show?S.size:0,T=dn(w*I),E=dn((t.alignTo==2?t._size-w-t.gap:t.gap)*I),D=t._rotate*-ln/180,ee=g(t._pos*I),te=ee+(T+E)*l;o=i==0?te:0,a=i==1?te:0;let ne=t.font[0];vn(ne,c,t.align==1?dt:t.align==2?ft:D>0?dt:D<0?ft:i==0?`center`:n==3?ft:dt,D||i==1?`middle`:n==2?`top`:ut);let O=t.font[1]*t.lineGap,re=_.map(e=>g(s(e,p,m,h))),ie=t._values;for(let e=0;e<ie.length;e++){let t=ie[e];if(t!=null){i==0?a=re[e]:o=re[e],t=``+t;let n=t.indexOf(`
`)==-1?[t]:t.split(/\n/gm);for(let e=0;e<n.length;e++){let t=n[e];D?(d.save(),d.translate(a,o+e*O),d.rotate(D),d.fillText(t,0,0),d.restore()):d.fillText(t,a,o+e*O)}}}S.show&&Qn(re,S.filter(r,v,e,f,x),i,n,ee,T,H(S.width*I,3),S.stroke(r,e),S.dash,S.cap);let ae=t.grid;ae.show&&Qn(re,ae.filter(r,v,e,f,x),i,i==0?2:1,i==0?Ne:Me,i==0?Fe:Pe,H(ae.width*I,3),ae.stroke(r,e),ae.dash,ae.cap),C.show&&Qn([ee],[1],i==0?1:0,i==0?1:2,i==1?Ne:Me,i==1?Fe:Pe,H(C.width*I,3),C.stroke(r,e),C.dash,C.cap)}Ji(`drawAxes`)}function rr(e){v.forEach((t,n)=>{n>0&&(t._paths=null,e&&(i==1?(t.min=null,t.max=null):t.facets.forEach(e=>{e.min=null,e.max=null})))})}let ir=!1,ar=!1,or=[];function sr(){ar=!1;for(let e=0;e<or.length;e++)Ji(...or[e]);or.length=0}function cr(){ir||=($n(ur),!0)}function lr(e,t=!1){ir=!0,ar=t,e(r),ur(),t&&or.length>0&&queueMicrotask(sr)}r.batch=lr;function ur(){if(Ie&&=(Tn(),!1),Re&&=(We(),!1),Le){if(L(p,dt,Ee),L(p,`top`,De),L(p,ct,P),L(p,lt,F),L(m,dt,Ee),L(m,`top`,De),L(m,ct,P),L(m,lt,F),L(f,ct,we),L(f,lt,Te),u.width=dn(we*I),u.height=dn(Te*I),y.forEach(({_el:e,_show:t,_size:n,_pos:r,side:i})=>{if(e!=null)if(t){let t=i===3||i===0?n:0,a=i%2==1;L(e,a?`left`:`top`,r-t),L(e,a?`width`:`height`,n),L(e,a?`top`:`left`,a?De:Ee),L(e,a?`height`:`width`,a?F:P),At(e,ot)}else kt(e,ot)}),Kt=qt=Jt=tn=an=on=sn=cn=en=null,z=1,Ai(!0),Ee!=Oe||De!=ke||P!=Ae||F!=je){rr(!1);let e=P/Ae,t=F/je;if(le&&!ze&&j.left>=0){j.left*=e,j.top*=t,hr&&Pt(hr,dn(j.left),0,P,F),gr&&Pt(gr,0,dn(j.top),P,F);for(let n=0;n<$e.length;n++){let r=$e[n];r!=null&&(et[n]*=e,tt[n]*=t,Pt(r,fn(et[n]),fn(tt[n]),P,F))}}if(G.show&&!Be&&G.left>=0&&G.width>0){G.left*=e,G.width*=e,G.top*=t,G.height*=t;for(let e in Pi)L(Br,e,G[e])}Oe=Ee,ke=De,Ae=P,je=F}Ji(`setSize`),Le=!1}we>0&&Te>0&&(d.clearRect(0,0,u.width,u.height),Ji(`drawClear`),w.forEach(e=>e()),Ji(`draw`)),G.show&&Be&&(Hr(G),Be=!1),le&&ze&&(Si(null,!0,!1),ze=!1),A.show&&A.live&&Ve&&(bi(),Ve=!1),c||(c=!0,r.status=1,Ji(`ready`)),Bt=!1,ir=!1}r.redraw=(e,t)=>{Re=t||!1,e===!1?cr():Wr(S,D.min,D.max)};function fr(e,n){let i=b[e];if(i.from==null){if(Ot==0){let t=i.range(r,n.min,n.max,e);n.min=t[0],n.max=t[1]}if(n.min>n.max){let e=n.min;n.min=n.max,n.max=e}if(Ot>1&&n.min!=null&&n.max!=null&&n.max-n.min<1e-16)return;e==S&&i.distr==2&&Ot>0&&(n.min=Ut(n.min,t[0]),n.max=Ut(n.max,t[0]),n.min==n.max&&n.max++),O[e]=n,Ie=!0,cr()}}r.setScale=fr;let pr,mr,hr,gr,_r,br,xr,Sr,Cr,wr,U,W,Tr=!1,Er=j.drag,Dr=Er.x,Lr=Er.y;le&&(j.x&&(pr=Mt(`u-cursor-x`,m)),j.y&&(mr=Mt(`u-cursor-y`,m)),D.ori==0?(hr=pr,gr=mr):(hr=mr,gr=pr),U=j.left,W=j.top);let G=r.select=Xn({show:!0,over:!0,left:0,width:0,top:0,height:0},e.select),Br=G.show?Mt(`u-select`,G.over?m:p):null;function Hr(e,t){if(G.show){for(let t in e)G[t]=e[t],t in Pi&&L(Br,t,e[t]);t!==!1&&Ji(`setSelect`)}}r.setSelect=Hr;function Ur(e){if(v[e].show)ce&&At(fe[e],ot);else if(ce&&kt(fe[e],ot),le){let t=Qe?$e[0]:$e[e];t!=null&&Pt(t,-10,-10,P,F)}}function Wr(e,t,n){fr(e,{min:t,max:n})}function Gr(e,t,n,a){t.focus!=null&&ti(e),t.show!=null&&v.forEach((n,r)=>{r>0&&(e==r||e==null)&&(n.show=t.show,Ur(r),i==2?(Wr(n.facets[0].scale,null,null),Wr(n.facets[1].scale,null,null)):Wr(n.scale,null,null),cr())}),n!==!1&&Ji(`setSeries`,e,t),a&&$i(`setSeries`,r,e,t)}r.setSeries=Gr;function Kr(e,t){Xn(x[e],t)}function qr(e,t){e.fill=V(e.fill||null),e.dir=R(e.dir,-1),t??=x.length,x.splice(t,0,e)}function Jr(e){e==null?x.length=0:x.splice(e,1)}r.addBand=qr,r.setBand=Kr,r.delBand=Jr;function Yr(e,t){v[e].alpha=t,le&&$e[e]!=null&&($e[e].style.opacity=t),ce&&fe[e]&&(fe[e].style.opacity=t)}let Zr,Qr,$r,ei={focus:!0};function ti(e){if(e!=$r){let t=e==null,n=Xe.alpha!=1;v.forEach((r,a)=>{if(i==1||a>0){let i=t||a==0||a==e;r._focus=t?null:i,n&&Yr(a,i?1:Xe.alpha)}}),$r=e,n&&cr()}}ce&&Ze&&Se(yt,N,e=>{j._lock||(Je(e),$r!=null&&Gr(null,ei,!0,Xi.setSeries))});function ni(e,t,n){let r=b[t];n&&(e=e/I-(r.ori==1?De:Ee));let i=P;r.ori==1&&(i=F,e=i-e),r.dir==-1&&(e=i-e);let a=r._min,o=r._max,s=e/i,c=a+(o-a)*s,l=r.distr;return l==3?hn(10,c):l==4?yn(c,r.asinh):l==100?r.bwd(c):c}function ri(e,n){return Ut(ni(e,S,n),t[0],Nt,Ft)}r.valToIdx=e=>Ut(e,t[0]),r.posToIdx=ri,r.posToVal=ni,r.valToPos=(e,t,n)=>b[t].ori==0?a(e,b[t],n?Pe:P,n?Me:0):o(e,b[t],n?Fe:F,n?Ne:0),r.setCursor=(e,t,n)=>{U=e.left,W=e.top,Si(null,t,n)};function ui(e,t){L(Br,dt,G.left=e),L(Br,ct,G.width=t)}function di(e,t){L(Br,`top`,G.top=e),L(Br,lt,G.height=t)}let fi=D.ori==0?ui:di,pi=D.ori==1?ui:di;function mi(){if(ce&&A.live)for(let e=i==2?1:0;e<v.length;e++){if(e==0&&he)continue;let t=A.values[e],n=0;for(let r in t)pe[e][n++].firstChild.nodeValue=t[r]}}function bi(e,t){if(e!=null&&(e.idxs?e.idxs.forEach((e,t)=>{se[t]=e}):Un(e.idx)||se.fill(e.idx),A.idx=se[0]),ce&&A.live){for(let e=0;e<v.length;e++)(e>0||i==1&&!he)&&xi(e,se[e]);mi()}Ve=!1,t!==!1&&Ji(`setLegend`)}r.setLegend=bi;function xi(e,n){let i=v[e],a=e==0&&ee==2?zt:t[e],o;he?o=i.values(r,e,n)??ge:(o=i.value(r,n==null?null:a[n],e,n),o=o==null?ge:{_:o}),A.values[e]=o}function Si(e,n,a){Cr=U,wr=W,[U,W]=j.move(r,U,W),j.left=U,j.top=W,le&&(hr&&Pt(hr,dn(U),0,P,F),gr&&Pt(gr,0,dn(W),P,F));let o,s=Nt>Ft;Zr=B,Qr=null;let c=D.ori==0?P:F,l=D.ori==1?P:F;if(U<0||Ot==0||s){o=j.idx=null;for(let e=0;e<v.length;e++){let t=$e[e];t!=null&&Pt(t,-10,-10,P,F)}Ze&&Gr(null,ei,!0,e==null&&Xi.setSeries),A.live&&(se.fill(o),Ve=!0)}else{let e,n,a;i==1&&(e=D.ori==0?U:W,n=ni(e,S),o=j.idx=Ut(n,t[0],Nt,Ft),a=te(t[0][o],D,c,0));let s=-10,u=-10,d=0,f=0,p=!0,m=``,h=``;for(let e=i==2?1:0;e<v.length;e++){let g=v[e],_=se[e],y=_==null?null:i==1?t[e][_]:t[e][1][_],x=j.dataIdx(r,e,o,n),S=x==null?null:i==1?t[e][x]:t[e][1][x];if(Ve=Ve||S!=y||x!=_,se[e]=x,e>0&&g.show){let n=x==null?-10:x==o?a:te(i==1?t[0][x]:t[e][0][x],D,c,0),_=S==null?-10:ne(S,i==1?b[g.scale]:b[g.facets[1].scale],l,0);if(Ze&&S!=null){let t=D.ori==1?U:W,n=un(Xe.dist(r,e,x,_,t));if(n<Zr){let r=Xe.bias;if(r!=0){let i=ni(t,g.scale),a=S>=0?1:-1,o=i>=0?1:-1;o==a&&(o==1?r==1?S>=i:S<=i:r==1?S<=i:S>=i)&&(Zr=n,Qr=e)}else Zr=n,Qr=e}}if(Ve||Qe){let t,i;D.ori==0?(t=n,i=_):(t=_,i=n);let a,o,c,l,g,v,y=!0,b=Ye.bbox;if(b!=null){y=!1;let t=b(r,e);c=t.left,l=t.top,a=t.width,o=t.height}else c=t,l=i,a=o=Ye.size(r,e);if(v=Ye.fill(r,e),g=Ye.stroke(r,e),Qe)e==Qr&&Zr<=Xe.prox&&(s=c,u=l,d=a,f=o,p=y,m=v,h=g);else{let t=$e[e];t!=null&&(et[e]=c,tt[e]=l,Rt(t,a,o,y),It(t,v,g),Pt(t,fn(c),fn(l),P,F))}}}}if(Qe){let e=Xe.prox;if(Ve||($r==null?Zr<=e:Zr>e||Qr!=$r)){let e=$e[0];e!=null&&(et[0]=s,tt[0]=u,Rt(e,d,f,p),It(e,m,h),Pt(e,fn(s),fn(u),P,F))}}}if(G.show&&Tr)if(e!=null){let[t,n]=Xi.scales,[r,i]=Xi.match,[a,o]=e.cursor.sync.scales,s=e.cursor.drag;if(Dr=s._x,Lr=s._y,Dr||Lr){let{left:s,top:u,width:d,height:f}=e.select,p=e.scales[a].ori,m=e.posToVal,h,g,_,v,y,x=t!=null&&r(t,a),S=n!=null&&i(n,o);x&&Dr?(p==0?(h=s,g=d):(h=u,g=f),_=b[t],v=te(m(h,a),_,c,0),y=te(m(h+g,a),_,c,0),fi(pn(v,y),un(y-v))):fi(0,c),S&&Lr?(p==1?(h=s,g=d):(h=u,g=f),_=b[n],v=ne(m(h,o),_,l,0),y=ne(m(h+g,o),_,l,0),pi(pn(v,y),un(y-v))):pi(0,l)}else Fi()}else{let e=un(Cr-_r),t=un(wr-br);if(D.ori==1){let n=e;e=t,t=n}Dr=Er.x&&e>=Er.dist,Lr=Er.y&&t>=Er.dist;let n=Er.uni;n==null?Er.x&&Er.y&&(Dr||Lr)&&(Dr=Lr=!0):Dr&&Lr&&(Dr=e>=n,Lr=t>=n,!Dr&&!Lr&&(t>e?Lr=!0:Dr=!0));let r,i;Dr&&(D.ori==0?(r=xr,i=U):(r=Sr,i=W),fi(pn(r,i),un(i-r)),Lr||pi(0,l)),Lr&&(D.ori==1?(r=xr,i=U):(r=Sr,i=W),pi(pn(r,i),un(i-r)),Dr||fi(0,c)),!Dr&&!Lr&&(fi(0,0),pi(0,0))}if(Er._x=Dr,Er._y=Lr,e==null){if(a){if(Zi!=null){let[e,t]=Xi.scales;Xi.values[0]=e==null?null:ni(D.ori==0?U:W,e),Xi.values[1]=t==null?null:ni(D.ori==1?U:W,t)}$i(ht,r,U,W,P,F,o)}if(Ze){let e=a&&Xi.setSeries,t=Xe.prox;$r==null?Zr<=t&&Gr(Qr,ei,!0,e):Zr>t?Gr(null,ei,!0,e):Qr!=$r&&Gr(Qr,ei,!0,e)}}Ve&&(A.idx=o,bi()),n!==!1&&Ji(`setCursor`)}let Oi=null;Object.defineProperty(r,`rect`,{get(){return Oi??Ai(!1),Oi}});function Ai(e=!1){e?Oi=null:(Oi=m.getBoundingClientRect(),Ji(`syncRect`,Oi))}function ji(e,t,n,r,i,a,o){j._lock||Tr&&e!=null&&e.movementX==0&&e.movementY==0||(Ni(e,t,n,r,i,a,o,!1,e!=null),e==null?Si(t,!0,!1):Si(null,!0,!0))}function Ni(e,t,n,i,a,o,c,l,u){if(Oi??Ai(!1),Je(e),e!=null)n=e.clientX-Oi.left,i=e.clientY-Oi.top;else{if(n<0||i<0){U=-10,W=-10;return}let[e,r]=Xi.scales,c=t.cursor.sync,[l,u]=c.values,[d,f]=c.scales,[p,m]=Xi.match,h=t.axes[0].side%2==1,g=D.ori==0?P:F,_=D.ori==1?P:F,v=h?o:a,y=h?a:o,x=h?i:n,S=h?n:i;if(n=d==null?x/v*g:p(e,d)?s(l,b[e],g,0):-10,i=f==null?S/y*_:m(r,f)?s(u,b[r],_,0):-10,D.ori==1){let e=n;n=i,i=e}}u&&(t==null||t.cursor.event.type==ht)&&((n<=1||n>=P-1)&&(n=Mn(n,P)),(i<=1||i>=F-1)&&(i=Mn(i,F))),l?(_r=n,br=i,[xr,Sr]=j.move(r,n,i)):(U=n,W=i)}let Pi={width:0,height:0,left:0,top:0};function Fi(){Hr(Pi,!1)}let Ii,Ri,zi,Bi;function Vi(e,t,n,i,a,o,s){Tr=!0,Dr=Lr=Er._x=Er._y=!1,Ni(e,t,n,i,a,o,s,!0,!1),e!=null&&(Se(_t,wt,Hi,!1),$i(gt,r,xr,Sr,P,F,null));let{left:c,top:l,width:u,height:d}=G;Ii=c,Ri=l,zi=u,Bi=d}function Hi(e,t,n,i,a,o,s){Tr=Er._x=Er._y=!1,Ni(e,t,n,i,a,o,s,!1,!0);let{left:c,top:l,width:u,height:d}=G,f=u>0||d>0,p=Ii!=c||Ri!=l||zi!=u||Bi!=d;if(f&&p&&Hr(G),Er.setScale&&f&&p){let e=c,t=u,n=l,r=d;if(D.ori==1&&(e=l,t=d,n=c,r=u),Dr&&Wr(S,ni(e,S),ni(e+t,S)),Lr)for(let e in b){let t=b[e];e!=S&&t.from==null&&t.min!=B&&Wr(e,ni(n+r,e),ni(n,e))}Fi()}else j.lock&&(j._lock=!j._lock,Si(t,!0,e!=null));e!=null&&(Ce(_t,wt),$i(_t,r,U,W,P,F,null))}function Ui(e,t,n,r,i,a,o){if(j._lock)return;Je(e);let s=Tr;if(Tr){let e=!0,t=!0,n,r;D.ori==0?(n=Dr,r=Lr):(n=Lr,r=Dr),n&&r&&(e=U<=10||U>=P-10,t=W<=10||W>=F-10),n&&e&&(U=U<xr?0:P),r&&t&&(W=W<Sr?0:F),Si(null,!0,!0),Tr=!1}U=-10,W=-10,se.fill(null),Si(null,!0,!0),s&&(Tr=s)}function Wi(e,t,n,i,a,o,s){j._lock||(Je(e),Gt(),Fi(),e!=null&&$i(bt,r,U,W,P,F,null))}function Gi(){y.forEach(Sa),He(r.width,r.height,!0)}Vt(St,Tt,Gi);let Ki={};Ki.mousedown=Vi,Ki.mousemove=ji,Ki.mouseup=Hi,Ki.dblclick=Wi,Ki.setSeries=(e,t,n,i)=>{let a=Xi.match[2];n=a(r,t,n),n!=-1&&Gr(n,i,!0,!1)},le&&(Se(gt,m,Vi),Se(ht,m,ji),Se(vt,m,e=>{Je(e),Ai(!1)}),Se(yt,m,Ui),Se(bt,m,Wi),oa.add(r),r.syncRect=Ai);let qi=r.hooks=e.hooks||{};function Ji(e,t,n){ar?or.push([e,t,n]):e in qi&&qi[e].forEach(e=>{e.call(null,r,t,n)})}(e.plugins||[]).forEach(e=>{for(let t in e.hooks)qi[t]=(qi[t]||[]).concat(e.hooks[t])});let Yi=(e,t,n)=>n,Xi=Xn({key:null,setSeries:!1,filters:{pub:On,sub:On},scales:[S,v[1]?v[1].scale:null],match:[kn,kn,Yi],values:[null,null]},j.sync);Xi.match.length==2&&Xi.match.push(Yi),j.sync=Xi;let Zi=Xi.key,Qi=ki(Zi);function $i(e,t,n,r,i,a,o){Xi.filters.pub(e,t,n,r,i,a,o)&&Qi.pub(e,t,n,r,i,a,o)}Qi.sub(r);function ea(e,t,n,r,i,a,o){Xi.filters.sub(e,t,n,r,i,a,o)&&Ki[e](null,t,n,r,i,a,o)}r.pub=ea;function ta(){Qi.unsub(r),oa.delete(r),xe.clear(),Ht(St,Tt,Gi),l.remove(),N?.remove(),Ji(`destroy`)}r.destroy=ta;function na(){Ji(`init`,e,t),Wt(t||e.data,!1),O[S]?fr(S,O[S]):Gt(),Be=G.show&&(G.width>0||G.height>0),ze=Ve=!0,He(e.width,e.height)}return v.forEach(rt),y.forEach(xt),n?n instanceof HTMLElement?(n.appendChild(l),na()):n(r,na):na(),r}Ca.assign=Xn,Ca.fmtNum=sn,Ca.rangeNum=nn,Ca.rangeLog=Xt,Ca.rangeAsinh=Zt,Ca.orient=Ai,Ca.pxRatio=I,Ca.join=Qn,Ca.fmtDate=dr,Ca.tzDate=pr,Ca.sync=ki;{Ca.addGap=Fi,Ca.clipGaps=Pi;let e=Ca.paths={points:Yi};e.linear=$i,e.stepped=ea,e.bars=na,e.spline=ia}var wa=t({default:()=>Ta}),Ta=class extends k{static{this.targets=[`table`,`chart`,`summary`,`legend`,`legendAmount`,`legendPeriod`,`axis`]}getSize(){return{width:this.chartTarget.offsetWidth,height:this.chartTarget.offsetHeight}}connect(){this.tableTarget.hidden=!0,this.chartTarget.hidden=!1,this.axisTarget.hidden=!1,this.observer=new ResizeObserver(()=>{this.uplot?.setSize(this.getSize())}),this.observer.observe(this.chartTarget);let e=getComputedStyle(document.documentElement),t={...this.getSize(),padding:[1,1,1,1],series:[{},{stroke:e.getPropertyValue(`--color-stroke`),width:2,points:{show:!1}},{stroke:e.getPropertyValue(`--color-accent`),width:2,points:{show:!1}}],cursor:{y:!1},axes:[{show:!1},{show:!1}],scales:{y:{range:(e,t,n)=>[t,n]}},select:{show:!1},legend:{show:!1},hooks:{init:[e=>{e.over.addEventListener(`mouseenter`,()=>{this.summaryTarget.hidden=!0,this.legendTarget.hidden=!1}),e.over.addEventListener(`mouseleave`,()=>{this.summaryTarget.hidden=!1,this.legendTarget.hidden=!0})}],setCursor:[e=>{let{idx:t}=e.cursor;this.legendAmountTarget.textContent=typeof t==`number`?Ca.fmtNum(e.data[2][t]||0):``,this.legendPeriodTarget.textContent=typeof t==`number`?n[t].textContent:``}]}},n=Array.from(this.tableTarget.querySelectorAll(`thead th`)).slice(1);this.uplot=new Ca(t,[n.map(e=>Number(e.dataset.timestamp)),...Array.from(this.tableTarget.querySelectorAll(`tbody tr`)).reverse().map(e=>Array.from(e.querySelectorAll(`td`)).map(e=>Number(e.textContent)))],this.chartTarget)}disconnect(){this.observer?.disconnect(),this.uplot?.destroy()}},Ea=t({default:()=>Da}),Da=class extends k{constructor(...e){super(...e),this.mouseover=e=>{let t=e.target;if(t.closest(`thead th`)){let e=Array.from(t.parentElement.children).indexOf(t);this.element.querySelector(`colgroup`).children[e].classList.add(`is-highlighted`),this.element.style.cursor=`pointer`}t.closest(`tbody th`)&&(t.closest(`tr`).classList.add(`is-highlighted`),this.element.style.cursor=`pointer`)},this.reset=()=>{this.element.querySelectorAll(`col, tr`).forEach(e=>e.classList.remove(`is-highlighted`)),this.element.style.cursor=``},this.click=e=>{let t=e.target;if(t.closest(`thead th`)){let e=Array.from(t.parentElement.children).indexOf(t),n=Array.from(this.element.querySelectorAll(`tbody tr td:nth-child(${e+1}) input[type="checkbox"]`)).filter(e=>!this.disabled?.includes(e)),r=!n.find(e=>!e.disabled&&e.getAttribute(`aria-disabled`)!==`true`)?.checked;n.forEach(e=>e.checked=r)}if(t.closest(`tbody th`)){let e=Array.from(t.closest(`tr`).querySelectorAll(`td input[type="checkbox"]`)).filter(e=>!this.disabled?.includes(e)),n=!e.find(e=>!e.disabled&&e.getAttribute(`aria-disabled`)!==`true`)?.checked;e.forEach(e=>e.checked=n)}this.update()}}connect(){this.disabled=Array.from(this.element.querySelectorAll(`input:disabled`)),this.update(),this.element.addEventListener(`click`,this.click),this.element.addEventListener(`mouseover`,this.mouseover),this.element.addEventListener(`mouseout`,this.reset)}disconnect(){this.element.removeEventListener(`click`,this.click),this.element.removeEventListener(`mouseover`,this.mouseover),this.element.removeEventListener(`mouseout`,this.reset)}update(){this.element.querySelectorAll(`tbody td input[type="checkbox"]`).forEach(e=>{this.disabled?.includes(e)||(e.disabled=!1)}),this.element.querySelectorAll(`[data-implied-by], [data-depends-on]`).forEach(e=>{e.dataset.impliedBy?.trim().split(/\s+/).filter(Boolean).forEach(t=>{let n=document.querySelector(`[name="${t}"]:last-of-type`);n&&n.checked&&(e.checked=!0,e.disabled=!0)}),e.dataset.dependsOn?.trim().split(/\s+/).filter(Boolean).forEach(t=>{let n=document.querySelector(`[name="${t}"]:last-of-type`);n&&!n.checked&&(e.checked=!1,e.disabled=!0)})})}};function Oa(e){return e.toLowerCase().replace(/[^a-z0-9]/gi,`-`).replace(/-+/g,`-`).replace(/-$|^-/g,``)}function ka(e){return Object.entries(e).map(([e,t])=>({identifier:e.match(/\.\/controllers\/(.*)\.ts$/)[1].replace(/\//g,`--`).replace(/_/g,`-`).replace(/-controller$/,``),controllerConstructor:t.default}))}var Aa=t({default:()=>ja}),ja=class extends k{constructor(...e){super(...e),this.locked=!1}static{this.targets=[`slug`,`mirror`]}updateName(e){let t=e.target;this.locked||(this.slugTarget.value=Oa(t.value),this.mirror())}updateSlug(e){let t=e.target;this.mirror(),this.locked=!!t.value}mirror(){this.mirrorTargets.forEach(e=>{e.textContent=this.slugTarget.value})}},Ma=Symbol.for(`preact-signals`);function Na(){if(La>1)La--;else{for(var e,t=!1;Ia!==void 0;){var n=Ia;for(Ia=void 0,Ra++;n!==void 0;){var r=n.o;if(n.o=void 0,n.f&=-3,!(8&n.f)&&Ua(n))try{n.c()}catch(n){t||=(e=n,!0)}n=r}}if(Ra=0,La--,t)throw e}}function Pa(e){if(La>0)return e();La++;try{return e()}finally{Na()}}var K=void 0;function q(e){var t=K;K=void 0;try{return e()}finally{K=t}}var Fa,Ia=void 0,La=0,Ra=0,za=0;function Ba(e){if(K!==void 0){var t=e.n;if(t===void 0||t.t!==K)return t={i:0,S:e,p:K.s,n:void 0,t:K,e:void 0,x:void 0,r:t},K.s!==void 0&&(K.s.n=t),K.s=t,e.n=t,32&K.f&&e.S(t),t;if(t.i===-1)return t.i=0,t.n!==void 0&&(t.n.p=t.p,t.p!==void 0&&(t.p.n=t.n),t.p=K.s,t.n=void 0,K.s.n=t,K.s=t),t}}function Va(e,t){this.v=e,this.i=0,this.n=void 0,this.t=void 0,this.W=t?.watched,this.Z=t?.unwatched,this.name=t?.name}Va.prototype.brand=Ma,Va.prototype.h=function(){return!0},Va.prototype.S=function(e){var t=this,n=this.t;n!==e&&e.e===void 0&&(e.x=n,this.t=e,n===void 0?q(function(){var e;(e=t.W)==null||e.call(t)}):n.e=e)},Va.prototype.U=function(e){var t=this;if(this.t!==void 0){var n=e.e,r=e.x;n!==void 0&&(n.x=r,e.e=void 0),r!==void 0&&(r.e=n,e.x=void 0),e===this.t&&(this.t=r,r===void 0&&q(function(){var e;(e=t.Z)==null||e.call(t)}))}},Va.prototype.subscribe=function(e){var t=this;return Qa(function(){var n=t.value,r=K;K=void 0;try{e(n)}finally{K=r}},{name:`sub`})},Va.prototype.valueOf=function(){return this.value},Va.prototype.toString=function(){return this.value+``},Va.prototype.toJSON=function(){return this.value},Va.prototype.peek=function(){var e=K;K=void 0;try{return this.value}finally{K=e}},Object.defineProperty(Va.prototype,`value`,{get:function(){var e=Ba(this);return e!==void 0&&(e.i=this.i),this.v},set:function(e){if(e!==this.v){if(Ra>100)throw Error(`Cycle detected`);this.v=e,this.i++,za++,La++;try{for(var t=this.t;t!==void 0;t=t.x)t.t.N()}finally{Na()}}}});function Ha(e,t){return new Va(e,t)}function Ua(e){for(var t=e.s;t!==void 0;t=t.n)if(t.S.i!==t.i||!t.S.h()||t.S.i!==t.i)return!0;return!1}function Wa(e){for(var t=e.s;t!==void 0;t=t.n){var n=t.S.n;if(n!==void 0&&(t.r=n),t.S.n=t,t.i=-1,t.n===void 0){e.s=t;break}}}function Ga(e){for(var t=e.s,n=void 0;t!==void 0;){var r=t.p;t.i===-1?(t.S.U(t),r!==void 0&&(r.n=t.n),t.n!==void 0&&(t.n.p=r)):n=t,t.S.n=t.r,t.r!==void 0&&(t.r=void 0),t=r}e.s=n}function Ka(e,t){Va.call(this,void 0),this.x=e,this.s=void 0,this.g=za-1,this.f=4,this.W=t?.watched,this.Z=t?.unwatched,this.name=t?.name}Ka.prototype=new Va,Ka.prototype.h=function(){if(this.f&=-3,1&this.f)return!1;if((36&this.f)==32||(this.f&=-5,this.g===za))return!0;if(this.g=za,this.f|=1,this.i>0&&!Ua(this))return this.f&=-2,!0;var e=K;try{Wa(this),K=this;var t=this.x();(16&this.f||this.v!==t||this.i===0)&&(this.v=t,this.f&=-17,this.i++)}catch(e){this.v=e,this.f|=16,this.i++}return K=e,Ga(this),this.f&=-2,!0},Ka.prototype.S=function(e){if(this.t===void 0){this.f|=36;for(var t=this.s;t!==void 0;t=t.n)t.S.S(t)}Va.prototype.S.call(this,e)},Ka.prototype.U=function(e){if(this.t!==void 0&&(Va.prototype.U.call(this,e),this.t===void 0)){this.f&=-33;for(var t=this.s;t!==void 0;t=t.n)t.S.U(t)}},Ka.prototype.N=function(){if(!(2&this.f)){this.f|=6;for(var e=this.t;e!==void 0;e=e.x)e.t.N()}},Object.defineProperty(Ka.prototype,`value`,{get:function(){if(1&this.f)throw Error(`Cycle detected`);var e=Ba(this);if(this.h(),e!==void 0&&(e.i=this.i),16&this.f)throw this.v;return this.v}});function qa(e,t){return new Ka(e,t)}function Ja(e){var t=e.u;if(e.u=void 0,typeof t==`function`){La++;var n=K;K=void 0;try{t()}catch(t){throw e.f&=-2,e.f|=8,Ya(e),t}finally{K=n,Na()}}}function Ya(e){for(var t=e.s;t!==void 0;t=t.n)t.S.U(t);e.x=void 0,e.s=void 0,Ja(e)}function Xa(e){if(K!==this)throw Error(`Out-of-order effect`);Ga(this),K=e,this.f&=-2,8&this.f&&Ya(this),Na()}function Za(e,t){this.x=e,this.u=void 0,this.s=void 0,this.o=void 0,this.f=32,this.name=t?.name,Fa&&Fa.push(this)}Za.prototype.c=function(){var e=this.S();try{if(8&this.f||this.x===void 0)return;var t=this.x();typeof t==`function`&&(this.u=t)}finally{e()}},Za.prototype.S=function(){if(1&this.f)throw Error(`Cycle detected`);this.f|=1,this.f&=-9,Ja(this),Wa(this),La++;var e=K;return K=this,Xa.bind(this,e)},Za.prototype.N=function(){2&this.f||(this.f|=2,this.o=Ia,Ia=this)},Za.prototype.d=function(){this.f|=8,1&this.f||Ya(this)},Za.prototype.dispose=function(){this.d()};function Qa(e,t){var n=new Za(e,t);try{n.c()}catch(e){throw n.d(),e}var r=n.d.bind(n);return r[Symbol.dispose]=r,r}var $a=Object.create,eo=Object.defineProperty,to=Object.defineProperties,no=Object.getOwnPropertyDescriptor,ro=Object.getOwnPropertyDescriptors,io=Object.getOwnPropertySymbols,ao=Object.prototype.hasOwnProperty,oo=Object.prototype.propertyIsEnumerable,so=(e,t)=>(t=Symbol[e])?t:Symbol.for(`Symbol.`+e),co=e=>{throw TypeError(e)},lo=(e,t,n)=>t in e?eo(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,uo=(e,t)=>{for(var n in t||={})ao.call(t,n)&&lo(e,n,t[n]);if(io)for(var n of io(t))oo.call(t,n)&&lo(e,n,t[n]);return e},fo=(e,t)=>to(e,ro(t)),po=(e,t)=>eo(e,`name`,{value:t,configurable:!0}),mo=e=>[,,,$a(e?.[so(`metadata`)]??null)],ho=[`class`,`method`,`getter`,`setter`,`accessor`,`field`,`value`,`get`,`set`],go=e=>e!==void 0&&typeof e!=`function`?co(`Function expected`):e,_o=(e,t,n,r,i)=>({kind:ho[e],name:t,metadata:r,addInitializer:e=>n._?co(`Already initialized`):i.push(go(e||null))}),vo=(e,t)=>lo(t,so(`metadata`),e[3]),yo=(e,t,n,r)=>{for(var i=0,a=e[t>>1],o=a&&a.length;i<o;i++)t&1?a[i].call(n):r=a[i].call(n,r);return r},bo=(e,t,n,r,i,a)=>{var o,s,c,l,u,d=t&7,f=!!(t&8),p=!!(t&16),m=d>3?e.length+1:d?f?1:2:0,h=ho[d+5],g=d>3&&(e[m-1]=[]),_=e[m]||(e[m]=[]),v=d&&(!p&&!f&&(i=i.prototype),d<5&&(d>3||!p)&&no(d<4?i:{get[n](){return Co(this,a)},set[n](e){return To(this,a,e)}},n));d?p&&d<4&&po(a,(d>2?`set `:d>1?`get `:``)+n):po(i,n);for(var y=r.length-1;y>=0;y--)l=_o(d,n,c={},e[3],_),d&&(l.static=f,l.private=p,u=l.access={has:p?e=>So(i,e):e=>n in e},d^3&&(u.get=p?e=>(d^1?Co:Eo)(e,i,d^4?a:v.get):e=>e[n]),d>2&&(u.set=p?(e,t)=>To(e,i,t,d^4?a:v.set):(e,t)=>e[n]=t)),s=(0,r[y])(d?d<4?p?a:v[h]:d>4?void 0:{get:v.get,set:v.set}:i,l),c._=1,d^4||s===void 0?go(s)&&(d>4?g.unshift(s):d?p?a=s:v[h]=s:i=s):typeof s!=`object`||!s?co(`Object expected`):(go(o=s.get)&&(v.get=o),go(o=s.set)&&(v.set=o),go(o=s.init)&&g.unshift(o));return d||vo(e,i),v&&eo(i,n,v),p?d^4?a:v:i},xo=(e,t,n)=>t.has(e)||co(`Cannot `+n),So=(e,t)=>Object(t)===t?e.has(t):co(`Cannot use the "in" operator on this value`),Co=(e,t,n)=>(xo(e,t,`read from private field`),n?n.call(e):t.get(e)),wo=(e,t,n)=>t.has(e)?co(`Cannot add the same private member more than once`):t instanceof WeakSet?t.add(e):t.set(e,n),To=(e,t,n,r)=>(xo(e,t,`write to private field`),r?r.call(e,n):t.set(e,n),n),Eo=(e,t,n)=>(xo(e,t,`access private method`),n);function Do(e,t){if(t){let n;return qa(()=>{let r=e();return r&&n&&t(n,r)?n:(n=r,r)})}return qa(e)}function Oo(e,t){if(Object.is(e,t))return!0;if(e===null||t===null)return!1;if(typeof e==`function`&&typeof t==`function`)return e===t;if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(let n of e)if(!t.has(n))return!1;return!0}if(Array.isArray(e))return!Array.isArray(t)||e.length!==t.length?!1:!e.some((e,n)=>!Oo(e,t[n]));if(typeof e==`object`&&typeof t==`object`){let n=Object.keys(e),r=Object.keys(t);return n.length===r.length?!n.some(n=>!Oo(e[n],t[n])):!1}return!1}function J({get:e},t){return{init(e){return Ha(e)},get(){return e.call(this).value},set(t){let n=e.call(this);n.peek()!==t&&(n.value=t)}}}function ko(e,t){let n=new WeakMap;return function(){let t=n.get(this);return t||(t=Do(e.bind(this)),n.set(this,t)),t.value}}function Ao(e=!0){return function(t,n){n.addInitializer(function(){let t=n.kind===`field`||n.static?this:Object.getPrototypeOf(this),r=Object.getOwnPropertyDescriptor(t,n.name);r&&Object.defineProperty(t,n.name,fo(uo({},r),{enumerable:e}))})}}function jo(...e){let t=e.map(e=>Qa(e));return()=>t.forEach(e=>e())}var Mo,No,Po,Fo,Io,Lo=[J],Ro,zo,Bo,Vo,Ho,Uo,Wo,Go,Ko,qo,Jo,Yo,Xo,Zo;Io=[J],Fo=[J],Po=[Ao()],No=[Ao()],Mo=[Ao()];var Qo=class{constructor(e,t=Object.is){this.defaultValue=e,this.equals=t,yo(Ro,5,this),wo(this,Uo),wo(this,zo,yo(Ro,8,this)),yo(Ro,11,this),wo(this,Wo,yo(Ro,12,this)),yo(Ro,15,this),wo(this,Jo,yo(Ro,16,this)),yo(Ro,19,this),this.reset=this.reset.bind(this),this.reset()}get current(){return Co(this,Uo,Xo)}get initial(){return Co(this,Uo,Vo)}get previous(){return Co(this,Uo,Ko)}set current(e){let t=q(()=>Co(this,Uo,Xo));e&&t&&this.equals(t,e)||Pa(()=>{Co(this,Uo,Vo)||To(this,Uo,e,Ho),To(this,Uo,t,qo),To(this,Uo,e,Zo)})}reset(e=this.defaultValue){Pa(()=>{To(this,Uo,void 0,qo),To(this,Uo,e,Ho),To(this,Uo,e,Zo)})}};Ro=mo(null),zo=new WeakMap,Uo=new WeakSet,Wo=new WeakMap,Jo=new WeakMap,Bo=bo(Ro,20,`#initial`,Lo,Uo,zo),Vo=Bo.get,Ho=Bo.set,Go=bo(Ro,20,`#previous`,Io,Uo,Wo),Ko=Go.get,qo=Go.set,Yo=bo(Ro,20,`#current`,Fo,Uo,Jo),Xo=Yo.get,Zo=Yo.set,bo(Ro,2,`current`,Po,Qo),bo(Ro,2,`initial`,No,Qo),bo(Ro,2,`previous`,Mo,Qo),vo(Ro,Qo);function $o(e){return q(()=>{let t={};for(let n in e)t[n]=e[n];return t})}var es,ts=class{constructor(){wo(this,es,new WeakMap)}get(e,t){return e?Co(this,es).get(e)?.get(t):void 0}set(e,t,n){if(e)return Co(this,es).has(e)||Co(this,es).set(e,new Map),Co(this,es).get(e)?.set(t,n)}clear(e){return e?Co(this,es).get(e)?.clear():void 0}};es=new WeakMap;var ns=Object.create,rs=Object.defineProperty,is=Object.getOwnPropertyDescriptor,as=Object.getOwnPropertySymbols,os=Object.prototype.hasOwnProperty,ss=Object.prototype.propertyIsEnumerable,cs=(e,t)=>(t=Symbol[e])?t:Symbol.for(`Symbol.`+e),ls=e=>{throw TypeError(e)},us=Math.pow,ds=(e,t,n)=>t in e?rs(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,fs=(e,t)=>{for(var n in t||={})os.call(t,n)&&ds(e,n,t[n]);if(as)for(var n of as(t))ss.call(t,n)&&ds(e,n,t[n]);return e},ps=(e,t)=>rs(e,`name`,{value:t,configurable:!0}),ms=e=>[,,,ns(e?.[cs(`metadata`)]??null)],hs=[`class`,`method`,`getter`,`setter`,`accessor`,`field`,`value`,`get`,`set`],gs=e=>e!==void 0&&typeof e!=`function`?ls(`Function expected`):e,_s=(e,t,n,r,i)=>({kind:hs[e],name:t,metadata:r,addInitializer:e=>n._?ls(`Already initialized`):i.push(gs(e||null))}),vs=(e,t)=>ds(t,cs(`metadata`),e[3]),ys=(e,t,n,r)=>{for(var i=0,a=e[t>>1],o=a&&a.length;i<o;i++)t&1?a[i].call(n):r=a[i].call(n,r);return r},bs=(e,t,n,r,i,a)=>{var o,s,c,l,u,d=t&7,f=!!(t&8),p=!!(t&16),m=d>3?e.length+1:d?f?1:2:0,h=hs[d+5],g=d>3&&(e[m-1]=[]),_=e[m]||(e[m]=[]),v=d&&(!p&&!f&&(i=i.prototype),d<5&&(d>3||!p)&&is(d<4?i:{get[n](){return Cs(this,a)},set[n](e){return Ts(this,a,e)}},n));d?p&&d<4&&ps(a,(d>2?`set `:d>1?`get `:``)+n):ps(i,n);for(var y=r.length-1;y>=0;y--)l=_s(d,n,c={},e[3],_),d&&(l.static=f,l.private=p,u=l.access={has:p?e=>Ss(i,e):e=>n in e},d^3&&(u.get=p?e=>(d^1?Cs:Es)(e,i,d^4?a:v.get):e=>e[n]),d>2&&(u.set=p?(e,t)=>Ts(e,i,t,d^4?a:v.set):(e,t)=>e[n]=t)),s=(0,r[y])(d?d<4?p?a:v[h]:d>4?void 0:{get:v.get,set:v.set}:i,l),c._=1,d^4||s===void 0?gs(s)&&(d>4?g.unshift(s):d?p?a=s:v[h]=s:i=s):typeof s!=`object`||!s?ls(`Object expected`):(gs(o=s.get)&&(v.get=o),gs(o=s.set)&&(v.set=o),gs(o=s.init)&&g.unshift(o));return d||vs(e,i),v&&rs(i,n,v),p?d^4?a:v:i},xs=(e,t,n)=>t.has(e)||ls(`Cannot `+n),Ss=(e,t)=>Object(t)===t?e.has(t):ls(`Cannot use the "in" operator on this value`),Cs=(e,t,n)=>(xs(e,t,`read from private field`),n?n.call(e):t.get(e)),ws=(e,t,n)=>t.has(e)?ls(`Cannot add the same private member more than once`):t instanceof WeakSet?t.add(e):t.set(e,n),Ts=(e,t,n,r)=>(xs(e,t,`write to private field`),r?r.call(e,n):t.set(e,n),n),Es=(e,t,n)=>(xs(e,t,`access private method`),n),Ds=class e{constructor(e,t){this.x=e,this.y=t}static delta(t,n){return new e(t.x-n.x,t.y-n.y)}static distance(e,t){return Math.hypot(e.x-t.x,e.y-t.y)}static equals(e,t){return e.x===t.x&&e.y===t.y}static from({x:t,y:n}){return new e(t,n)}},Os=class e{constructor(e,t,n,r){this.left=e,this.top=t,this.width=n,this.height=r,this.scale={x:1,y:1}}get inverseScale(){return{x:1/this.scale.x,y:1/this.scale.y}}translate(t,n){let{top:r,left:i,width:a,height:o,scale:s}=this,c=new e(i+t,r+n,a,o);return c.scale=fs({},s),c}get boundingRectangle(){let{width:e,height:t,left:n,top:r,right:i,bottom:a}=this;return{width:e,height:t,left:n,top:r,right:i,bottom:a}}get center(){let{left:e,top:t,right:n,bottom:r}=this;return new Ds((e+n)/2,(t+r)/2)}get area(){let{width:e,height:t}=this;return e*t}equals(t){if(!(t instanceof e))return!1;let{left:n,top:r,width:i,height:a}=this;return n===t.left&&r===t.top&&i===t.width&&a===t.height}containsPoint(e){let{top:t,left:n,bottom:r,right:i}=this;return t<=e.y&&e.y<=r&&n<=e.x&&e.x<=i}intersectionArea(t){return t instanceof e?ks(this,t):0}intersectionRatio(e){let{area:t}=this,n=this.intersectionArea(e);return n/(e.area+t-n)}get bottom(){let{top:e,height:t}=this;return e+t}get right(){let{left:e,width:t}=this;return e+t}get aspectRatio(){let{width:e,height:t}=this;return e/t}get corners(){return[{x:this.left,y:this.top},{x:this.right,y:this.top},{x:this.left,y:this.bottom},{x:this.right,y:this.bottom}]}static from({top:t,left:n,width:r,height:i}){return new e(n,t,r,i)}static delta(e,t,n={x:`center`,y:`center`}){let r=(e,t)=>{let r=n[t],i=t===`x`?e.left:e.top,a=t===`x`?e.width:e.height;return r==`start`?i:r==`end`?i+a:i+a/2};return Ds.delta({x:r(e,`x`),y:r(e,`y`)},{x:r(t,`x`),y:r(t,`y`)})}static intersectionRatio(t,n){return e.from(t).intersectionRatio(e.from(n))}};function ks(e,t){let n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),i=Math.min(t.left+t.width,e.left+e.width),a=Math.min(t.top+t.height,e.top+e.height),o=i-r,s=a-n;return r<i&&n<a?o*s:0}var As,js,Ms,Ns,Ps,Fs=class extends (Ms=Qo,js=[ko],As=[ko],Ms){constructor(e){let t=Ds.from(e);super(t,(e,t)=>Ds.equals(e,t)),ys(Ps,5,this),ws(this,Ns,0),this.velocity={x:0,y:0}}get delta(){return Ds.delta(this.current,this.initial)}get direction(){let{current:e,previous:t}=this;if(!t)return null;let n={x:e.x-t.x,y:e.y-t.y};return!n.x&&!n.y?null:Math.abs(n.x)>Math.abs(n.y)?n.x>0?`right`:`left`:n.y>0?`down`:`up`}get current(){return super.current}set current(e){let{current:t}=this,n=Ds.from(e),r={x:n.x-t.x,y:n.y-t.y},i=Date.now(),a=i-Cs(this,Ns),o=e=>Math.round(e/a*100);Pa(()=>{Ts(this,Ns,i),this.velocity={x:o(r.x),y:o(r.y)},super.current=n})}reset(e=this.defaultValue){super.reset(Ds.from(e)),this.velocity={x:0,y:0}}};Ps=ms(Ms),Ns=new WeakMap,bs(Ps,2,`delta`,js,Fs),bs(Ps,2,`direction`,As,Fs),vs(Ps,Fs);function Is({x:e,y:t},n){let r=Math.abs(e),i=Math.abs(t);return typeof n==`number`?Math.sqrt(us(r,2)+us(i,2))>n:`x`in n&&`y`in n?r>n.x&&i>n.y:`x`in n?r>n.x:`y`in n?i>n.y:!1}var Ls=(e=>(e.Horizontal=`x`,e.Vertical=`y`,e))(Ls||{}),Rs=Object.values(Ls),zs=Object.create,Bs=Object.defineProperty,Vs=Object.defineProperties,Hs=Object.getOwnPropertyDescriptor,Us=Object.getOwnPropertyDescriptors,Ws=Object.getOwnPropertySymbols,Gs=Object.prototype.hasOwnProperty,Ks=Object.prototype.propertyIsEnumerable,qs=(e,t)=>(t=Symbol[e])?t:Symbol.for(`Symbol.`+e),Js=e=>{throw TypeError(e)},Ys=(e,t,n)=>t in e?Bs(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Xs=(e,t)=>{for(var n in t||={})Gs.call(t,n)&&Ys(e,n,t[n]);if(Ws)for(var n of Ws(t))Ks.call(t,n)&&Ys(e,n,t[n]);return e},Zs=(e,t)=>Vs(e,Us(t)),Qs=(e,t)=>Bs(e,`name`,{value:t,configurable:!0}),$s=(e,t)=>{var n={};for(var r in e)Gs.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Ws)for(var r of Ws(e))t.indexOf(r)<0&&Ks.call(e,r)&&(n[r]=e[r]);return n},ec=e=>[,,,zs(e?.[qs(`metadata`)]??null)],tc=[`class`,`method`,`getter`,`setter`,`accessor`,`field`,`value`,`get`,`set`],nc=e=>e!==void 0&&typeof e!=`function`?Js(`Function expected`):e,rc=(e,t,n,r,i)=>({kind:tc[e],name:t,metadata:r,addInitializer:e=>n._?Js(`Already initialized`):i.push(nc(e||null))}),ic=(e,t)=>Ys(t,qs(`metadata`),e[3]),Y=(e,t,n,r)=>{for(var i=0,a=e[t>>1],o=a&&a.length;i<o;i++)t&1?a[i].call(n):r=a[i].call(n,r);return r},X=(e,t,n,r,i,a)=>{var o,s,c,l,u,d=t&7,f=!!(t&8),p=!!(t&16),m=d>3?e.length+1:d?f?1:2:0,h=tc[d+5],g=d>3&&(e[m-1]=[]),_=e[m]||(e[m]=[]),v=d&&(!p&&!f&&(i=i.prototype),d<5&&(d>3||!p)&&Hs(d<4?i:{get[n](){return sc(this,a)},set[n](e){return cc(this,a,e)}},n));d?p&&d<4&&Qs(a,(d>2?`set `:d>1?`get `:``)+n):Qs(i,n);for(var y=r.length-1;y>=0;y--)l=rc(d,n,c={},e[3],_),d&&(l.static=f,l.private=p,u=l.access={has:p?e=>oc(i,e):e=>n in e},d^3&&(u.get=p?e=>(d^1?sc:lc)(e,i,d^4?a:v.get):e=>e[n]),d>2&&(u.set=p?(e,t)=>cc(e,i,t,d^4?a:v.set):(e,t)=>e[n]=t)),s=(0,r[y])(d?d<4?p?a:v[h]:d>4?void 0:{get:v.get,set:v.set}:i,l),c._=1,d^4||s===void 0?nc(s)&&(d>4?g.unshift(s):d?p?a=s:v[h]=s:i=s):typeof s!=`object`||!s?Js(`Object expected`):(nc(o=s.get)&&(v.get=o),nc(o=s.set)&&(v.set=o),nc(o=s.init)&&g.unshift(o));return d||ic(e,i),v&&Bs(i,n,v),p?d^4?a:v:i},ac=(e,t,n)=>t.has(e)||Js(`Cannot `+n),oc=(e,t)=>Object(t)===t?e.has(t):Js(`Cannot use the "in" operator on this value`),sc=(e,t,n)=>(ac(e,t,`read from private field`),n?n.call(e):t.get(e)),Z=(e,t,n)=>t.has(e)?Js(`Cannot add the same private member more than once`):t instanceof WeakSet?t.add(e):t.set(e,n),cc=(e,t,n,r)=>(ac(e,t,`write to private field`),r?r.call(e,n):t.set(e,n),n),lc=(e,t,n)=>(ac(e,t,`access private method`),n);function uc(e,t){return{plugin:e,options:t}}function dc(e){return t=>uc(e,t)}function fc(e){return typeof e==`function`?{plugin:e,options:void 0}:e}var pc=[J],mc,hc,gc,_c=class{constructor(e,t){this.manager=e,this.options=t,Z(this,hc,Y(mc,8,this,!1)),Y(mc,11,this),Z(this,gc,new Set)}enable(){this.disabled=!1}disable(){this.disabled=!0}isDisabled(){return q(()=>this.disabled)}configure(e){this.options=e}registerEffect(e){let t=Qa(e.bind(this));return sc(this,gc).add(t),t}destroy(){sc(this,gc).forEach(e=>e())}static configure(e){return uc(this,e)}};mc=ec(null),hc=new WeakMap,gc=new WeakMap,X(mc,4,`disabled`,pc,_c,hc),ic(mc,_c);var vc=class extends _c{},yc,bc=class{constructor(e){this.manager=e,this.instances=new Map,Z(this,yc,[])}get values(){return Array.from(this.instances.values())}set values(e){let t=e.map(fc).reduceRight((e,t)=>e.some(({plugin:e})=>e===t.plugin)?e:[t,...e],[]),n=t.map(({plugin:e})=>e);for(let e of sc(this,yc))if(!n.includes(e)){if(e.prototype instanceof vc)continue;this.unregister(e)}for(let{plugin:e,options:n}of t)this.register(e,n);cc(this,yc,n)}get(e){return this.instances.get(e)}register(e,t){let n=this.instances.get(e);if(n)return n.options!==t&&(n.options=t),n;let r=new e(this.manager,t);return this.instances.set(e,r),r}unregister(e){let t=this.instances.get(e);t&&(t.destroy(),this.instances.delete(e))}destroy(){for(let e of this.instances.values())e.destroy();this.instances.clear()}};yc=new WeakMap;function xc(e,t){return e.priority===t.priority?e.type===t.type?t.value-e.value:t.type-e.type:t.priority-e.priority}var Sc=[],Cc,wc,Tc=class extends _c{constructor(e){super(e),Z(this,Cc),Z(this,wc),this.computeCollisions=this.computeCollisions.bind(this),cc(this,wc,Ha(Sc)),this.destroy=jo(()=>{let e=this.computeCollisions(),t=q(()=>this.manager.dragOperation.position.current);if(e!==Sc){let e=sc(this,Cc);if(cc(this,Cc,t),e&&t.x==e.x&&t.y==e.y)return}else cc(this,Cc,void 0);sc(this,wc).value=e},()=>{let{dragOperation:e}=this.manager;e.status.initialized&&this.forceUpdate()})}forceUpdate(e=!0){q(()=>{e?sc(this,wc).value=this.computeCollisions():cc(this,Cc,void 0)})}computeCollisions(e,t){let{registry:n,dragOperation:r}=this.manager,{source:i,shape:a,status:o}=r;if(!o.initialized||!a)return Sc;let s=[],c=[];for(let a of e??n.droppables){if(a.disabled||i&&!a.accepts(i))continue;let e=t??a.collisionDetector;if(!e)continue;c.push(a),a.shape;let n=q(()=>e({droppable:a,dragOperation:r}));n&&(a.collisionPriority!=null&&(n.priority=a.collisionPriority),s.push(n))}return c.length===0?Sc:(s.sort(xc),s)}get collisions(){return sc(this,wc).value}};Cc=new WeakMap,wc=new WeakMap;var Ec=class{constructor(){this.registry=new Map}addEventListener(e,t){let{registry:n}=this,r=new Set(n.get(e));return r.add(t),n.set(e,r),()=>this.removeEventListener(e,t)}removeEventListener(e,t){let{registry:n}=this,r=new Set(n.get(e));r.delete(t),n.set(e,r)}dispatch(e,...t){let{registry:n}=this,r=n.get(e);if(r)for(let e of r)e(...t)}},Dc=class extends Ec{constructor(e){super(),this.manager=e}dispatch(e,t){let n=[t,this.manager];super.dispatch(e,...n)}};function Oc(e,t=!0){let n=!1;return Zs(Xs({},e),{cancelable:t,get defaultPrevented(){return n},preventDefault(){t&&(n=!0)}})}var kc=class extends vc{constructor(e){super(e);let t=(e,t)=>e.map(({id:e})=>e).join(``)===t.map(({id:e})=>e).join(``),n=[];this.destroy=jo(()=>{let{dragOperation:t,collisionObserver:r}=e;t.status.initializing&&(n=[],r.enable())},()=>{let{collisionObserver:r,monitor:i}=e,{collisions:a}=r;if(r.isDisabled())return;let o=Oc({collisions:a});if(i.dispatch(`collision`,o),o.defaultPrevented||t(a,n))return;n=a;let[s]=a;q(()=>{s?.id!==e.dragOperation.target?.id&&(r.disable(),e.actions.setDropTarget(s?.id).then(()=>{r.enable()}))})})}},Ac=(e=>(e[e.Lowest=0]=`Lowest`,e[e.Low=1]=`Low`,e[e.Normal=2]=`Normal`,e[e.High=3]=`High`,e[e.Highest=4]=`Highest`,e))(Ac||{}),jc=(e=>(e[e.Collision=0]=`Collision`,e[e.ShapeIntersection=1]=`ShapeIntersection`,e[e.PointerIntersection=2]=`PointerIntersection`,e))(jc||{}),Mc,Nc,Pc,Fc,Ic,Lc,Rc=[J],zc,Bc;Lc=[ko],Ic=[ko],Fc=[ko],Pc=[ko],Nc=[ko],Mc=[ko];var Vc=class{constructor(){Y(zc,5,this),Z(this,Bc,Y(zc,8,this,`idle`)),Y(zc,11,this)}get current(){return this.value}get idle(){return this.value===`idle`}get initializing(){return this.value===`initializing`}get initialized(){let{value:e}=this;return e!==`idle`&&e!==`initialization-pending`}get dragging(){return this.value===`dragging`}get dropped(){return this.value===`dropped`}set(e){this.value=e}};zc=ec(null),Bc=new WeakMap,X(zc,4,`value`,Rc,Vc,Bc),X(zc,2,`current`,Lc,Vc),X(zc,2,`idle`,Ic,Vc),X(zc,2,`initializing`,Fc,Vc),X(zc,2,`initialized`,Pc,Vc),X(zc,2,`dragging`,Nc,Vc),X(zc,2,`dropped`,Mc,Vc),ic(zc,Vc);var Hc=class{constructor(e){this.manager=e}setDragSource(e){let{dragOperation:t}=this.manager;t.sourceIdentifier=typeof e==`string`||typeof e==`number`?e:e.id}setDropTarget(e){return q(()=>{let{dragOperation:t}=this.manager,n=e??null;if(t.targetIdentifier===n)return Promise.resolve(!1);t.targetIdentifier=n;let r=Oc({operation:t.snapshot()});return t.status.dragging&&this.manager.monitor.dispatch(`dragover`,r),this.manager.renderer.rendering.then(()=>r.defaultPrevented)})}start(e){return q(()=>{let{dragOperation:t}=this.manager;if(e.source!=null&&this.setDragSource(e.source),!t.source)throw Error(`Cannot start a drag operation without a drag source`);if(!t.status.idle)throw Error(`Cannot start a drag operation while another is active`);let n=new AbortController,{event:r,coordinates:i}=e;Pa(()=>{t.status.set(`initialization-pending`),t.shape=null,t.canceled=!1,t.activatorEvent=r??null,t.position.reset(i)});let a=Oc({operation:t.snapshot()});return this.manager.monitor.dispatch(`beforedragstart`,a),a.defaultPrevented?(t.reset(),n.abort(),n):(t.status.set(`initializing`),t.controller=n,this.manager.renderer.rendering.then(()=>{if(n.signal.aborted)return;let{status:e}=t;e.current===`initializing`&&(t.status.set(`dragging`),this.manager.monitor.dispatch(`dragstart`,{nativeEvent:r,operation:t.snapshot(),cancelable:!1}))}),n)})}move(e){return q(()=>{let{dragOperation:t}=this.manager,{status:n,controller:r}=t;if(!n.dragging||!r||r.signal.aborted)return;let i=Oc({nativeEvent:e.event,operation:t.snapshot(),by:e.by,to:e.to},e.cancelable??!0);(e.propagate??!0)&&this.manager.monitor.dispatch(`dragmove`,i),queueMicrotask(()=>{if(i.defaultPrevented)return;let n=e.to??{x:t.position.current.x+(e.by?.x??0),y:t.position.current.y+(e.by?.y??0)};t.position.current=n})})}stop(e={}){return q(()=>{let{dragOperation:t}=this.manager,{controller:n}=t;if(!n||n.signal.aborted)return;let r,i=()=>{let e={resume:()=>{},abort:()=>{}};return r=new Promise((t,n)=>{e.resume=t,e.abort=n}),e};n.abort();let a=()=>{this.manager.renderer.rendering.then(()=>{t.status.set(`dropped`);let e=q(()=>t.source?.status===`dropping`),r=()=>{t.controller===n&&(t.controller=void 0),t.reset()};if(e){let{source:e}=t,n=Qa(()=>{e?.status===`idle`&&(n(),r())})}else this.manager.renderer.rendering.then(r)})};t.canceled=e.canceled??!1,this.manager.monitor.dispatch(`dragend`,{nativeEvent:e.event,operation:t.snapshot(),canceled:e.canceled??!1,suspend:i}),r?r.then(a).catch(()=>t.reset()):a()})}},Uc,Wc,Gc,Kc=[J],qc,Jc,Yc,Xc,Zc;Gc=[J],Wc=[J],Uc=[J];var Qc=class{constructor(e,t){Z(this,Jc,Y(qc,8,this)),Y(qc,11,this),Z(this,Yc,Y(qc,12,this)),Y(qc,15,this),Z(this,Xc,Y(qc,16,this)),Y(qc,19,this),Z(this,Zc,Y(qc,20,this)),Y(qc,23,this);let{effects:n,id:r,data:i={},disabled:a=!1,register:o=!0}=e,s=r;this.manager=t,this.id=r,this.data=i,this.disabled=a,this.effects=()=>[()=>{let{id:e,manager:t}=this;if(e!==s)return t?.registry.register(this),()=>t?.registry.unregister(this)},...n?.()??[]],this.register=this.register.bind(this),this.unregister=this.unregister.bind(this),this.destroy=this.destroy.bind(this),t&&o&&queueMicrotask(this.register)}register(){return this.manager?.registry.register(this)}unregister(){var e;(e=this.manager)==null||e.registry.unregister(this)}destroy(){var e;(e=this.manager)==null||e.registry.unregister(this)}};qc=ec(null),Jc=new WeakMap,Yc=new WeakMap,Xc=new WeakMap,Zc=new WeakMap,X(qc,4,`manager`,Kc,Qc,Jc),X(qc,4,`id`,Gc,Qc,Yc),X(qc,4,`data`,Wc,Qc,Xc),X(qc,4,`disabled`,Uc,Qc,Zc),ic(qc,Qc);var $c=class{constructor(){this.map=Ha(new Map),this.cleanupFunctions=new WeakMap,this.register=(e,t)=>{let n=this.map.peek(),r=n.get(e),i=()=>this.unregister(e,t);if(r===t)return i;r&&(this.cleanupFunctions.get(r)?.(),this.cleanupFunctions.delete(r));let a=new Map(n);a.set(e,t),this.map.value=a;let o=jo(...t.effects());return this.cleanupFunctions.set(t,o),i},this.unregister=(e,t)=>{let n=this.map.peek();if(n.get(e)!==t)return;this.cleanupFunctions.get(t)?.(),this.cleanupFunctions.delete(t);let r=new Map(n);r.delete(e),this.map.value=r}}[Symbol.iterator](){return this.map.peek().values()}get value(){return this.map.value.values()}has(e){return this.map.value.has(e)}get(e){return this.map.value.get(e)}destroy(){for(let e of this)this.cleanupFunctions.get(e)?.(),e.destroy();this.map.value=new Map}},el,tl,nl,rl,il,al,ol,sl,cl,ll,ul,dl=class extends (ol=Qc,al=[J],il=[J],rl=[J],nl=[ko],tl=[ko],el=[ko],ol){constructor(e,t){var n=e,{modifiers:r,type:i,sensors:a}=n,o=$s(n,[`modifiers`,`type`,`sensors`]);super(o,t),Y(sl,5,this),Z(this,cl,Y(sl,8,this)),Y(sl,11,this),Z(this,ll,Y(sl,12,this)),Y(sl,15,this),Z(this,ul,Y(sl,16,this,this.isDragSource?`dragging`:`idle`)),Y(sl,19,this),this.type=i,this.sensors=a,this.modifiers=r,this.alignment=o.alignment}get isDropping(){return this.status===`dropping`&&this.isDragSource}get isDragging(){return this.status===`dragging`&&this.isDragSource}get isDragSource(){return this.manager?.dragOperation.source?.id===this.id}};sl=ec(ol),cl=new WeakMap,ll=new WeakMap,ul=new WeakMap,X(sl,4,`type`,al,dl,cl),X(sl,4,`modifiers`,il,dl,ll),X(sl,4,`status`,rl,dl,ul),X(sl,2,`isDropping`,nl,dl),X(sl,2,`isDragging`,tl,dl),X(sl,2,`isDragSource`,el,dl),ic(sl,dl);var fl,pl,ml,hl,gl,_l,vl,yl,bl,xl,Sl,Cl,wl,Tl=class extends (vl=Qc,_l=[J],gl=[J],hl=[J],ml=[J],pl=[J],fl=[ko],vl){constructor(e,t){var n=e,{accept:r,collisionDetector:i,collisionPriority:a,type:o}=n,s=$s(n,[`accept`,`collisionDetector`,`collisionPriority`,`type`]);super(s,t),Y(yl,5,this),Z(this,bl,Y(yl,8,this)),Y(yl,11,this),Z(this,xl,Y(yl,12,this)),Y(yl,15,this),Z(this,Sl,Y(yl,16,this)),Y(yl,19,this),Z(this,Cl,Y(yl,20,this)),Y(yl,23,this),Z(this,wl,Y(yl,24,this)),Y(yl,27,this),this.accept=r,this.collisionDetector=i,this.collisionPriority=a,this.type=o}accepts(e){let{accept:t}=this;return t?typeof t==`function`?t(e):e.type?Array.isArray(t)?t.includes(e.type):e.type===t:!1:!0}get isDropTarget(){return this.manager?.dragOperation.target?.id===this.id}};yl=ec(vl),bl=new WeakMap,xl=new WeakMap,Sl=new WeakMap,Cl=new WeakMap,wl=new WeakMap,X(yl,4,`accept`,_l,Tl,bl),X(yl,4,`type`,gl,Tl,xl),X(yl,4,`collisionDetector`,hl,Tl,Sl),X(yl,4,`collisionPriority`,ml,Tl,Cl),X(yl,4,`shape`,pl,Tl,wl),X(yl,2,`isDropTarget`,fl,Tl),ic(yl,Tl);var El=class extends _c{constructor(e,t){super(e,t),this.manager=e,this.options=t}},Dl=class extends AbortController{constructor(e,t){super(),this.constraints=e,this.onActivate=t,this.activated=!1;for(let t of e??[])t.controller=this}onEvent(e){if(!this.activated)if(this.constraints?.length)for(let t of this.constraints)t.onEvent(e);else this.activate(e)}activate(e){this.activated||(this.activated=!0,this.onActivate(e))}abort(e){this.activated=!1,super.abort(e)}},Ol,kl=class{constructor(e){this.options=e,Z(this,Ol)}set controller(e){cc(this,Ol,e),e.signal.addEventListener(`abort`,()=>this.abort())}activate(e){var t;(t=sc(this,Ol))==null||t.activate(e)}};Ol=new WeakMap;var Al=class extends _c{constructor(e,t){super(e,t),this.manager=e,this.options=t}apply(e){return e.transform}},jl=class{constructor(e){this.draggables=new $c,this.droppables=new $c,this.plugins=new bc(e),this.sensors=new bc(e),this.modifiers=new bc(e)}register(e,t){if(e instanceof dl)return this.draggables.register(e.id,e);if(e instanceof Tl)return this.droppables.register(e.id,e);if(e.prototype instanceof Al)return this.modifiers.register(e,t);if(e.prototype instanceof El)return this.sensors.register(e,t);if(e.prototype instanceof _c)return this.plugins.register(e,t);throw Error(`Invalid instance type`)}unregister(e){if(e instanceof Qc)return e instanceof dl?this.draggables.unregister(e.id,e):e instanceof Tl?this.droppables.unregister(e.id,e):()=>{};if(e.prototype instanceof Al)return this.modifiers.unregister(e);if(e.prototype instanceof El)return this.sensors.unregister(e);if(e.prototype instanceof _c)return this.plugins.unregister(e);throw Error(`Invalid instance type`)}destroy(){this.draggables.destroy(),this.droppables.destroy(),this.plugins.destroy(),this.sensors.destroy(),this.modifiers.destroy()}},Ml,Nl,Pl,Fl,Il,Ll,Rl,zl,Bl=[ko],Vl,Hl,Ul,Wl,Gl,Kl,ql,Jl,Yl,Xl;zl=[J],Rl=[J],Ll=[J],Il=[J],Fl=[J],Pl=[ko],Nl=[ko],Ml=[ko];var Zl=class{constructor(e){Y(Wl,5,this),Z(this,Vl),Z(this,Hl),Z(this,Ul,new Qo(void 0,(e,t)=>e&&t?e.equals(t):e===t)),this.status=new Vc,Z(this,Gl,Y(Wl,8,this,!1)),Y(Wl,11,this),Z(this,Kl,Y(Wl,12,this,null)),Y(Wl,15,this),Z(this,ql,Y(Wl,16,this,null)),Y(Wl,19,this),Z(this,Jl,Y(Wl,20,this,null)),Y(Wl,23,this),Z(this,Yl,Y(Wl,24,this,[])),Y(Wl,27,this),this.position=new Fs({x:0,y:0}),Z(this,Xl,{x:0,y:0}),cc(this,Vl,e)}get shape(){let{current:e,initial:t,previous:n}=sc(this,Ul);return!e||!t?null:{current:e,initial:t,previous:n}}set shape(e){e?sc(this,Ul).current=e:sc(this,Ul).reset()}get source(){let e=this.sourceIdentifier;if(e==null)return null;let t=sc(this,Vl).registry.draggables.get(e);return t&&cc(this,Hl,t),t??sc(this,Hl)??null}get target(){let e=this.targetIdentifier;return e==null?null:sc(this,Vl).registry.droppables.get(e)??null}get transform(){let{x:e,y:t}=this.position.delta,n={x:e,y:t};for(let e of this.modifiers)n=e.apply(Zs(Xs({},this.snapshot()),{transform:n}));return cc(this,Xl,n),n}snapshot(){return q(()=>({source:this.source,target:this.target,activatorEvent:this.activatorEvent,transform:sc(this,Xl),shape:this.shape?$o(this.shape):null,position:$o(this.position),status:$o(this.status),canceled:this.canceled}))}reset(){Pa(()=>{this.status.set(`idle`),this.sourceIdentifier=null,this.targetIdentifier=null,sc(this,Ul).reset(),this.position.reset({x:0,y:0}),cc(this,Xl,{x:0,y:0}),this.modifiers=[]})}};Wl=ec(null),Vl=new WeakMap,Hl=new WeakMap,Ul=new WeakMap,Gl=new WeakMap,Kl=new WeakMap,ql=new WeakMap,Jl=new WeakMap,Yl=new WeakMap,Xl=new WeakMap,X(Wl,2,`shape`,Bl,Zl),X(Wl,4,`canceled`,zl,Zl,Gl),X(Wl,4,`activatorEvent`,Rl,Zl,Kl),X(Wl,4,`sourceIdentifier`,Ll,Zl,ql),X(Wl,4,`targetIdentifier`,Il,Zl,Jl),X(Wl,4,`modifiers`,Fl,Zl,Yl),X(Wl,2,`source`,Pl,Zl),X(Wl,2,`target`,Nl,Zl),X(Wl,2,`transform`,Ml,Zl),ic(Wl,Zl);var Ql={get rendering(){return Promise.resolve()}},$l=class{constructor(e){this.destroy=()=>{this.dragOperation.status.idle||this.actions.stop({canceled:!0}),this.dragOperation.modifiers.forEach(e=>e.destroy()),this.registry.destroy(),this.collisionObserver.destroy()};let{plugins:t=[],sensors:n=[],modifiers:r=[],renderer:i=Ql}=e??{},a=new Dc(this);this.registry=new jl(this),this.monitor=a,this.renderer=i,this.actions=new Hc(this),this.dragOperation=new Zl(this),this.collisionObserver=new Tc(this),this.plugins=[kc,...t],this.modifiers=r,this.sensors=n;let{destroy:o}=this,s=jo(()=>{let e=q(()=>this.dragOperation.modifiers),t=this.modifiers;e!==t&&e.forEach(e=>e.destroy()),this.dragOperation.modifiers=(this.dragOperation.source?.modifiers)?.map(e=>{let{plugin:t,options:n}=fc(e);return new t(this,n)})??t});this.destroy=()=>{s(),o()}}get plugins(){return this.registry.plugins.values}set plugins(e){this.registry.plugins.values=e}get modifiers(){return this.registry.modifiers.values}set modifiers(e){this.registry.modifiers.values=e}get sensors(){return this.registry.sensors.values}set sensors(e){this.registry.sensors.values=e}},eu=e=>{throw TypeError(e)},tu=(e,t,n)=>t.has(e)||eu(`Cannot `+n),Q=(e,t,n)=>(tu(e,t,`read from private field`),t.get(e)),nu=(e,t,n)=>t.has(e)?eu(`Cannot add the same private member more than once`):t instanceof WeakSet?t.add(e):t.set(e,n),ru=(e,t,n,r)=>(tu(e,t,`write to private field`),t.set(e,n),n),iu=(e,t,n)=>(tu(e,t,`access private method`),n);function au(e){return e?e instanceof KeyframeEffect?!0:`getKeyframes`in e&&typeof e.getKeyframes==`function`:!1}function ou(e,t){let n=e.getAnimations();if(n.length>0)for(let e of n){if(e.playState!==`running`)continue;let{effect:n}=e,r=(au(n)?n.getKeyframes():[]).filter(t);if(r.length>0)return[r[r.length-1],e]}return null}function su(e){let{width:t,height:n,top:r,left:i,bottom:a,right:o}=e.getBoundingClientRect();return{width:t,height:n,top:r,left:i,bottom:a,right:o}}function cu(e){let t=Object.prototype.toString.call(e);return t===`[object Window]`||t===`[object global]`}function lu(e){return`nodeType`in e}function uu(e){return e?cu(e)?e:lu(e)?`defaultView`in e?e.defaultView??window:e.ownerDocument?.defaultView??window:window:window}function du(e){let{Document:t}=uu(e);return e instanceof t||`nodeType`in e&&e.nodeType===Node.DOCUMENT_NODE}function fu(e){return!e||cu(e)?!1:e instanceof uu(e).HTMLElement||`namespaceURI`in e&&typeof e.namespaceURI==`string`&&e.namespaceURI.endsWith(`html`)}function pu(e){return e instanceof uu(e).SVGElement||`namespaceURI`in e&&typeof e.namespaceURI==`string`&&e.namespaceURI.endsWith(`svg`)}function mu(e){return e?cu(e)?e.document:lu(e)?du(e)?e:fu(e)||pu(e)?e.ownerDocument:document:document:document}function hu(e){let{documentElement:t}=mu(e),n=t.clientWidth,r=t.clientHeight;return{top:0,left:0,right:n,bottom:r,width:n,height:r}}function gu(e,t){if(_u(e)&&e.open===!1)return!1;let{overflow:n,overflowX:r,overflowY:i}=getComputedStyle(e);return n===`visible`&&r===`visible`&&i===`visible`}function _u(e){return e.tagName===`DETAILS`}function vu(e,t=e.getBoundingClientRect(),n=0){let r=t,{ownerDocument:i}=e,a=i.defaultView??window,o=e.parentElement;for(;o&&o!==i.documentElement;){if(!gu(o)){let e=o.getBoundingClientRect(),t=n*(e.bottom-e.top),i=n*(e.right-e.left),a=n*(e.bottom-e.top),s=n*(e.right-e.left);r={top:Math.max(r.top,e.top-t),right:Math.min(r.right,e.right+i),bottom:Math.min(r.bottom,e.bottom+a),left:Math.max(r.left,e.left-s),width:0,height:0},r.width=r.right-r.left,r.height=r.bottom-r.top}o=o.parentElement}let s=a.innerWidth,c=a.innerHeight,l=n*c,u=n*s;return r={top:Math.max(r.top,0-l),right:Math.min(r.right,s+u),bottom:Math.min(r.bottom,c+l),left:Math.max(r.left,0-u),width:0,height:0},r.width=r.right-r.left,r.height=r.bottom-r.top,r.width<0&&(r.width=0),r.height<0&&(r.height=0),r}function yu(e){return{x:e.clientX,y:e.clientY}}var bu=typeof window<`u`&&window.document!==void 0&&window.document.createElement!==void 0;function xu(e=document,t=new Set){if(t.has(e))return[];t.add(e);let n=[e];for(let r of Array.from(e.querySelectorAll(`iframe, frame`)))try{let e=r.contentDocument;e&&!t.has(e)&&n.push(...xu(e,t))}catch{}try{let r=e.defaultView;if(r&&r!==window.top){let i=r.parent;i&&i.document&&i.document!==e&&n.push(...xu(i.document,t))}}catch{}return n}function Su(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function Cu(e){return!e||!lu(e)?!1:e instanceof uu(e).ShadowRoot}function wu(e){if(e&&lu(e)){let t=e.getRootNode();if(Cu(t)||t instanceof Document)return t}return mu(e)}function Tu(e){return e.matchMedia(`(prefers-reduced-motion: reduce)`).matches}function Eu(e){let t=`input, textarea, select, canvas, [contenteditable]`,n=e.cloneNode(!0),r=Array.from(e.querySelectorAll(t));return Array.from(n.querySelectorAll(t)).forEach((e,t)=>{let n=r[t];Du(e)&&Du(n)&&(e.type!==`file`&&(e.value=n.value),e.type===`radio`&&e.name&&(e.name=`Cloned__${e.name}`)),Ou(e)&&Ou(n)&&n.width>0&&n.height>0&&e.getContext(`2d`)?.drawImage(n,0,0)}),n}function Du(e){return`value`in e}function Ou(e){return e.tagName===`CANVAS`}function ku(e,{x:t,y:n}){let r=e.elementFromPoint(t,n);if(Au(r)){let{contentDocument:e}=r;if(e){let{left:i,top:a}=r.getBoundingClientRect();return ku(e,{x:t-i,y:n-a})}}return r}function Au(e){return e?.tagName===`IFRAME`}var ju=new WeakMap;function Mu(e){return!!e.closest(`
      input:not([disabled]),
      select:not([disabled]),
      textarea:not([disabled]),
      button:not([disabled]),
      a[href],
      [contenteditable]:not([contenteditable="false"])
    `)}var Nu=class{constructor(){this.entries=new Set,this.clear=()=>{for(let e of this.entries){let[t,{type:n,listener:r,options:i}]=e;t.removeEventListener(n,r,i)}this.entries.clear()}}bind(e,t){let n=Array.isArray(e)?e:[e],r=Array.isArray(t)?t:[t],i=[];for(let e of n)for(let t of r){let{type:n,listener:r,options:a}=t,o=[e,t];e.addEventListener(n,r,a),this.entries.add(o),i.push(o)}return function(){for(let[e,{type:t,listener:n,options:r}]of i)e.removeEventListener(t,n,r)}}};function Pu(e){let t=e?.ownerDocument.defaultView;if(t&&t.self!==t.parent)return t.frameElement}function Fu(e){let t=new Set,n=Pu(e);for(;n;)t.add(n),n=Pu(n);return t}function Iu(e,t){let n=setTimeout(e,t);return()=>clearTimeout(n)}function Lu(e,t){let n=()=>performance.now(),r,i;return function(...a){let o=this;i?(r?.(),r=Iu(()=>{e.apply(o,a),i=n()},t-(n()-i))):(e.apply(o,a),i=n())}}function Ru(e,t){return e===t?!0:!e||!t?!1:e.top==t.top&&e.left==t.left&&e.right==t.right&&e.bottom==t.bottom}function zu(e,t=e.getBoundingClientRect()){let{width:n,height:r}=vu(e,t);return n>0&&r>0}var Bu=bu?ResizeObserver:class{observe(){}unobserve(){}disconnect(){}},Vu,Hu=class extends Bu{constructor(e){super(t=>{if(!Q(this,Vu)){ru(this,Vu,!0);return}e(t,this)}),nu(this,Vu,!1)}};Vu=new WeakMap;var Uu=Array.from({length:100},(e,t)=>t/100),Wu=75,Gu,Ku,qu,Ju,Yu,Xu,Zu,Qu,$u,ed,td,nd=class{constructor(e,t,n={debug:!1,skipInitial:!1}){this.element=e,this.callback=t,nu(this,$u),this.disconnect=()=>{var e,t,n;ru(this,Zu,!0),(e=Q(this,qu))==null||e.disconnect(),(t=Q(this,Ju))==null||t.disconnect(),Q(this,Yu).disconnect(),(n=Q(this,Xu))==null||n.remove()},nu(this,Gu,!0),nu(this,Ku),nu(this,qu),nu(this,Ju),nu(this,Yu),nu(this,Xu),nu(this,Zu,!1),nu(this,Qu,Lu(()=>{var e;let{element:t}=this;if((e=Q(this,Ju))==null||e.disconnect(),Q(this,Zu)||!Q(this,Gu)||!t.isConnected)return;let n=t.ownerDocument??document,{innerHeight:r,innerWidth:i}=n.defaultView??window,a=t.getBoundingClientRect(),{top:o,left:s,bottom:c,right:l}=vu(t,a),u=-Math.floor(o),d=-Math.floor(s),f=`${u}px ${-Math.floor(i-l)}px ${-Math.floor(r-c)}px ${d}px`;this.boundingClientRect=a,ru(this,Ju,new IntersectionObserver(e=>{let[n]=e,{intersectionRect:r}=n;(n.intersectionRatio===1?Os.intersectionRatio(r,vu(t)):n.intersectionRatio)!==1&&Q(this,Qu).call(this)},{threshold:Uu,rootMargin:f,root:n})),Q(this,Ju).observe(t),iu(this,$u,ed).call(this)},Wu)),this.boundingClientRect=e.getBoundingClientRect(),ru(this,Gu,zu(e,this.boundingClientRect));let r=!0;this.callback=e=>{r&&(r=!1,n.skipInitial)||t(e)};let i=e.ownerDocument;n?.debug&&(ru(this,Xu,document.createElement(`div`)),Q(this,Xu).style.background=`rgba(0,0,0,0.15)`,Q(this,Xu).style.position=`fixed`,Q(this,Xu).style.pointerEvents=`none`,i.body.appendChild(Q(this,Xu))),ru(this,Yu,new IntersectionObserver(t=>{var n,r;let{boundingClientRect:i,isIntersecting:a}=t[t.length-1],{width:o,height:s}=i,c=Q(this,Gu);ru(this,Gu,a),!(!o&&!s)&&(c&&!a?((n=Q(this,Ju))==null||n.disconnect(),this.callback(null),(r=Q(this,qu))==null||r.disconnect(),ru(this,qu,void 0),Q(this,Xu)&&(Q(this,Xu).style.visibility=`hidden`)):Q(this,Qu).call(this),a&&!Q(this,qu)&&(ru(this,qu,new Hu(Q(this,Qu))),Q(this,qu).observe(e)))},{threshold:Uu,root:i})),Q(this,Gu)&&!n.skipInitial&&this.callback(this.boundingClientRect),Q(this,Yu).observe(e)}};Gu=new WeakMap,Ku=new WeakMap,qu=new WeakMap,Ju=new WeakMap,Yu=new WeakMap,Xu=new WeakMap,Zu=new WeakMap,Qu=new WeakMap,$u=new WeakSet,ed=function(){Q(this,Zu)||(iu(this,$u,td).call(this),!Ru(this.boundingClientRect,Q(this,Ku))&&(this.callback(this.boundingClientRect),ru(this,Ku,this.boundingClientRect)))},td=function(){if(Q(this,Xu)){let{top:e,left:t,width:n,height:r}=vu(this.element);Q(this,Xu).style.overflow=`hidden`,Q(this,Xu).style.visibility=`visible`,Q(this,Xu).style.top=`${Math.floor(e)}px`,Q(this,Xu).style.left=`${Math.floor(t)}px`,Q(this,Xu).style.width=`${Math.floor(n)}px`,Q(this,Xu).style.height=`${Math.floor(r)}px`}};var rd=new WeakMap,id=new WeakMap;function ad(e,t){let n=rd.get(e);return n||={disconnect:new nd(e,t=>{let n=rd.get(e);n&&n.callbacks.forEach(e=>e(t))},{skipInitial:!0}).disconnect,callbacks:new Set},n.callbacks.add(t),rd.set(e,n),()=>{n.callbacks.delete(t),n.callbacks.size===0&&(rd.delete(e),n.disconnect())}}function od(e,t){let n=new Set;for(let r of e){let e=ad(r,t);n.add(e)}return()=>n.forEach(e=>e())}function sd(e,t){let n=e.ownerDocument;if(!id.has(n)){let e=new AbortController,t=new Set;document.addEventListener(`scroll`,e=>t.forEach(t=>t(e)),{capture:!0,passive:!0,signal:e.signal}),id.set(n,{disconnect:()=>e.abort(),listeners:t})}let{listeners:r,disconnect:i}=id.get(n)??{};return!r||!i?()=>{}:(r.add(t),()=>{r.delete(t),r.size===0&&(i(),id.delete(n))})}var cd,ld,ud,dd,fd=class{constructor(e,t,n){this.callback=t,nu(this,cd),nu(this,ld,!1),nu(this,ud),nu(this,dd,Lu(e=>{if(!Q(this,ld)&&e.target&&`contains`in e.target&&typeof e.target.contains==`function`){for(let t of Q(this,ud))if(e.target.contains(t)){this.callback(Q(this,cd).boundingClientRect);break}}},Wu));let r=Fu(e),i=od(r,t),a=sd(e,Q(this,dd));ru(this,ud,r),ru(this,cd,new nd(e,t,n)),this.disconnect=()=>{Q(this,ld)||(ru(this,ld,!0),i(),a(),Q(this,cd).disconnect())}}};cd=new WeakMap,ld=new WeakMap,ud=new WeakMap,dd=new WeakMap;function pd(e){return`showPopover`in e&&`hidePopover`in e&&typeof e.showPopover==`function`&&typeof e.hidePopover==`function`}function md(e){try{pd(e)&&e.isConnected&&e.hasAttribute(`popover`)&&!e.matches(`:popover-open`)&&e.showPopover()}catch{}}function hd(e){return!bu||!e?!1:e===mu(e).scrollingElement}function gd(e){let t=uu(e),n=hd(e)?hu(e):su(e),r=hd(e)?{height:t.innerHeight,width:t.innerWidth}:{height:e.clientHeight,width:e.clientWidth},i={current:{x:e.scrollLeft,y:e.scrollTop},max:{x:e.scrollWidth-r.width,y:e.scrollHeight-r.height}};return{rect:n,position:i,isTop:i.current.y<=0,isLeft:i.current.x<=0,isBottom:i.current.y>=i.max.y,isRight:i.current.x>=i.max.x}}function _d(e,t){let{isTop:n,isBottom:r,isLeft:i,isRight:a,position:o}=gd(e),{x:s,y:c}=t??{x:0,y:0},l=!n&&o.current.y+c>0,u=!r&&o.current.y+c<o.max.y,d=!i&&o.current.x+s>0,f=!a&&o.current.x+s<o.max.x;return{top:l,bottom:u,left:d,right:f,x:d||f,y:l||u}}var vd=class{constructor(e){this.scheduler=e,this.pending=!1,this.tasks=new Set,this.resolvers=new Set,this.flush=()=>{let{tasks:e,resolvers:t}=this;this.pending=!1,this.tasks=new Set,this.resolvers=new Set;for(let t of e)t();for(let e of t)e()}}schedule(e){return this.tasks.add(e),this.pending||(this.pending=!0,this.scheduler(this.flush)),new Promise(e=>this.resolvers.add(e))}},yd=new vd(e=>{typeof requestAnimationFrame==`function`?requestAnimationFrame(e):e()}),bd=new vd(e=>setTimeout(e,50)),xd=new Map,Sd=xd.clear.bind(xd);function Cd(e,t=!1){if(!t)return wd(e);let n=xd.get(e);return n||(n=wd(e),xd.set(e,n),bd.schedule(Sd),n)}function wd(e){return uu(e).getComputedStyle(e)}function Td(e,t=Cd(e,!0)){return t.position===`fixed`||t.position===`sticky`}function Ed(e,t=Cd(e,!0)){let n=/(auto|scroll|overlay)/;return[`overflow`,`overflowX`,`overflowY`].some(e=>{let r=t[e];return typeof r==`string`?n.test(r):!1})}var Dd={excludeElement:!0,escapeShadowDOM:!0};function Od(e,t=Dd){let{limit:n,excludeElement:r,escapeShadowDOM:i}=t,a=new Set;function o(t){if(n!=null&&a.size>=n||!t)return a;if(du(t)&&t.scrollingElement!=null&&!a.has(t.scrollingElement))return a.add(t.scrollingElement),a;if(i&&Cu(t))return o(t.host);if(!fu(t))return pu(t)?o(t.parentElement):a;if(a.has(t))return a;let s=Cd(t,!0);if(r&&t===e||Ed(t,s)&&a.add(t),Td(t,s)){let{scrollingElement:e}=t.ownerDocument;return e&&a.add(e),a}return o(t.parentNode)}return e?o(e):a}function kd(e){let[t]=Od(e,{limit:1});return t??null}function Ad(e,t=window.frameElement){let n={x:0,y:0,scaleX:1,scaleY:1};if(!e)return n;let r=Pu(e);for(;r;){if(r===t)return n;let e=su(r),{x:i,y:a}=jd(r,e);n.x+=e.left,n.y+=e.top,n.scaleX*=i,n.scaleY*=a,r=Pu(r)}return n}function jd(e,t=su(e)){let n=Math.round(t.width),r=Math.round(t.height);if(fu(e))return{x:n/e.offsetWidth,y:r/e.offsetHeight};let i=Cd(e,!0);return{x:(parseFloat(i.width)||n)/n,y:(parseFloat(i.height)||r)/r}}function Md(e){if(e===`none`)return null;let t=e.split(` `),n=parseFloat(t[0]),r=parseFloat(t[1]);return isNaN(n)&&isNaN(r)?null:{x:isNaN(n)?r:n,y:isNaN(r)?n:r}}function Nd(e){if(e===`none`)return null;let[t,n,r=`0`]=e.split(` `),i={x:parseFloat(t),y:parseFloat(n),z:parseInt(r,10)};return isNaN(i.x)&&isNaN(i.y)?null:{x:isNaN(i.x)?0:i.x,y:isNaN(i.y)?0:i.y,z:isNaN(i.z)?0:i.z}}function Pd(e){let{scale:t,transform:n,translate:r}=e,i=Md(t),a=Nd(r),o=Fd(n);if(!o&&!i&&!a)return null;let s={x:i?.x??1,y:i?.y??1},c={x:a?.x??0,y:a?.y??0},l={x:o?.x??0,y:o?.y??0,scaleX:o?.scaleX??1,scaleY:o?.scaleY??1};return{x:c.x+l.x,y:c.y+l.y,z:a?.z??0,scaleX:s.x*l.scaleX,scaleY:s.y*l.scaleY}}function Fd(e){if(e.startsWith(`matrix3d(`)){let t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith(`matrix(`)){let t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}var Id=(e=>(e[e.Idle=0]=`Idle`,e[e.Forward=1]=`Forward`,e[e.Reverse=-1]=`Reverse`,e))(Id||{}),Ld={x:.2,y:.2},Rd={x:10,y:10};function zd(e,t,n,r=25,i=Ld,a=Rd){let{x:o,y:s}=t,{rect:c,isTop:l,isBottom:u,isLeft:d,isRight:f}=gd(e),p=Ad(e),m=Pd(Cd(e,!0)),h=m===null?!1:m?.scaleX<0,g=m===null?!1:m?.scaleY<0,_=new Os(c.left*p.scaleX+p.x,c.top*p.scaleY+p.y,c.width*p.scaleX,c.height*p.scaleY),v={x:0,y:0},y={x:0,y:0},b={height:_.height*i.y,width:_.width*i.x};return(!l||g&&!u)&&s<=_.top+b.height&&n?.y!==1&&o>=_.left-a.x&&o<=_.right+a.x?(v.y=g?1:-1,y.y=r*Math.abs((_.top+b.height-s)/b.height)):(!u||g&&!l)&&s>=_.bottom-b.height&&n?.y!==-1&&o>=_.left-a.x&&o<=_.right+a.x&&(v.y=g?-1:1,y.y=r*Math.abs((_.bottom-b.height-s)/b.height)),(!f||h&&!d)&&o>=_.right-b.width&&n?.x!==-1&&s>=_.top-a.y&&s<=_.bottom+a.y?(v.x=h?-1:1,y.x=r*Math.abs((_.right-b.width-o)/b.width)):(!d||h&&!f)&&o<=_.left+b.width&&n?.x!==1&&s>=_.top-a.y&&s<=_.bottom+a.y&&(v.x=h?1:-1,y.x=r*Math.abs((_.left+b.width-o)/b.width)),{direction:v,speed:y}}function Bd(e){return`scrollIntoViewIfNeeded`in e&&typeof e.scrollIntoViewIfNeeded==`function`}function Vd(e,t=!1){if(Bd(e)){e.scrollIntoViewIfNeeded(t);return}if(!fu(e))return e.scrollIntoView();var n=kd(e);if(!fu(n))return;let r=Cd(n,!0),i=parseInt(r.getPropertyValue(`border-top-width`)),a=parseInt(r.getPropertyValue(`border-left-width`)),o=e.offsetTop-n.offsetTop<n.scrollTop,s=e.offsetTop-n.offsetTop+e.clientHeight-i>n.scrollTop+n.clientHeight,c=e.offsetLeft-n.offsetLeft<n.scrollLeft,l=e.offsetLeft-n.offsetLeft+e.clientWidth-a>n.scrollLeft+n.clientWidth,u=o&&!s;(o||s)&&t&&(n.scrollTop=e.offsetTop-n.offsetTop-n.clientHeight/2-i+e.clientHeight/2),(c||l)&&t&&(n.scrollLeft=e.offsetLeft-n.offsetLeft-n.clientWidth/2-a+e.clientWidth/2),(o||s||c||l)&&!t&&e.scrollIntoView(u)}function Hd(e,t,n){let{scaleX:r,scaleY:i,x:a,y:o}=t,s=e.left+a+(1-r)*parseFloat(n),c=e.top+o+(1-i)*parseFloat(n.slice(n.indexOf(` `)+1)),l=r?e.width*r:e.width,u=i?e.height*i:e.height;return{width:l,height:u,top:c,right:s+l,bottom:c+u,left:s}}function Ud(e,t,n){let{scaleX:r,scaleY:i,x:a,y:o}=t,s=e.left-a-(1-r)*parseFloat(n),c=e.top-o-(1-i)*parseFloat(n.slice(n.indexOf(` `)+1)),l=r?e.width/r:e.width,u=i?e.height/i:e.height;return{width:l,height:u,top:c,right:s+l,bottom:c+u,left:s}}function Wd({element:e,keyframes:t,options:n}){return e.animate(t,n).finished}function Gd(e,t=Cd(e).translate,n=!0){if(n){let t=ou(e,e=>`translate`in e);if(t){let{translate:e=``}=t[0];if(typeof e==`string`){let t=Nd(e);if(t)return t}}}if(t){let e=Nd(t);if(e)return e}return{x:0,y:0,z:0}}var Kd=new vd(e=>setTimeout(e,0)),qd=new Map,Jd=qd.clear.bind(qd);function Yd(e){let t=e.ownerDocument,n=qd.get(t);if(n)return n;n=t.getAnimations(),qd.set(t,n),Kd.schedule(Jd);let r=n.filter(t=>au(t.effect)&&t.effect.target===e);return qd.set(e,r),n}function Xd(e,t){let n=Yd(e).filter(e=>{if(au(e.effect)){let{target:n}=e.effect;if((n&&t.isValidTarget?.call(t,n))??!0)return e.effect.getKeyframes().some(e=>{for(let n of t.properties)if(e[n])return!0})}}).map(e=>{let{effect:t,currentTime:n}=e,r=t?.getComputedTiming().duration;if(!(e.pending||e.playState===`finished`)&&typeof r==`number`&&typeof n==`number`&&n<r)return e.currentTime=r,()=>{e.currentTime=n}});if(n.length>0)return()=>n.forEach(e=>e?.())}var Zd=class extends Os{constructor(e,t={}){let{frameTransform:n=Ad(e),ignoreTransforms:r,getBoundingClientRect:i=su}=t,a=Xd(e,{properties:[`transform`,`translate`,`scale`,`width`,`height`],isValidTarget:t=>(t!==e||Su())&&t.contains(e)}),o=i(e),{top:s,left:c,width:l,height:u}=o,d,f=Cd(e),p=Pd(f),m={x:p?.scaleX??1,y:p?.scaleY??1},h=Qd(e,f);a?.(),p&&(d=Ud(o,p,f.transformOrigin),(r||h)&&(s=d.top,c=d.left,l=d.width,u=d.height));let g={width:d?.width??l,height:d?.height??u};if(h&&!r&&d){let e=Hd(d,h,f.transformOrigin);s=e.top,c=e.left,l=e.width,u=e.height,m.x=h.scaleX,m.y=h.scaleY}n&&(r||(c*=n.scaleX,l*=n.scaleX,s*=n.scaleY,u*=n.scaleY),c+=n.x,s+=n.y),super(c,s,l,u),this.scale=m,this.intrinsicWidth=g.width,this.intrinsicHeight=g.height}};function Qd(e,t){let n=e.getAnimations(),r=null;if(!n.length)return null;for(let e of n){if(e.playState!==`running`)continue;let n=au(e.effect)?e.effect.getKeyframes():[],i=n[n.length-1];if(!i)continue;let{transform:a,translate:o,scale:s}=i;if(a||o||s){let e=Pd({transform:typeof a==`string`&&a?a:t.transform,translate:typeof o==`string`&&o?o:t.translate,scale:typeof s==`string`&&s?s:t.scale});e&&(r=r?{x:r.x+e.x,y:r.y+e.y,z:r.z??e.z,scaleX:r.scaleX*e.scaleX,scaleY:r.scaleY*e.scaleY}:e)}}return r}function $d(e){return`style`in e&&typeof e.style==`object`&&e.style!==null&&`setProperty`in e.style&&`removeProperty`in e.style&&typeof e.style.setProperty==`function`&&typeof e.style.removeProperty==`function`}var ef=class{constructor(e){this.element=e,this.initial=new Map}set(e,t=``){let{element:n}=this;if($d(n))for(let[r,i]of Object.entries(e)){let e=`${t}${r}`;this.initial.has(e)||this.initial.set(e,n.style.getPropertyValue(e)),n.style.setProperty(e,typeof i==`string`?i:`${i}px`)}}remove(e,t=``){let{element:n}=this;if($d(n))for(let r of e){let e=`${t}${r}`;n.style.removeProperty(e)}}reset(){let{element:e}=this;if($d(e)){for(let[t,n]of this.initial)e.style.setProperty(t,n);e.getAttribute(`style`)===``&&e.removeAttribute(`style`)}}};function tf(e){return e?e instanceof uu(e).Element||lu(e)&&e.nodeType===Node.ELEMENT_NODE:!1}function nf(e){if(!e)return!1;let{KeyboardEvent:t}=uu(e.target);return e instanceof t}function rf(e){if(!e)return!1;let{PointerEvent:t}=uu(e.target);return e instanceof t}function af(e){if(!tf(e))return!1;let{tagName:t}=e;return t===`INPUT`||t===`TEXTAREA`||of(e)}function of(e){return e.hasAttribute(`contenteditable`)&&e.getAttribute(`contenteditable`)!==`false`}var sf={};function cf(e){let t=sf[e]==null?0:sf[e]+1;return sf[e]=t,`${e}-${t}`}var lf=({dragOperation:e,droppable:t})=>{let n=e.position.current;if(!n)return null;let{id:r}=t;return t.shape&&t.shape.containsPoint(n)?{id:r,value:1/Ds.distance(t.shape.center,n),type:jc.PointerIntersection,priority:Ac.High}:null},uf=({dragOperation:e,droppable:t})=>{let{shape:n}=e;if(!t.shape||!n?.current)return null;let r=n.current.intersectionArea(t.shape);if(r){let{position:i}=e,a=Ds.distance(t.shape.center,i.current),o=r/(n.current.area+t.shape.area-r)/a;return{id:t.id,value:o,type:jc.ShapeIntersection,priority:Ac.Normal}}return null},df=e=>lf(e)??uf(e),ff=e=>{let{dragOperation:t,droppable:n}=e,{shape:r,position:i}=t;if(!n.shape)return null;let a=r?Os.from(r.current.boundingRectangle).corners:void 0,o=Os.from(n.shape.boundingRectangle).corners.reduce((e,t,n)=>e+Ds.distance(Ds.from(t),a?.[n]??i.current),0)/4;return{id:n.id,value:1/o,type:jc.Collision,priority:Ac.Normal}},pf=Object.create,mf=Object.defineProperty,hf=Object.defineProperties,gf=Object.getOwnPropertyDescriptor,_f=Object.getOwnPropertyDescriptors,vf=Object.getOwnPropertySymbols,yf=Object.prototype.hasOwnProperty,bf=Object.prototype.propertyIsEnumerable,xf=(e,t)=>(t=Symbol[e])?t:Symbol.for(`Symbol.`+e),Sf=e=>{throw TypeError(e)},Cf=(e,t,n)=>t in e?mf(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,wf=(e,t)=>{for(var n in t||={})yf.call(t,n)&&Cf(e,n,t[n]);if(vf)for(var n of vf(t))bf.call(t,n)&&Cf(e,n,t[n]);return e},Tf=(e,t)=>hf(e,_f(t)),Ef=(e,t)=>mf(e,`name`,{value:t,configurable:!0}),Df=(e,t)=>{var n={};for(var r in e)yf.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&vf)for(var r of vf(e))t.indexOf(r)<0&&bf.call(e,r)&&(n[r]=e[r]);return n},Of=e=>[,,,pf(e?.[xf(`metadata`)]??null)],kf=[`class`,`method`,`getter`,`setter`,`accessor`,`field`,`value`,`get`,`set`],Af=e=>e!==void 0&&typeof e!=`function`?Sf(`Function expected`):e,jf=(e,t,n,r,i)=>({kind:kf[e],name:t,metadata:r,addInitializer:e=>n._?Sf(`Already initialized`):i.push(Af(e||null))}),Mf=(e,t)=>Cf(t,xf(`metadata`),e[3]),Nf=(e,t,n,r)=>{for(var i=0,a=e[t>>1],o=a&&a.length;i<o;i++)t&1?a[i].call(n):r=a[i].call(n,r);return r},Pf=(e,t,n,r,i,a)=>{var o,s,c,l,u,d=t&7,f=!!(t&8),p=!!(t&16),m=d>3?e.length+1:d?f?1:2:0,h=kf[d+5],g=d>3&&(e[m-1]=[]),_=e[m]||(e[m]=[]),v=d&&(!p&&!f&&(i=i.prototype),d<5&&(d>3||!p)&&gf(d<4?i:{get[n](){return $(this,a)},set[n](e){return Rf(this,a,e)}},n));d?p&&d<4&&Ef(a,(d>2?`set `:d>1?`get `:``)+n):Ef(i,n);for(var y=r.length-1;y>=0;y--)l=jf(d,n,c={},e[3],_),d&&(l.static=f,l.private=p,u=l.access={has:p?e=>If(i,e):e=>n in e},d^3&&(u.get=p?e=>(d^1?$:zf)(e,i,d^4?a:v.get):e=>e[n]),d>2&&(u.set=p?(e,t)=>Rf(e,i,t,d^4?a:v.set):(e,t)=>e[n]=t)),s=(0,r[y])(d?d<4?p?a:v[h]:d>4?void 0:{get:v.get,set:v.set}:i,l),c._=1,d^4||s===void 0?Af(s)&&(d>4?g.unshift(s):d?p?a=s:v[h]=s:i=s):typeof s!=`object`||!s?Sf(`Object expected`):(Af(o=s.get)&&(v.get=o),Af(o=s.set)&&(v.set=o),Af(o=s.init)&&g.unshift(o));return d||Mf(e,i),v&&mf(i,n,v),p?d^4?a:v:i},Ff=(e,t,n)=>t.has(e)||Sf(`Cannot `+n),If=(e,t)=>Object(t)===t?e.has(t):Sf(`Cannot use the "in" operator on this value`),$=(e,t,n)=>(Ff(e,t,`read from private field`),n?n.call(e):t.get(e)),Lf=(e,t,n)=>t.has(e)?Sf(`Cannot add the same private member more than once`):t instanceof WeakSet?t.add(e):t.set(e,n),Rf=(e,t,n,r)=>(Ff(e,t,`write to private field`),r?r.call(e,n):t.set(e,n),n),zf=(e,t,n)=>(Ff(e,t,`access private method`),n),Bf={role:`button`,roleDescription:`draggable`},Vf=`dnd-kit-description`,Hf=`dnd-kit-announcement`,Uf={draggable:`To pick up a draggable item, press the space bar. While dragging, use the arrow keys to move the item in a given direction. Press space again to drop the item in its new position, or press escape to cancel.`},Wf={dragstart({operation:{source:e}}){if(e)return`Picked up draggable item ${e.id}.`},dragover({operation:{source:e,target:t}}){if(!(!e||e.id===t?.id))return t?`Draggable item ${e.id} was moved over droppable target ${t.id}.`:`Draggable item ${e.id} is no longer over a droppable target.`},dragend({operation:{source:e,target:t},canceled:n}){if(e)return n?`Dragging was cancelled. Draggable item ${e.id} was dropped.`:t?`Draggable item ${e.id} was dropped over droppable target ${t.id}`:`Draggable item ${e.id} was dropped.`}};function Gf(e){let t=e.tagName.toLowerCase();return[`input`,`select`,`textarea`,`a`,`button`].includes(t)}function Kf(e,t){let n=document.createElement(`div`);return n.id=e,n.style.setProperty(`display`,`none`),n.textContent=t,n}function qf(e){let t=document.createElement(`div`);return t.id=e,t.setAttribute(`role`,`status`),t.setAttribute(`aria-live`,`polite`),t.setAttribute(`aria-atomic`,`true`),t.style.setProperty(`position`,`fixed`),t.style.setProperty(`width`,`1px`),t.style.setProperty(`height`,`1px`),t.style.setProperty(`margin`,`-1px`),t.style.setProperty(`border`,`0`),t.style.setProperty(`padding`,`0`),t.style.setProperty(`overflow`,`hidden`),t.style.setProperty(`clip`,`rect(0 0 0 0)`),t.style.setProperty(`clip-path`,`inset(100%)`),t.style.setProperty(`white-space`,`nowrap`),t}var Jf=[`dragover`,`dragmove`],Yf=class extends _c{constructor(e,t){super(e);let{id:n,idPrefix:{description:r=Vf,announcement:i=Hf}={},announcements:a=Wf,screenReaderInstructions:o=Uf,debounce:s=500}=t??{},c=n?`${r}-${n}`:cf(r),l=n?`${i}-${n}`:cf(i),u,d,f,p,m=(e=p)=>{!f||!e||f?.nodeValue!==e&&(f.nodeValue=e)},h=()=>yd.schedule(m),g=Xf(h,s),_=Object.entries(a).map(([e,t])=>this.manager.monitor.addEventListener(e,(n,r)=>{let i=f;if(!i)return;let a=t?.(n,r);a&&i.nodeValue!==a&&(p=a,Jf.includes(e)?g():(h(),g.cancel()))})),v=()=>{let e=[];u?.isConnected||(u=Kf(c,o.draggable),e.push(u)),d?.isConnected||(d=qf(l),f=document.createTextNode(``),d.appendChild(f),e.push(d)),e.length>0&&document.body.append(...e)},y=new Set;function b(){for(let e of y)e()}this.registerEffect(()=>{y.clear();for(let e of this.manager.registry.draggables.value){let t=e.handle??e.element;if(t){(!u||!d)&&y.add(v),(!Gf(t)||Su())&&!t.hasAttribute(`tabindex`)&&y.add(()=>t.setAttribute(`tabindex`,`0`)),!t.hasAttribute(`role`)&&t.tagName.toLowerCase()!==`button`&&y.add(()=>t.setAttribute(`role`,Bf.role)),t.hasAttribute(`aria-roledescription`)||y.add(()=>t.setAttribute(`aria-roledescription`,Bf.roleDescription)),t.hasAttribute(`aria-describedby`)||y.add(()=>t.setAttribute(`aria-describedby`,c));for(let n of[`aria-pressed`,`aria-grabbed`]){let r=String(e.isDragging);t.getAttribute(n)!==r&&y.add(()=>t.setAttribute(n,r))}let n=String(e.disabled);t.getAttribute(`aria-disabled`)!==n&&y.add(()=>t.setAttribute(`aria-disabled`,n))}}y.size>0&&yd.schedule(b)}),this.destroy=()=>{super.destroy(),u?.remove(),d?.remove(),_.forEach(e=>e())}}};function Xf(e,t){let n,r=()=>{clearTimeout(n),n=setTimeout(e,t)};return r.cancel=()=>clearTimeout(n),r}var Zf=class extends _c{constructor(e,t){super(e,t),this.manager=e;let n=Do(()=>mu(this.manager.dragOperation.source?.element));this.destroy=Qa(()=>{let{dragOperation:e}=this.manager,{cursor:t=`grabbing`,nonce:r}=this.options??{};if(e.status.initialized){let e=n.value,i=e.createElement(`style`);return r&&i.setAttribute(`nonce`,r),i.textContent=`* { cursor: ${t} !important; }`,e.head.appendChild(i),()=>i.remove()}})}},Qf=new Map,$f,ep,tp,np,rp,ip,ap,op,sp,cp,lp,up=class extends (rp=vc,np=[J],tp=[ko],ep=[ko],$f=[ko],rp){constructor(e){super(e),Nf(ap,5,this),Lf(this,sp),Lf(this,ip,new Set),Lf(this,op,Nf(ap,8,this,new Set)),Nf(ap,11,this),this.registerEffect(zf(this,sp,cp))}register(e){return $(this,ip).add(e),()=>{$(this,ip).delete(e)}}addRoot(e){return q(()=>{let t=new Set(this.additionalRoots);t.add(e),this.additionalRoots=t}),()=>{q(()=>{let t=new Set(this.additionalRoots);t.delete(e),this.additionalRoots=t})}}get sourceRoot(){let{source:e}=this.manager.dragOperation;return wu(e?.element??null)}get targetRoot(){let{target:e}=this.manager.dragOperation;return wu(e?.element??null)}get roots(){let{status:e}=this.manager.dragOperation;if(e.initializing||e.initialized){let e=[this.sourceRoot,this.targetRoot].filter(e=>e!=null);return new Set([...e,...this.additionalRoots])}return new Set}};ap=Of(rp),ip=new WeakMap,op=new WeakMap,sp=new WeakSet,cp=function(){let{roots:e}=this,t=[];for(let n of e)for(let e of $(this,ip))t.push(zf(this,sp,lp).call(this,n,e));return()=>{for(let e of t)e()}},lp=function(e,t){let n=Qf.get(e);n||(n=new Map,Qf.set(e,n));let r=n.get(t);if(!r){`adoptedStyleSheets`in e&&Array.isArray(e.adoptedStyleSheets);let{CSSStyleSheet:i}=(du(e)?e.defaultView:e.ownerDocument.defaultView)??{};if(!i)return()=>{};let a=new i;a.replaceSync(t),e.adoptedStyleSheets.push(a),r={sheet:a,refCount:0,cleanup:()=>{if(du(e)||Cu(e)&&e.host?.isConnected){let t=e.adoptedStyleSheets.indexOf(a);t!==-1&&e.adoptedStyleSheets.splice(t,1)}n.delete(t),n.size===0&&Qf.delete(e)}},n.set(t,r)}r.refCount++;let i=!1;return()=>{i||(i=!0,r.refCount--,r.refCount===0&&r.cleanup())}},Pf(ap,4,`additionalRoots`,np,up,op),Pf(ap,2,`sourceRoot`,tp,up),Pf(ap,2,`targetRoot`,ep,up),Pf(ap,2,`roots`,$f,up),Mf(ap,up);var dp=`data-dnd-`,fp=`${dp}dropping`,pp=`--dnd-`,mp=`${dp}dragging`,hp=`${dp}placeholder`,gp=[mp,hp,`popover`,`aria-pressed`,`aria-grabbing`],_p=[`view-transition-name`],vp=`
  :is(:root,:host) [${mp}] {
    position: fixed !important;
    pointer-events: none !important;
    touch-action: none;
    z-index: calc(infinity);
    will-change: translate;
    top: var(${pp}top, 0px) !important;
    left: var(${pp}left, 0px) !important;
    right: unset !important;
    bottom: unset !important;
    width: var(${pp}width, auto);
    max-width: var(${pp}width, auto);
    height: var(${pp}height, auto);
    max-height: var(${pp}height, auto);
    transition: var(${pp}transition) !important;
  }

  :is(:root,:host) [${hp}] {
    transition: none;
  }

  :is(:root,:host) [${hp}='hidden'] {
    visibility: hidden;
  }

  [${mp}] * {
    pointer-events: none !important;
  }

  [${mp}]:not([${fp}]) {
    translate: var(${pp}translate) !important;
  }

  [${mp}][style*='${pp}scale'] {
    scale: var(${pp}scale) !important;
    transform-origin: var(${pp}transform-origin) !important;
  }

  @layer {
    :where([${mp}][popover]) {
      overflow: visible;
      background: unset;
      border: unset;
      margin: unset;
      padding: unset;
      color: inherit;

      &:is(input, button) {
        border: revert;
        background: revert;
      }
    }
  }
  [${mp}]::backdrop, [${dp}overlay]:not([${mp}]) {
    display: none;
    visibility: hidden;
  }
`.replace(/\n+/g,` `).replace(/\s+/g,` `).trim();function yp(e,t=`hidden`){return q(()=>{let{element:n,manager:r}=e;if(!n||!r)return;let i=bp(n,r.registry.droppables),a=[],o=Eu(n),{remove:s}=o;return xp(i,o,a),Sp(o,t),o.remove=()=>{a.forEach(e=>e()),s.call(o)},o})}function bp(e,t){let n=new Map;for(let r of t)if(r.element&&(e===r.element||e.contains(r.element))){let e=`${dp}${cf(`dom-id`)}`;r.element.setAttribute(e,``),n.set(r,e)}return n}function xp(e,t,n){for(let[r,i]of e){if(!r.element)continue;let e=`[${i}]`,a=t.matches(e)?t:t.querySelector(e);if(r.element.removeAttribute(i),!a)continue;let o=r.element;r.proxy=a,a.removeAttribute(i),ju.set(o,a),n.push(()=>{ju.delete(o),r.proxy=void 0})}}function Sp(e,t=`hidden`){e.setAttribute(`inert`,`true`),e.setAttribute(`tab-index`,`-1`),e.setAttribute(`aria-hidden`,`true`),e.setAttribute(hp,t)}function Cp(e,t){return e===t?!0:Pu(e)===Pu(t)}function wp(e){let{target:t}=e;`newState`in e&&e.newState===`closed`&&tf(t)&&t.hasAttribute(`popover`)&&requestAnimationFrame(()=>md(t))}function Tp(e){return e.tagName===`TR`}function Ep(e,t,n){let r=new MutationObserver(r=>{let i=!1;for(let n of r){if(n.target!==e){i=!0;continue}if(n.type!==`attributes`)continue;let r=n.attributeName;if(r.startsWith(`aria-`)||gp.includes(r))continue;let a=e.getAttribute(r);if(r===`style`){if($d(e)&&$d(t)){let n=e.style;for(let e of Array.from(t.style))n.getPropertyValue(e)===``&&t.style.removeProperty(e);for(let e of Array.from(n)){if(_p.includes(e)||e.startsWith(pp))continue;let r=n.getPropertyValue(e);t.style.setProperty(e,r)}}}else a===null?t.removeAttribute(r):t.setAttribute(r,a)}i&&n&&(t.innerHTML=e.innerHTML)});return r.observe(e,{attributes:!0,subtree:!0,childList:!0}),r}function Dp(e,t,n){let r=new MutationObserver(r=>{for(let i of r)if(i.addedNodes.length!==0)for(let r of Array.from(i.addedNodes)){if(r.contains(e)&&e.nextElementSibling!==t){e.insertAdjacentElement(`afterend`,t),md(n);return}if(r.contains(t)&&t.previousElementSibling!==e){t.insertAdjacentElement(`beforebegin`,e),md(n);return}}});return r.observe(e.ownerDocument.body,{childList:!0,subtree:!0}),r}function Op(e){return new ResizeObserver(()=>{var t;let n=new Zd(e.placeholder,{frameTransform:e.frameTransform,ignoreTransforms:!0}),r=e.transformOrigin??{x:1,y:1},i=(e.width-n.width)*r.x+e.delta.x,a=(e.height-n.height)*r.y+e.delta.y;if(e.styles.set({width:n.width-e.widthOffset,height:n.height-e.heightOffset,top:e.top+a,left:e.left+i},pp),(t=e.getElementMutationObserver())==null||t.takeRecords(),Tp(e.element)&&Tp(e.placeholder)){let t=Array.from(e.element.cells),n=Array.from(e.placeholder.cells);e.getSavedCellWidths()||e.setSavedCellWidths(t.map(e=>e.style.width));for(let[e,r]of t.entries()){let t=n[e];r.style.width=`${t.getBoundingClientRect().width}px`}}e.dragOperation.shape=new Zd(e.feedbackElement)})}var kp=250,Ap=`ease`;function jp(e){var t;let{animation:n}=e;if(typeof n==`function`){let t=n({element:e.element,feedbackElement:e.feedbackElement,placeholder:e.placeholder,translate:e.translate,moved:e.moved});Promise.resolve(t).then(()=>{e.cleanup(),requestAnimationFrame(e.restoreFocus)});return}let{duration:r=kp,easing:i=Ap}=n??{};md(e.feedbackElement);let[,a]=ou(e.feedbackElement,e=>`translate`in e)??[];a?.pause();let o=e.placeholder??e.element,s={frameTransform:Cp(e.feedbackElement,o)?null:void 0},c=new Zd(e.feedbackElement,s),l=Nd(Cd(e.feedbackElement).translate)??e.translate,u=new Zd(o,s),d=Os.delta(c,u,e.alignment),f={x:l.x-d.x,y:l.y-d.y},p=Math.round(c.intrinsicHeight)===Math.round(u.intrinsicHeight)?{}:{minHeight:[`${c.intrinsicHeight}px`,`${u.intrinsicHeight}px`],maxHeight:[`${c.intrinsicHeight}px`,`${u.intrinsicHeight}px`]},m=Math.round(c.intrinsicWidth)===Math.round(u.intrinsicWidth)?{}:{minWidth:[`${c.intrinsicWidth}px`,`${u.intrinsicWidth}px`],maxWidth:[`${c.intrinsicWidth}px`,`${u.intrinsicWidth}px`]};e.styles.set({transition:e.transition},pp),e.feedbackElement.setAttribute(fp,``),(t=e.getElementMutationObserver())==null||t.takeRecords(),Wd({element:e.feedbackElement,keyframes:Tf(wf(wf({},p),m),{translate:[`${l.x}px ${l.y}px 0`,`${f.x}px ${f.y}px 0`]}),options:{duration:Tu(uu(e.feedbackElement))?0:e.moved||e.feedbackElement!==e.element?r:0,easing:i}}).then(()=>{e.feedbackElement.removeAttribute(fp),a?.finish(),e.cleanup(),requestAnimationFrame(e.restoreFocus)})}var Mp,Np,Pp,Fp,Ip,Lp,Rp,zp=class extends (Np=_c,Mp=[J],Np){constructor(e,t){super(e,t),Lf(this,Ip),Lf(this,Fp,Nf(Pp,8,this)),Nf(Pp,11,this),this.state={initial:{},current:{}};let n=e.registry.plugins.get(up),r=n?.register(vp);if(r){let e=this.destroy.bind(this);this.destroy=()=>{r(),e()}}this.registerEffect(zf(this,Ip,Lp).bind(this,n)),this.registerEffect(zf(this,Ip,Rp))}};Pp=Of(Np),Fp=new WeakMap,Ip=new WeakSet,Lp=function(e){let{overlay:t}=this;if(!t||!e)return;let n=wu(t);if(n)return e.addRoot(n)},Rp=function(){let{state:e,manager:t,options:n}=this,{dragOperation:r}=t,{position:i,source:a,status:o}=r;if(o.idle){e.current={},e.initial={};return}if(!a)return;let{element:s,feedback:c}=a;if(!s||c===`none`||!o.initialized||o.initializing)return;let{initial:l}=e,u=this.overlay??s,d=Ad(u),f=Ad(s),p=!Cp(s,u),m=new Zd(s,{frameTransform:p?f:null,ignoreTransforms:!p}),h={x:f.scaleX/d.scaleX,y:f.scaleY/d.scaleY},{width:g,height:_,top:v,left:y}=m;p&&(g/=h.x,_/=h.y);let b=new ef(u),{transition:x,translate:S,boxSizing:C,paddingBlockStart:w,paddingBlockEnd:T,paddingInlineStart:E,paddingInlineEnd:D,borderInlineStartWidth:ee,borderInlineEndWidth:te,borderBlockStartWidth:ne,borderBlockEndWidth:O}=Cd(s),re=c===`clone`,ie=C===`content-box`,ae=ie?parseInt(E)+parseInt(D)+parseInt(ee)+parseInt(te):0,oe=ie?parseInt(w)+parseInt(T)+parseInt(ne)+parseInt(O):0,k=c!==`move`&&!this.overlay?yp(a,re?`clone`:`hidden`):null,se=q(()=>nf(t.dragOperation.activatorEvent));if(S!==`none`){let e=Nd(S);e&&!l.translate&&(l.translate=e)}if(!l.transformOrigin){let e=q(()=>i.current);l.transformOrigin={x:(e.x-y*d.scaleX-d.x)/(g*d.scaleX),y:(e.y-v*d.scaleY-d.y)/(_*d.scaleY)}}let{transformOrigin:A}=l,j=v*d.scaleY+d.y,ce=y*d.scaleX+d.x;if(!l.coordinates&&(l.coordinates={x:ce,y:j},h.x!==1||h.y!==1)){let{scaleX:e,scaleY:t}=f,{x:n,y:r}=A;l.coordinates.x+=(g*e-g)*n,l.coordinates.y+=(_*t-_)*r}l.dimensions||={width:g,height:_},l.frameTransform||=d;let le={x:l.coordinates.x-ce,y:l.coordinates.y-j},M={width:(l.dimensions.width*l.frameTransform.scaleX-g*d.scaleX)*A.x,height:(l.dimensions.height*l.frameTransform.scaleY-_*d.scaleY)*A.y},N={x:le.x/d.scaleX+M.width,y:le.y/d.scaleY+M.height},ue={left:y+N.x,top:v+N.y};u.setAttribute(mp,`true`);let de=q(()=>r.transform),fe=l.translate??{x:0,y:0},pe=de.x*d.scaleX+fe.x,me=de.y*d.scaleY+fe.y;b.set({width:g-ae,height:_-oe,top:ue.top,left:ue.left,translate:`${pe}px ${me}px 0`,transition:x?`${x}, translate 0ms linear`:``,scale:p?`${h.x} ${h.y}`:``,"transform-origin":`${A.x*100}% ${A.y*100}%`},pp),k&&(s.insertAdjacentElement(`afterend`,k),n?.rootElement&&(typeof n.rootElement==`function`?n.rootElement(a):n.rootElement).appendChild(s)),pd(u)&&(u.hasAttribute(`popover`)||u.setAttribute(`popover`,`manual`),md(u),u.addEventListener(`beforetoggle`,wp));let he,ge,_e,ve=Op({placeholder:k,element:s,feedbackElement:u,frameTransform:d,transformOrigin:A,width:g,height:_,top:v,left:y,widthOffset:ae,heightOffset:oe,delta:N,styles:b,dragOperation:r,getElementMutationObserver:()=>he,getSavedCellWidths:()=>_e,setSavedCellWidths:e=>{_e=e}}),ye=new Zd(u);q(()=>r.shape=ye);let be=uu(u),xe=e=>{this.manager.actions.stop({event:e})},Se=Tu(be);se&&be.addEventListener(`resize`,xe),q(()=>a.status)===`idle`&&requestAnimationFrame(()=>a.status=`dragging`),k&&(ve.observe(k),he=Ep(s,k,re),ge=Dp(s,k,u));let Ce=t.dragOperation.source?.id,we=()=>{if(!se||Ce==null)return;let e=t.registry.draggables.get(Ce),n=e?.handle??e?.element;fu(n)&&n.focus()},Te=()=>{if(he?.disconnect(),ge?.disconnect(),ve.disconnect(),be.removeEventListener(`resize`,xe),pd(u)&&(u.removeEventListener(`beforetoggle`,wp),u.removeAttribute(`popover`)),u.removeAttribute(mp),b.reset(),_e&&Tp(s)){let e=Array.from(s.cells);for(let[t,n]of e.entries())n.style.width=_e[t]??``}a.status=`idle`;let t=e.current.translate!=null;k&&(t||k.parentElement!==u.parentElement)&&u.isConnected&&k.replaceWith(u),k?.remove()},P=n?.dropAnimation,F=jo(()=>{let{transform:t,status:n}=r;if(!(!t.x&&!t.y&&!e.current.translate)&&n.dragging){let n=l.translate??{x:0,y:0},i={x:t.x/d.scaleX+n.x,y:t.y/d.scaleY+n.y},a=e.current.translate,o=q(()=>r.modifiers),s=q(()=>r.shape?.current),c=se&&!Se?`250ms cubic-bezier(0.25, 1, 0.5, 1)`:`0ms linear`;if(b.set({transition:`${x}, translate ${c}`,translate:`${i.x}px ${i.y}px 0`},pp),he?.takeRecords(),s&&s!==ye&&a&&!o.length){let e=Ds.delta(i,a);r.shape=Os.from(s.boundingRectangle).translate(e.x*d.scaleX,e.y*d.scaleY)}else r.shape=new Zd(u);e.current.translate=i}},function(){if(r.status.dropped){this.dispose(),a.status=`dropping`;let n=e.current.translate,r=n!=null;if(!n&&s!==u&&(n={x:0,y:0}),!n||P===null){Te();return}t.renderer.rendering.then(()=>{jp({element:s,feedbackElement:u,placeholder:k,translate:n,moved:r,transition:x,alignment:a.alignment,styles:b,animation:P??void 0,getElementMutationObserver:()=>he,cleanup:Te,restoreFocus:we})})}});return()=>{Te(),F()}},Pf(Pp,4,`overlay`,Mp,zp,Fp),Mf(Pp,zp),zp.configure=dc(zp);var Bp=zp,Vp=!0,Hp=!1,Up,Wp,Gp,Kp=(Gp=[J],Id.Forward),qp,Jp,Yp;Wp=(Up=[J],Id.Reverse);var Xp=class{constructor(){Lf(this,Jp,Nf(qp,8,this,Vp)),Nf(qp,11,this),Lf(this,Yp,Nf(qp,12,this,Vp)),Nf(qp,15,this)}isLocked(e){return e===Id.Idle?!1:e==null?this[Id.Forward]===Vp&&this[Id.Reverse]===Vp:this[e]===Vp}unlock(e){e!==Id.Idle&&(this[e]=Hp)}};qp=Of(null),Jp=new WeakMap,Yp=new WeakMap,Pf(qp,4,Kp,Gp,Xp,Jp),Pf(qp,4,Wp,Up,Xp,Yp),Mf(qp,Xp);var Zp=[Id.Forward,Id.Reverse],Qp=class{constructor(){this.x=new Xp,this.y=new Xp}isLocked(){return this.x.isLocked()&&this.y.isLocked()}},$p=class extends _c{constructor(e){super(e);let t=Ha(new Qp),n=null;this.signal=t,Qa(()=>{let{status:r}=e.dragOperation;if(!r.initialized){n=null,t.value=new Qp;return}let{delta:i}=e.dragOperation.position;if(n){let e={x:em(i.x,n.x),y:em(i.y,n.y)},r=t.peek();Pa(()=>{for(let t of Rs)for(let n of Zp)e[t]===n&&r[t].unlock(n);t.value=r})}n=i})}get current(){return this.signal.peek()}};function em(e,t){return Math.sign(e-t)}var tm,nm,rm,im,am,om,sm=class extends (nm=vc,tm=[J],nm){constructor(e){super(e),Lf(this,im,Nf(rm,8,this,!1)),Nf(rm,11,this),Lf(this,am),Lf(this,om,()=>{if(!$(this,am))return;let{element:e,by:t}=$(this,am);t.y&&(e.scrollTop+=t.y),t.x&&(e.scrollLeft+=t.x)}),this.scroll=e=>{if(this.disabled)return!1;let t=this.getScrollableElements();if(!t)return Rf(this,am,void 0),!1;let{position:n}=this.manager.dragOperation,r=n?.current;if(r){let{by:n}=e??{},i=n?{x:cm(n.x),y:cm(n.y)}:void 0,a=i?void 0:this.scrollIntentTracker.current;if(a?.isLocked())return!1;for(let e of t){let t=_d(e,n);if(t.x||t.y){let{speed:t,direction:o}=zd(e,r,i);if(a)for(let e of Rs)a[e].isLocked(o[e])&&(t[e]=0,o[e]=0);if(o.x||o.y){let{x:r,y:i}=n??o,a=r*t.x,s=i*t.y;if(a||s){let t=$(this,am)?.by;if(this.autoScrolling&&t&&(t.x&&!a||t.y&&!s))continue;return Rf(this,am,{element:e,by:{x:a,y:s}}),yd.schedule($(this,om)),!0}}}}}return Rf(this,am,void 0),!1};let t=null,n=null,r=Do(()=>{let{position:n,source:r}=e.dragOperation;if(!n)return null;let i=ku(wu(r?.element),n.current);return i&&(t=i),i??t}),i=Do(()=>{let t=r.value,{documentElement:i}=mu(t);if(!t||t===i){let{target:t}=e.dragOperation,r=t?.element;if(r){let e=Od(r,{excludeElement:!1});return n=e,e}}if(t){let e=Od(t,{excludeElement:!1});return this.autoScrolling&&n&&e.size<n?.size?n:(n=e,e)}return n=null,null},Oo);this.getScrollableElements=()=>i.value,this.scrollIntentTracker=new $p(e),this.destroy=e.monitor.addEventListener(`dragmove`,t=>{this.disabled||t.defaultPrevented||!nf(e.dragOperation.activatorEvent)||!t.by||this.scroll({by:t.by})&&t.preventDefault()})}};rm=Of(nm),im=new WeakMap,am=new WeakMap,om=new WeakMap,Pf(rm,4,`autoScrolling`,tm,sm,im),Mf(rm,sm);function cm(e){return e>0?Id.Forward:e<0?Id.Reverse:Id.Idle}var lm=new class{constructor(e){this.scheduler=e,this.pending=!1,this.tasks=new Set,this.resolvers=new Set,this.flush=()=>{let{tasks:e,resolvers:t}=this;this.pending=!1,this.tasks=new Set,this.resolvers=new Set;for(let t of e)t();for(let e of t)e()}}schedule(e){return this.tasks.add(e),this.pending||(this.pending=!0,this.scheduler(this.flush)),new Promise(e=>this.resolvers.add(e))}}(e=>{typeof requestAnimationFrame==`function`?requestAnimationFrame(e):e()}),um=10,dm=class extends _c{constructor(e,t){super(e);let n=e.registry.plugins.get(sm);if(!n)throw Error(`AutoScroller plugin depends on Scroller plugin`);this.destroy=Qa(()=>{if(this.disabled)return;let{position:t,status:r}=e.dragOperation;if(r.dragging)if(n.scroll()){n.autoScrolling=!0;let e=setInterval(()=>lm.schedule(n.scroll),um);return()=>{clearInterval(e)}}else n.autoScrolling=!1})}},fm={capture:!0,passive:!0},pm,mm=class extends vc{constructor(e){super(e),Lf(this,pm),this.handleScroll=()=>{$(this,pm)??Rf(this,pm,setTimeout(()=>{this.manager.collisionObserver.forceUpdate(!1),Rf(this,pm,void 0)},50))};let{dragOperation:t}=this.manager;this.destroy=Qa(()=>{if(t.status.dragging){let e=t.source?.element?.ownerDocument??document;return e.addEventListener(`scroll`,this.handleScroll,fm),()=>{e.removeEventListener(`scroll`,this.handleScroll,fm)}}})}};pm=new WeakMap;var hm=class extends _c{constructor(e,t){super(e,t),this.manager=e,this.destroy=Qa(()=>{let{dragOperation:e}=this.manager,{nonce:t}=this.options??{};if(e.status.initialized){let e=document.createElement(`style`);return t&&e.setAttribute(`nonce`,t),e.textContent=`* { user-select: none !important; -webkit-user-select: none !important; }`,document.head.appendChild(e),gm(),document.addEventListener(`selectionchange`,gm,{capture:!0}),()=>{document.removeEventListener(`selectionchange`,gm,{capture:!0}),e.remove()}}})}};function gm(){var e;(e=document.getSelection())==null||e.removeAllRanges()}var _m=Object.freeze({offset:10,keyboardCodes:{start:[`Space`,`Enter`],cancel:[`Escape`],end:[`Space`,`Enter`,`Tab`],up:[`ArrowUp`],down:[`ArrowDown`],left:[`ArrowLeft`],right:[`ArrowRight`]},preventActivation(e,t){let n=t.handle??t.element;return e.target!==n}}),vm,ym=class extends El{constructor(e,t){super(e),this.manager=e,this.options=t,Lf(this,vm,[]),this.listeners=new Nu,this.handleSourceKeyDown=(e,t,n)=>{if(this.disabled||e.defaultPrevented||!tf(e.target)||t.disabled)return;let{keyboardCodes:r=_m.keyboardCodes,preventActivation:i=_m.preventActivation}=n??{};r.start.includes(e.code)&&this.manager.dragOperation.status.idle&&(i?.(e,t)||this.handleStart(e,t,n))}}bind(e,t=this.options){return Qa(()=>{let n=e.handle??e.element,r=n=>{nf(n)&&this.handleSourceKeyDown(n,e,t)};if(n)return n.addEventListener(`keydown`,r),()=>{n.removeEventListener(`keydown`,r)}})}handleStart(e,t,n){let{element:r}=t;if(!r)throw Error(`Source draggable does not have an associated element`);e.preventDefault(),e.stopImmediatePropagation(),Vd(r);let{center:i}=new Zd(r);if(this.manager.actions.start({event:e,coordinates:{x:i.x,y:i.y},source:t}).signal.aborted)return this.cleanup();this.sideEffects();let a=mu(r),o=[this.listeners.bind(a,[{type:`keydown`,listener:e=>this.handleKeyDown(e,t,n),options:{capture:!0}}])];$(this,vm).push(...o)}handleKeyDown(e,t,n){let{keyboardCodes:r=_m.keyboardCodes}=n??{};if(xm(e,[...r.end,...r.cancel])){e.preventDefault();let t=xm(e,r.cancel);this.handleEnd(e,t);return}xm(e,r.up)?this.handleMove(`up`,e):xm(e,r.down)&&this.handleMove(`down`,e),xm(e,r.left)?this.handleMove(`left`,e):xm(e,r.right)&&this.handleMove(`right`,e)}handleEnd(e,t){this.manager.actions.stop({event:e,canceled:t}),this.cleanup()}handleMove(e,t){let{shape:n}=this.manager.dragOperation,r=t.shiftKey?5:1,i={x:0,y:0},a=this.options?.offset??_m.offset;if(typeof a==`number`&&(a={x:a,y:a}),n){switch(e){case`up`:i={x:0,y:-a.y*r};break;case`down`:i={x:0,y:a.y*r};break;case`left`:i={x:-a.x*r,y:0};break;case`right`:i={x:a.x*r,y:0};break}(i.x||i.y)&&(t.preventDefault(),this.manager.actions.move({event:t,by:i}))}}sideEffects(){let e=this.manager.registry.plugins.get(dm);e?.disabled===!1&&(e.disable(),$(this,vm).push(()=>{e.enable()}))}cleanup(){$(this,vm).forEach(e=>e()),Rf(this,vm,[])}destroy(){this.cleanup(),this.listeners.clear()}};vm=new WeakMap,ym.configure=dc(ym),ym.defaults=_m;var bm=ym;function xm(e,t){return t.includes(e.code)}var Sm,Cm=class extends kl{constructor(){super(...arguments),Lf(this,Sm)}onEvent(e){switch(e.type){case`pointerdown`:Rf(this,Sm,yu(e));break;case`pointermove`:if(!$(this,Sm))return;let{x:t,y:n}=yu(e),r={x:t-$(this,Sm).x,y:n-$(this,Sm).y},{tolerance:i}=this.options;if(i&&Is(r,i)){this.abort();return}Is(r,this.options.value)&&this.activate(e);break;case`pointerup`:this.abort();break}}abort(){Rf(this,Sm,void 0)}};Sm=new WeakMap;var wm,Tm,Em=class extends kl{constructor(){super(...arguments),Lf(this,wm),Lf(this,Tm)}onEvent(e){switch(e.type){case`pointerdown`:Rf(this,Tm,yu(e)),Rf(this,wm,setTimeout(()=>this.activate(e),this.options.value));break;case`pointermove`:if(!$(this,Tm))return;let{x:t,y:n}=yu(e);Is({x:t-$(this,Tm).x,y:n-$(this,Tm).y},this.options.tolerance)&&this.abort();break;case`pointerup`:this.abort();break}}abort(){$(this,wm)&&(clearTimeout($(this,wm)),Rf(this,Tm,void 0),Rf(this,wm,void 0))}};wm=new WeakMap,Tm=new WeakMap;var Dm=class{};Dm.Delay=Em,Dm.Distance=Cm;var Om=Object.freeze({activationConstraints(e,t){let{pointerType:n,target:r}=e;if(!(n===`mouse`&&tf(r)&&(t.handle===r||t.handle?.contains(r))))return n===`touch`?[new Dm.Delay({value:250,tolerance:5})]:af(r)&&!e.defaultPrevented?[new Dm.Delay({value:200,tolerance:0})]:[new Dm.Delay({value:200,tolerance:10}),new Dm.Distance({value:5})]},preventActivation(e,t){let{target:n}=e;return n===t.element||n===t.handle||!tf(n)||t.handle?.contains(n)?!1:Mu(n)}}),km,Am=class extends El{constructor(e,t){super(e),this.manager=e,this.options=t,Lf(this,km,new Set),this.listeners=new Nu,this.latest={event:void 0,coordinates:void 0},this.handleMove=()=>{let{event:e,coordinates:t}=this.latest;!e||!t||this.manager.actions.move({event:e,to:t})},this.handleCancel=this.handleCancel.bind(this),this.handlePointerUp=this.handlePointerUp.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this)}activationConstraints(e,t,n=this.options){let{activationConstraints:r=Om.activationConstraints}=n??{};return typeof r==`function`?r(e,t):r}bind(e,t=this.options){return Qa(()=>{let n=new AbortController,{signal:r}=n,i=n=>{rf(n)&&this.handlePointerDown(n,e,t)},a=[e.handle??e.element];t?.activatorElements&&(a=Array.isArray(t.activatorElements)?t.activatorElements:t.activatorElements(e));for(let e of a)e&&(Im(e.ownerDocument.defaultView),e.addEventListener(`pointerdown`,i,{signal:r}));return()=>n.abort()})}handlePointerDown(e,t,n){if(this.disabled||!e.isPrimary||e.button!==0||!tf(e.target)||t.disabled||Mm(e)||!this.manager.dragOperation.status.idle)return;let{preventActivation:r=Om.preventActivation}=n??{};if(r?.(e,t))return;let{target:i}=e,a=fu(i)&&i.draggable&&i.getAttribute(`draggable`)===`true`,o=Ad(t.element),{x:s,y:c}=yu(e);this.initialCoordinates={x:s*o.scaleX+o.x,y:c*o.scaleY+o.y};let l=this.activationConstraints(e,t,n);e.sensor=this;let u=new Dl(l,e=>this.handleStart(t,e));u.signal.onabort=()=>this.handleCancel(e),u.onEvent(e),this.controller=u;let d=xu(),f=this.listeners.bind(d,[{type:`pointermove`,listener:e=>this.handlePointerMove(e,t)},{type:`pointerup`,listener:this.handlePointerUp,options:{capture:!0}},{type:`dragstart`,listener:a?this.handleCancel:Nm,options:{capture:!0}}]);$(this,km).add(()=>{f(),this.initialCoordinates=void 0})}handlePointerMove(e,t){var n;if(this.controller?.activated===!1){(n=this.controller)==null||n.onEvent(e);return}if(this.manager.dragOperation.status.dragging){let n=yu(e),r=Ad(t.element);n.x=n.x*r.scaleX+r.x,n.y=n.y*r.scaleY+r.y,e.preventDefault(),e.stopPropagation(),this.latest.event=e,this.latest.coordinates=n,yd.schedule(this.handleMove)}}handlePointerUp(e){let{status:t}=this.manager.dragOperation;if(!t.idle){e.preventDefault(),e.stopPropagation();let n=!t.initialized;this.manager.actions.stop({event:e,canceled:n})}this.cleanup()}handleKeyDown(e){e.key===`Escape`&&(e.preventDefault(),this.handleCancel(e))}handleStart(e,t){let{manager:n,initialCoordinates:r}=this;if(!r||!n.dragOperation.status.idle||t.defaultPrevented)return;if(n.actions.start({coordinates:r,event:t,source:e}).signal.aborted)return this.cleanup();t.preventDefault();let i=mu(t.target).body;i.setPointerCapture(t.pointerId);let a=tf(t.target)?[t.target,i]:i,o=this.listeners.bind(a,[{type:`touchmove`,listener:Nm,options:{passive:!1}},{type:`click`,listener:Nm},{type:`contextmenu`,listener:Nm},{type:`keydown`,listener:this.handleKeyDown}]);$(this,km).add(o)}handleCancel(e){let{dragOperation:t}=this.manager;t.status.initialized&&this.manager.actions.stop({event:e,canceled:!0}),this.cleanup()}cleanup(){this.latest={event:void 0,coordinates:void 0},$(this,km).forEach(e=>e()),$(this,km).clear()}destroy(){this.cleanup(),this.listeners.clear()}};km=new WeakMap,Am.configure=dc(Am),Am.defaults=Om;var jm=Am;function Mm(e){return`sensor`in e}function Nm(e){e.preventDefault()}function Pm(){}var Fm=new WeakSet;function Im(e){!e||Fm.has(e)||(e.addEventListener(`touchmove`,Pm,{capture:!1,passive:!1}),Fm.add(e))}var Lm={modifiers:[],plugins:[Yf,dm,Zf,Bp,hm],sensors:[jm,bm]},Rm=class extends $l{constructor(e={}){let{plugins:t=Lm.plugins,sensors:n=Lm.sensors,modifiers:r=[]}=e;super(Tf(wf({},e),{plugins:[mm,sm,up,...t],sensors:n,modifiers:r}))}},zm,Bm,Vm,Hm,Um,Wm,Gm,Km,qm=class extends (Hm=dl,Vm=[J],Bm=[J],zm=[J],Hm){constructor(e,t){var n=e,{element:r,effects:i=()=>[],handle:a,feedback:o=`default`}=n,s=Df(n,[`element`,`effects`,`handle`,`feedback`]);super(wf({effects:()=>[...i(),()=>{let{manager:e}=this;if(!e)return;let t=(this.sensors?.map(fc)??[...e.sensors]).map(t=>{let n=t instanceof El?t:e.registry.register(t.plugin),r=t instanceof El?void 0:t.options;return n.bind(this,r)});return function(){t.forEach(e=>e())}}]},s),t),Lf(this,Wm,Nf(Um,8,this)),Nf(Um,11,this),Lf(this,Gm,Nf(Um,12,this)),Nf(Um,15,this),Lf(this,Km,Nf(Um,16,this)),Nf(Um,19,this),this.element=r,this.handle=a,this.feedback=o}};Um=Of(Hm),Wm=new WeakMap,Gm=new WeakMap,Km=new WeakMap,Pf(Um,4,`handle`,Vm,qm,Wm),Pf(Um,4,`element`,Bm,qm,Gm),Pf(Um,4,`feedback`,zm,qm,Km),Mf(Um,qm);var Jm,Ym,Xm,Zm,Qm,$m,eh,th,nh,rh,ih=class extends (Xm=Tl,Ym=[J],Jm=[J],Xm){constructor(e,t){var n=e,{element:r,effects:i=()=>[]}=n,a=Df(n,[`element`,`effects`]);let{collisionDetector:o=df}=a,s=e=>{let{manager:t,element:n}=this;if(!n||e===null){this.shape=void 0;return}if(!t)return;let r=new Zd(n),i=q(()=>this.shape);return r&&i?.equals(r)?i:(this.shape=r,r)},c=Ha(!1);super(Tf(wf({},a),{collisionDetector:o,effects:()=>[...i(),()=>{let{element:e,manager:t}=this;if(!t)return;let{dragOperation:n}=t,{source:r}=n;c.value=!!(r&&n.status.initialized&&e&&!this.disabled&&this.accepts(r))},()=>{let{element:e}=this;if(c.value&&e){let t=new fd(e,s);return()=>{t.disconnect(),this.shape=void 0}}},()=>{if(this.manager?.dragOperation.status.initialized)return()=>{this.shape=void 0}}]}),t),Lf(this,nh),Lf(this,Qm,Nf(Zm,8,this)),Nf(Zm,11,this),Lf(this,rh,Nf(Zm,12,this)),Nf(Zm,15,this),this.element=r,this.refreshShape=()=>s()}set element(e){Rf(this,nh,e,th)}get element(){return this.proxy??$(this,nh,eh)}};Zm=Of(Xm),Qm=new WeakMap,nh=new WeakSet,rh=new WeakMap,$m=Pf(Zm,20,`#element`,Ym,nh,Qm),eh=$m.get,th=$m.set,Pf(Zm,4,`proxy`,Jm,ih,rh),Mf(Zm,ih);var ah=Object.create,oh=Object.defineProperty,sh=Object.defineProperties,ch=Object.getOwnPropertyDescriptor,lh=Object.getOwnPropertyDescriptors,uh=Object.getOwnPropertySymbols,dh=Object.prototype.hasOwnProperty,fh=Object.prototype.propertyIsEnumerable,ph=(e,t)=>(t=Symbol[e])?t:Symbol.for(`Symbol.`+e),mh=e=>{throw TypeError(e)},hh=(e,t,n)=>t in e?oh(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,gh=(e,t)=>{for(var n in t||={})dh.call(t,n)&&hh(e,n,t[n]);if(uh)for(var n of uh(t))fh.call(t,n)&&hh(e,n,t[n]);return e},_h=(e,t)=>sh(e,lh(t)),vh=(e,t)=>{var n={};for(var r in e)dh.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&uh)for(var r of uh(e))t.indexOf(r)<0&&fh.call(e,r)&&(n[r]=e[r]);return n},yh=e=>[,,,ah(null)],bh=[`class`,`method`,`getter`,`setter`,`accessor`,`field`,`value`,`get`,`set`],xh=e=>e!==void 0&&typeof e!=`function`?mh(`Function expected`):e,Sh=(e,t,n,r,i)=>({kind:bh[e],name:t,metadata:r,addInitializer:e=>n._?mh(`Already initialized`):i.push(xh(e||null))}),Ch=(e,t)=>hh(t,ph(`metadata`),e[3]),wh=(e,t,n,r)=>{for(var i=0,a=e[t>>1],o=a&&a.length;i<o;i++)t&1?a[i].call(n):r=a[i].call(n,r);return r},Th=(e,t,n,r,i,a)=>{for(var o,s,c,l,u,d=t&7,f=!1,p=!1,m=e.length+1,h=bh[d+5],g=e[m-1]=[],_=e[m]||(e[m]=[]),v=(i=i.prototype,ch({get[n](){return Dh(this,a)},set[n](e){return kh(this,a,e)}},n)),y=r.length-1;y>=0;y--)l=Sh(d,n,c={},e[3],_),l.static=f,l.private=p,u=l.access={has:e=>n in e},u.get=e=>e[n],u.set=(e,t)=>e[n]=t,s=(0,r[y])({get:v.get,set:v.set},l),c._=1,s===void 0?xh(s)&&(v[h]=s):typeof s!=`object`||!s?mh(`Object expected`):(xh(o=s.get)&&(v.get=o),xh(o=s.set)&&(v.set=o),xh(o=s.init)&&g.unshift(o));return v&&oh(i,n,v),i},Eh=(e,t,n)=>t.has(e)||mh(`Cannot `+n),Dh=(e,t,n)=>(Eh(e,t,`read from private field`),t.get(e)),Oh=(e,t,n)=>t.has(e)?mh(`Cannot add the same private member more than once`):t instanceof WeakSet?t.add(e):t.set(e,n),kh=(e,t,n,r)=>(Eh(e,t,`write to private field`),t.set(e,n),n);function Ah(e){return e instanceof ug||e instanceof lg}var jh=10,Mh=class extends _c{constructor(e){super(e);let t=Qa(()=>{let{dragOperation:t}=e;if(nf(t.activatorEvent)&&Ah(t.source)&&t.status.initialized){let t=e.registry.plugins.get(sm);if(t)return t.disable(),()=>t.enable()}}),n=e.monitor.addEventListener(`dragmove`,(e,t)=>{queueMicrotask(()=>{if(this.disabled||e.defaultPrevented||!e.nativeEvent)return;let{dragOperation:n}=t;if(!nf(e.nativeEvent)||!Ah(n.source)||!n.shape)return;let{actions:r,collisionObserver:i,registry:a}=t,{by:o}=e;if(!o)return;let s=Nh(o),{source:c,target:l}=n,{center:u}=n.shape.current,d=[],f=[];Pa(()=>{for(let e of a.droppables){let{id:t}=e;if(!e.accepts(c)||t===l?.id&&Ah(e)||!e.element)continue;let n=e.shape,r=new Zd(e.element,{getBoundingClientRect:e=>vu(e,void 0,.2)});!r.height||!r.width||(s==`down`&&u.y+jh<r.center.y||s==`up`&&u.y-jh>r.center.y||s==`left`&&u.x-jh>r.center.x||s==`right`&&u.x+jh<r.center.x)&&(d.push(e),e.shape=r,f.push(()=>e.shape=n))}}),e.preventDefault(),i.disable();let p=i.computeCollisions(d,ff);Pa(()=>f.forEach(e=>e()));let[m]=p;if(!m)return;let{id:h}=m,{index:g,group:_}=c.sortable;r.setDropTarget(h).then(()=>{let{source:e,target:t,shape:a}=n;if(!e||!Ah(e)||!a)return;let{index:o,group:s,target:c}=e.sortable,l=g!==o||_!==s,u=l?c:t?.element;if(!u)return;Vd(u);let d=new Zd(u);if(!d)return;let f=Os.delta(d,Os.from(a.current.boundingRectangle),e.alignment);r.move({by:f}),l?r.setDropTarget(e.id).then(()=>i.enable()):i.enable()})})});this.destroy=()=>{n(),t()}}};function Nh(e){let{x:t,y:n}=e;if(t>0)return`right`;if(t<0)return`left`;if(n>0)return`down`;if(n<0)return`up`}var Ph=Object.defineProperty,Fh=Object.defineProperties,Ih=Object.getOwnPropertyDescriptors,Lh=Object.getOwnPropertySymbols,Rh=Object.prototype.hasOwnProperty,zh=Object.prototype.propertyIsEnumerable,Bh=(e,t,n)=>t in e?Ph(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Vh=(e,t)=>{for(var n in t||={})Rh.call(t,n)&&Bh(e,n,t[n]);if(Lh)for(var n of Lh(t))zh.call(t,n)&&Bh(e,n,t[n]);return e},Hh=(e,t)=>Fh(e,Ih(t));function Uh(e,t,n){if(t===n)return e;let r=e.slice();return r.splice(n,0,r.splice(t,1)[0]),r}function Wh(e,t,n){let{source:r,target:i,canceled:a}=t.operation;if(!r||!i||a)return`preventDefault`in t&&t.preventDefault(),e;let o=(e,t)=>e===t||typeof e==`object`&&`id`in e&&e.id===t;if(Array.isArray(e)){let t=e.findIndex(e=>o(e,r.id)),s=e.findIndex(e=>o(e,i.id));if(t===-1||s===-1)return e;if(!a&&`index`in r&&typeof r.index==`number`){let i=r.index;if(i!==t)return n(e,t,i)}return n(e,t,s)}let s=Object.entries(e),c=-1,l,u=-1,d;for(let[e,t]of s)if(c===-1&&(c=t.findIndex(e=>o(e,r.id)),c!==-1&&(l=e)),u===-1&&(u=t.findIndex(e=>o(e,i.id)),u!==-1&&(d=e)),c!==-1&&u!==-1)break;if(!r.manager)return e;let{dragOperation:f}=r.manager,p=f.shape?.current.center??f.position.current;if(d==null&&i.id in e){let t=i.shape&&p.y>i.shape.center.y?e[i.id].length:0;d=i.id,u=t}if(l==null||d==null||l===d&&c===u)return`preventDefault`in t&&t.preventDefault(),e;if(l===d)return Hh(Vh({},e),{[l]:n(e[l],c,u)});let m=i.shape&&Math.round(p.y)>Math.round(i.shape.center.y)?1:0,h=e[l][c];return Hh(Vh({},e),{[l]:[...e[l].slice(0,c),...e[l].slice(c+1)],[d]:[...e[d].slice(0,u+m),h,...e[d].slice(u+m)]})}function Gh(e,t){return Wh(e,t,Uh)}var Kh=`__default__`,qh=class extends _c{constructor(e){super(e);let t=()=>{let t=new Map;for(let n of e.registry.droppables)if(n instanceof ug){let{sortable:e}=n,{group:r}=e,i=t.get(r);i||(i=new Set,t.set(r,i)),i.add(e)}for(let[e,n]of t)t.set(e,new Set(Xh(n)));return t},n=[e.monitor.addEventListener(`dragover`,(e,n)=>{if(this.disabled)return;let{dragOperation:r}=n,{source:i,target:a}=r;if(!Ah(i)||!Ah(a)||i.sortable===a.sortable)return;let o=t(),s=i.sortable.group===a.sortable.group,c=o.get(i.sortable.group),l=s?c:o.get(a.sortable.group);!c||!l||queueMicrotask(()=>{e.defaultPrevented||n.renderer.rendering.then(()=>{let r=t();for(let[e,t]of o.entries()){let n=Array.from(t).entries();for(let[t,i]of n)if(i.index!==t||i.group!==e||!r.get(e)?.has(i))return}let u=i.sortable.element,d=a.sortable.element;if(!d||!u||!s&&a.id===i.sortable.group)return;let f=Xh(c),p=s?f:Xh(l),m=i.sortable.group??Kh,h=a.sortable.group??Kh,g={[m]:f,[h]:p},_=Gh(g,e);if(g===_)return;let v=_[h].indexOf(i.sortable),y=_[h].indexOf(a.sortable);n.collisionObserver.disable(),Jh(u,v,d,y),Pa(()=>{for(let[e,t]of _[m].entries())t.index=e;if(!s)for(let[e,t]of _[h].entries())t.group=a.sortable.group,t.index=e}),n.actions.setDropTarget(i.id).then(()=>n.collisionObserver.enable())})})}),e.monitor.addEventListener(`dragend`,(e,n)=>{if(!e.canceled)return;let{dragOperation:r}=n,{source:i}=r;Ah(i)&&(i.sortable.initialIndex===i.sortable.index&&i.sortable.initialGroup===i.sortable.group||queueMicrotask(()=>{let e=t(),r=e.get(i.sortable.initialGroup);r&&n.renderer.rendering.then(()=>{for(let[t,n]of e.entries()){let e=Array.from(n).entries();for(let[n,r]of e)if(r.index!==n||r.group!==t)return}let t=Xh(r),n=i.sortable.element,a=t[i.sortable.initialIndex],o=a?.element;!a||!o||!n||(Jh(n,a.index,o,i.index),Pa(()=>{for(let[t,n]of e.entries()){let e=Array.from(n).values();for(let t of e)t.index=t.initialIndex,t.group=t.initialGroup}}))})}))})];this.destroy=()=>{for(let e of n)e()}}};function Jh(e,t,n,r){let i=r<t?`afterend`:`beforebegin`;n.insertAdjacentElement(i,e)}function Yh(e,t){return e.index-t.index}function Xh(e){return Array.from(e).sort(Yh)}var Zh=[Mh,qh],Qh={duration:250,easing:`cubic-bezier(0.25, 1, 0.5, 1)`,idle:!1},$h=new ts,eg,tg=[J],ng,rg,ig,ag,og,sg;eg=[J];var cg=class{constructor(e,t){Oh(this,rg,wh(ng,8,this)),wh(ng,11,this),Oh(this,ig),Oh(this,ag),Oh(this,og,wh(ng,12,this)),wh(ng,15,this),Oh(this,sg),this.register=()=>(Pa(()=>{var e,t;(e=this.manager)==null||e.registry.register(this.droppable),(t=this.manager)==null||t.registry.register(this.draggable)}),()=>this.unregister()),this.unregister=()=>{Pa(()=>{var e,t;(e=this.manager)==null||e.registry.unregister(this.droppable),(t=this.manager)==null||t.registry.unregister(this.draggable)})},this.destroy=()=>{Pa(()=>{this.droppable.destroy(),this.draggable.destroy()})};var n=e,{effects:r=()=>[],group:i,index:a,sensors:o,type:s,transition:c=Qh,plugins:l=Zh}=n,u=vh(n,[`effects`,`group`,`index`,`sensors`,`type`,`transition`,`plugins`]);this.droppable=new ug(u,t,this),this.draggable=new lg(_h(gh({},u),{effects:()=>[()=>{let e=this.manager?.dragOperation.status;e?.initializing&&this.id===this.manager?.dragOperation.source?.id&&$h.clear(this.manager),e?.dragging&&$h.set(this.manager,this.id,q(()=>({initialIndex:this.index,initialGroup:this.group})))},()=>{let{index:e,group:t,manager:n}=this,r=Dh(this,ag),i=Dh(this,ig);(e!==r||t!==i)&&(kh(this,ag,e),kh(this,ig,t),this.animate())},()=>{let{target:e}=this,{feedback:t,isDragSource:n}=this.draggable;t==`move`&&n&&(this.droppable.disabled=!e)},()=>{let{manager:e}=this;for(let t of l)e?.registry.register(t)},...r()],type:s,sensors:o}),t,this),kh(this,sg,u.element),this.manager=t,this.index=a,kh(this,ag,a),this.group=i,kh(this,ig,i),this.type=s,this.transition=c}get initialIndex(){return $h.get(this.manager,this.id)?.initialIndex??this.index}get initialGroup(){return $h.get(this.manager,this.id)?.initialGroup??this.group}animate(){q(()=>{let{manager:e,transition:t}=this,{shape:n}=this.droppable;if(!e)return;let{idle:r}=e.dragOperation.status;!n||!t||r&&!t.idle||e.renderer.rendering.then(()=>{let{element:r}=this;if(!r)return;let i=this.refreshShape();if(!i)return;let a={x:n.boundingRectangle.left-i.boundingRectangle.left,y:n.boundingRectangle.top-i.boundingRectangle.top},{translate:o}=Cd(r),s=Gd(r,o,!1),c=Gd(r,o);if(a.x||a.y){let n=Tu(uu(r))?_h(gh({},t),{duration:0}):t;Wd({element:r,keyframes:{translate:[`${s.x+a.x}px ${s.y+a.y}px ${s.z}`,`${c.x}px ${c.y}px ${c.z}`]},options:n}).then(()=>{e.dragOperation.status.dragging||(this.droppable.shape=void 0)})}})})}get manager(){return this.draggable.manager}set manager(e){Pa(()=>{this.draggable.manager=e,this.droppable.manager=e})}set element(e){Pa(()=>{let t=Dh(this,sg),n=this.droppable.element,r=this.draggable.element;(!n||n===t)&&(this.droppable.element=e),(!r||r===t)&&(this.draggable.element=e),kh(this,sg,e)})}get element(){let e=Dh(this,sg);if(e)return ju.get(e)??e??this.droppable.element}set target(e){this.droppable.element=e}get target(){return this.droppable.element}set source(e){this.draggable.element=e}get source(){return this.draggable.element}get disabled(){return this.draggable.disabled&&this.droppable.disabled}set feedback(e){this.draggable.feedback=e}set disabled(e){Pa(()=>{this.droppable.disabled=e,this.draggable.disabled=e})}set data(e){Pa(()=>{this.droppable.data=e,this.draggable.data=e})}set handle(e){this.draggable.handle=e}set id(e){Pa(()=>{this.droppable.id=e,this.draggable.id=e})}get id(){return this.droppable.id}set sensors(e){this.draggable.sensors=e}set modifiers(e){this.draggable.modifiers=e}set collisionPriority(e){this.droppable.collisionPriority=e}set collisionDetector(e){this.droppable.collisionDetector=e??df}set alignment(e){this.draggable.alignment=e}get alignment(){return this.draggable.alignment}set type(e){Pa(()=>{this.droppable.type=e,this.draggable.type=e})}get type(){return this.draggable.type}set accept(e){this.droppable.accept=e}get accept(){return this.droppable.accept}get isDropTarget(){return this.droppable.isDropTarget}get isDragSource(){return this.draggable.isDragSource}get isDragging(){return this.draggable.isDragging}get isDropping(){return this.draggable.isDropping}get status(){return this.draggable.status}refreshShape(){return this.droppable.refreshShape()}accepts(e){return this.droppable.accepts(e)}};ng=yh(),rg=new WeakMap,ig=new WeakMap,ag=new WeakMap,og=new WeakMap,sg=new WeakMap,Th(ng,4,`index`,tg,cg,rg),Th(ng,4,`group`,eg,cg,og),Ch(ng,cg);var lg=class extends qm{constructor(e,t,n){super(e,t),this.sortable=n}get index(){return this.sortable.index}},ug=class extends ih{constructor(e,t,n){super(e,t),this.sortable=n}},dg=Object.defineProperty,fg=Object.defineProperties,pg=Object.getOwnPropertyDescriptors,mg=Object.getOwnPropertySymbols,hg=Object.prototype.hasOwnProperty,gg=Object.prototype.propertyIsEnumerable,_g=(e,t,n)=>t in e?dg(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,vg=(e,t)=>{for(var n in t||={})hg.call(t,n)&&_g(e,n,t[n]);if(mg)for(var n of mg(t))gg.call(t,n)&&_g(e,n,t[n]);return e},yg=(e,t)=>fg(e,pg(t)),bg=class extends Al{apply({transform:e}){if(!this.options)return e;let{axis:t,value:n}=this.options;return yg(vg({},e),{[t]:n})}};bg.configure=dc(bg);var xg=bg,Sg=xg.configure({axis:`x`,value:0});xg.configure({axis:`y`,value:0});var Cg=class extends Al{apply({transform:e}){let{size:t=20}=this.options??{},n=typeof t==`number`?t:t.x,r=typeof t==`number`?t:t.y;return yg(vg({},e),{x:Math.ceil(e.x/n)*n,y:Math.ceil(e.y/r)*r})}};Cg.configure=dc(Cg);var wg=t({default:()=>Tg}),Tg=class extends k{constructor(...e){super(...e),this.sortables=[],this.onDragEnd=()=>this.updateOrder()}static{this.targets=[`container`,`orderInput`]}connect(){this.manager=new Rm({modifiers:[Sg]}),this.manager.monitor.addEventListener(`dragend`,this.onDragEnd),this.refreshSortables()}disconnect(){this.teardownSortables(),this.manager?.monitor.removeEventListener(`dragend`,this.onDragEnd),this.manager?.destroy?.(),this.manager=void 0}containerTargetConnected(){this.refreshSortables()}containerTargetDisconnected(){this.refreshSortables()}refreshSortables(){this.teardownSortables(),this.manager&&this.containerTargets.forEach((e,t)=>{Array.from(e.querySelectorAll(`[data-id]`)).forEach((e,n)=>{let r=new cg({id:e.dataset.id||cf(`item`),index:n,group:t,element:e,handle:e.querySelector(`[data-handle]`)||void 0},this.manager);this.sortables.push(r)})})}teardownSortables(){this.sortables.forEach(e=>e.destroy()),this.sortables=[]}updateOrder(){if(!this.hasOrderInputTarget){this.dispatch(`update`);return}let e=this.containerTargets.flatMap((e,t)=>Array.from(e.querySelectorAll(`[data-id]`)).map(e=>({id:e.dataset.id,listIndex:t})));e&&(this.orderInputTarget.value=JSON.stringify(e),this.dispatch(`update`))}};let Eg=(e,t=0,n=1)=>e>n?n:e<t?t:e,Dg=(e,t=0,n=10**t)=>Math.round(n*e)/n;360/(Math.PI*2);let Og=e=>Lg(kg(e)),kg=e=>(e[0]===`#`&&(e=e.substring(1)),e.length<6?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:e.length===4?Dg(parseInt(e[3]+e[3],16)/255,2):1}:{r:parseInt(e.substring(0,2),16),g:parseInt(e.substring(2,4),16),b:parseInt(e.substring(4,6),16),a:e.length===8?Dg(parseInt(e.substring(6,8),16)/255,2):1}),Ag=e=>Ig(Pg(e)),jg=({h:e,s:t,v:n,a:r})=>{let i=(200-t)*n/100;return{h:Dg(e),s:Dg(i>0&&i<200?t*n/100/(i<=100?i:200-i)*100:0),l:Dg(i/2),a:Dg(r,2)}},Mg=e=>{let{h:t,s:n,l:r}=jg(e);return`hsl(${t}, ${n}%, ${r}%)`},Ng=e=>{let{h:t,s:n,l:r,a:i}=jg(e);return`hsla(${t}, ${n}%, ${r}%, ${i})`},Pg=({h:e,s:t,v:n,a:r})=>{e=e/360*6,t/=100,n/=100;let i=Math.floor(e),a=n*(1-t),o=n*(1-(e-i)*t),s=n*(1-(1-e+i)*t),c=i%6;return{r:Dg([n,o,a,a,s,n][c]*255),g:Dg([s,n,n,o,a,a][c]*255),b:Dg([a,a,s,n,n,o][c]*255),a:Dg(r,2)}},Fg=e=>{let t=e.toString(16);return t.length<2?`0`+t:t},Ig=({r:e,g:t,b:n,a:r})=>{let i=r<1?Fg(Dg(r*255)):``;return`#`+Fg(e)+Fg(t)+Fg(n)+i},Lg=({r:e,g:t,b:n,a:r})=>{let i=Math.max(e,t,n),a=i-Math.min(e,t,n),o=a?i===e?(t-n)/a:i===t?2+(n-e)/a:4+(e-t)/a:0;return{h:Dg(60*(o<0?o+6:o)),s:Dg(i?a/i*100:0),v:Dg(i/255*100),a:r}},Rg=(e,t)=>{if(e===t)return!0;for(let n in e)if(e[n]!==t[n])return!1;return!0},zg=(e,t)=>e.toLowerCase()===t.toLowerCase()?!0:Rg(kg(e),kg(t)),Bg={},Vg=e=>{let t=Bg[e];return t||(t=document.createElement(`template`),t.innerHTML=e,Bg[e]=t),t},Hg=(e,t,n)=>{e.dispatchEvent(new CustomEvent(t,{bubbles:!0,detail:n}))},Ug=!1,Wg=e=>`touches`in e,Gg=e=>Ug&&!Wg(e)?!1:(Ug||=Wg(e),!0),Kg=(e,t)=>{let n=Wg(t)?t.touches[0]:t,r=e.el.getBoundingClientRect();Hg(e.el,`move`,e.getMove({x:Eg((n.pageX-(r.left+window.pageXOffset))/r.width),y:Eg((n.pageY-(r.top+window.pageYOffset))/r.height)}))},qg=(e,t)=>{let n=t.keyCode;n>40||e.xy&&n<37||n<33||(t.preventDefault(),Hg(e.el,`move`,e.getMove({x:n===39?.01:n===37?-.01:n===34?.05:n===33?-.05:n===35?1:n===36?-1:0,y:n===40?.01:n===38?-.01:0},!0)))};var Jg=class{constructor(e,t,n,r){let i=Vg(`<div role="slider" tabindex="0" part="${t}" ${n}><div part="${t}-pointer"></div></div>`);e.appendChild(i.content.cloneNode(!0));let a=e.querySelector(`[part=${t}]`);a.addEventListener(`mousedown`,this),a.addEventListener(`touchstart`,this),a.addEventListener(`keydown`,this),this.el=a,this.xy=r,this.nodes=[a.firstChild,a]}set dragging(e){let t=e?document.addEventListener:document.removeEventListener;t(Ug?`touchmove`:`mousemove`,this),t(Ug?`touchend`:`mouseup`,this)}handleEvent(e){switch(e.type){case`mousedown`:case`touchstart`:if(e.preventDefault(),!Gg(e)||!Ug&&e.button!=0)return;this.el.focus(),Kg(this,e),this.dragging=!0;break;case`mousemove`:case`touchmove`:e.preventDefault(),Kg(this,e);break;case`mouseup`:case`touchend`:this.dragging=!1;break;case`keydown`:qg(this,e);break}}style(e){e.forEach((e,t)=>{for(let n in e)this.nodes[t].style.setProperty(n,e[n])})}},Yg=class extends Jg{constructor(e){super(e,`hue`,`aria-label="Hue" aria-valuemin="0" aria-valuemax="360"`,!1)}update({h:e}){this.h=e,this.style([{left:`${e/360*100}%`,color:Mg({h:e,s:100,v:100,a:1})}]),this.el.setAttribute(`aria-valuenow`,`${Dg(e)}`)}getMove(e,t){return{h:t?Eg(this.h+e.x*360,0,360):360*e.x}}},Xg=class extends Jg{constructor(e){super(e,`saturation`,`aria-label="Color"`,!0)}update(e){this.hsva=e,this.style([{top:`${100-e.v}%`,left:`${e.s}%`,color:Mg(e)},{"background-color":Mg({h:e.h,s:100,v:100,a:1})}]),this.el.setAttribute(`aria-valuetext`,`Saturation ${Dg(e.s)}%, Brightness ${Dg(e.v)}%`)}getMove(e,t){return{s:t?Eg(this.hsva.s+e.x*100,0,100):e.x*100,v:t?Eg(this.hsva.v-e.y*100,0,100):Math.round(100-e.y*100)}}},Zg=`:host{display:flex;flex-direction:column;position:relative;width:200px;height:200px;user-select:none;-webkit-user-select:none;cursor:default}:host([hidden]){display:none!important}[role=slider]{position:relative;touch-action:none;user-select:none;-webkit-user-select:none;outline:0}[role=slider]:last-child{border-radius:0 0 8px 8px}[part$=pointer]{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;display:flex;place-content:center center;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}[part$=pointer]::after{content:"";width:100%;height:100%;border-radius:inherit;background-color:currentColor}[role=slider]:focus [part$=pointer]{transform:translate(-50%,-50%) scale(1.1)}`,Qg=`[part=hue]{flex:0 0 24px;background:linear-gradient(to right,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red 100%)}[part=hue-pointer]{top:50%;z-index:2}`,$g=`[part=saturation]{flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(to top,#000,transparent),linear-gradient(to right,#fff,rgba(255,255,255,0));box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}[part=saturation-pointer]{z-index:3}`;let e_=Symbol(`same`),t_=Symbol(`color`),n_=Symbol(`hsva`),r_=Symbol(`update`),i_=Symbol(`parts`),a_=Symbol(`css`),o_=Symbol(`sliders`);var s_=class extends HTMLElement{static get observedAttributes(){return[`color`]}get[a_](){return[Zg,Qg,$g]}get[o_](){return[Xg,Yg]}get color(){return this[t_]}set color(e){if(!this[e_](e)){let t=this.colorModel.toHsva(e);this[r_](t),this[t_]=e}}constructor(){super();let e=Vg(`<style>${this[a_].join(``)}</style>`),t=this.attachShadow({mode:`open`});t.appendChild(e.content.cloneNode(!0)),t.addEventListener(`move`,this),this[i_]=this[o_].map(e=>new e(t))}connectedCallback(){if(this.hasOwnProperty(`color`)){let e=this.color;delete this.color,this.color=e}else this.color||=this.colorModel.defaultColor}attributeChangedCallback(e,t,n){let r=this.colorModel.fromAttr(n);this[e_](r)||(this.color=r)}handleEvent(e){let t=this[n_],n={...t,...e.detail};this[r_](n);let r;!Rg(n,t)&&!this[e_](r=this.colorModel.fromHsva(n))&&(this[t_]=r,Hg(this,`color-changed`,{value:r}))}[e_](e){return this.color&&this.colorModel.equal(e,this.color)}[r_](e){this[n_]=e,this[i_].forEach(t=>t.update(e))}},c_=class extends Jg{constructor(e){super(e,`alpha`,`aria-label="Alpha" aria-valuemin="0" aria-valuemax="1"`,!1)}update(e){this.hsva=e;let t=Ng({...e,a:0}),n=Ng({...e,a:1}),r=e.a*100;this.style([{left:`${r}%`,color:Ng(e)},{"--gradient":`linear-gradient(90deg, ${t}, ${n}`}]);let i=Dg(r);this.el.setAttribute(`aria-valuenow`,`${i}`),this.el.setAttribute(`aria-valuetext`,`${i}%`)}getMove(e,t){return{a:t?Eg(this.hsva.a+e.x):e.x}}},l_=`[part=alpha]{flex:0 0 24px}[part=alpha]::after{display:block;content:"";position:absolute;top:0;left:0;right:0;bottom:0;border-radius:inherit;background-image:var(--gradient);box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}[part^=alpha]{background-color:#fff;background-image:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><rect x="8" width="8" height="8"/><rect y="8" width="8" height="8"/></svg>')}[part=alpha-pointer]{top:50%}`,u_=class extends s_{get[a_](){return[...super[a_],l_]}get[o_](){return[...super[o_],c_]}};let d_={defaultColor:`#0001`,toHsva:Og,fromHsva:Ag,equal:zg,fromAttr:e=>e};var f_=class extends u_{get colorModel(){return d_}},p_=class extends f_{};customElements.define(`hex-alpha-color-picker`,p_);let m_=/^#?([0-9A-F]{3,8})$/i,h_=(e,t)=>{let n=m_.exec(e),r=n?n[1].length:0;return r===3||r===6||!!t&&r===4||!!t&&r===8},g_=Vg(`<slot><input part="input" spellcheck="false"></slot>`),__=(e,t)=>e.replace(/([^0-9A-F]+)/gi,``).substring(0,t?8:6),v_=Symbol(`alpha`),y_=Symbol(`color`),b_=Symbol(`saved`),x_=Symbol(`input`),S_=Symbol(`init`),C_=Symbol(`prefix`),w_=Symbol(`update`);var T_=class extends HTMLElement{static get observedAttributes(){return[`alpha`,`color`,`prefixed`]}get color(){return this[y_]}set color(e){this[y_]=e,this[w_](e)}get alpha(){return this[v_]}set alpha(e){this[v_]=e,this.toggleAttribute(`alpha`,e);let t=this.color;t&&!h_(t,e)&&(this.color=t.startsWith(`#`)?t.substring(0,t.length===5?4:7):t.substring(0,t.length===4?3:6))}get prefixed(){return this[C_]}set prefixed(e){this[C_]=e,this.toggleAttribute(`prefixed`,e),this[w_](this.color)}constructor(){super();let e=this.attachShadow({mode:`open`});e.appendChild(g_.content.cloneNode(!0)),e.firstElementChild.addEventListener(`slotchange`,()=>this[S_](e))}connectedCallback(){if(this[S_](this.shadowRoot),this.hasOwnProperty(`alpha`)){let e=this.alpha;delete this.alpha,this.alpha=e}else this.alpha=this.hasAttribute(`alpha`);if(this.hasOwnProperty(`prefixed`)){let e=this.prefixed;delete this.prefixed,this.prefixed=e}else this.prefixed=this.hasAttribute(`prefixed`);if(this.hasOwnProperty(`color`)){let e=this.color;delete this.color,this.color=e}else this.color==null?this.color=this.getAttribute(`color`)||``:this[y_]&&this[w_](this[y_])}handleEvent(e){let{value:t}=e.target;switch(e.type){case`input`:let e=__(t,this.alpha);this[b_]=this.color,(h_(e,this.alpha)||t===``)&&(this.color=e,this.dispatchEvent(new CustomEvent(`color-changed`,{bubbles:!0,detail:{value:e?`#`+e:``}})));break;case`blur`:t&&!h_(t,this.alpha)&&(this.color=this[b_])}}attributeChangedCallback(e,t,n){e===`color`&&this.color!==n&&(this.color=n);let r=n!=null;e===`alpha`&&this.alpha!==r&&(this.alpha=r),e===`prefixed`&&this.prefixed!==r&&(this.prefixed=r)}[S_](e){let t=this.querySelector(`input`);if(!t){let n;for(;n=this.firstChild;)n.remove();t=e.querySelector(`input`)}t.addEventListener(`input`,this),t.addEventListener(`blur`,this),this[x_]=t,this[w_](this.color)}[w_](e){this[x_]&&(this[x_].value=e==null||e==``?``:(this.prefixed?`#`:``)+__(e,this.alpha))}},E_=class extends T_{};customElements.define(`hex-input`,E_),window.Stimulus.load(ka(Object.assign({"./controllers/color-picker-controller.ts":se,"./controllers/filter-input-controller.ts":ye,"./controllers/form-controller.ts":Se,"./controllers/icon-picker-controller.ts":we,"./controllers/incremental-search-controller.ts":it,"./controllers/line-chart-controller.ts":wa,"./controllers/permission-grid-controller.ts":Ea,"./controllers/slugger-controller.ts":Aa,"./controllers/sortable-controller.ts":wg})))})();