(function(){var e=Object.defineProperty,t=(t,n)=>{let r={};for(var i in t)e(r,i,{get:t[i],enumerable:!0});return n&&e(r,Symbol.toStringTag,{value:`Module`}),r};let n=(e,t=0,n=1)=>e>n?n:e<t?t:e,r=(e,t=0,n=10**t)=>Math.round(n*e)/n;360/(Math.PI*2);let i=e=>p(a(e)),a=e=>(e[0]===`#`&&(e=e.substring(1)),e.length<6?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:e.length===4?r(parseInt(e[3]+e[3],16)/255,2):1}:{r:parseInt(e.substring(0,2),16),g:parseInt(e.substring(2,4),16),b:parseInt(e.substring(4,6),16),a:e.length===8?r(parseInt(e.substring(6,8),16)/255,2):1}),o=e=>f(u(e)),s=({h:e,s:t,v:n,a:i})=>{let a=(200-t)*n/100;return{h:r(e),s:r(a>0&&a<200?t*n/100/(a<=100?a:200-a)*100:0),l:r(a/2),a:r(i,2)}},c=e=>{let{h:t,s:n,l:r}=s(e);return`hsl(${t}, ${n}%, ${r}%)`},l=e=>{let{h:t,s:n,l:r,a:i}=s(e);return`hsla(${t}, ${n}%, ${r}%, ${i})`},u=({h:e,s:t,v:n,a:i})=>{e=e/360*6,t/=100,n/=100;let a=Math.floor(e),o=n*(1-t),s=n*(1-(e-a)*t),c=n*(1-(1-e+a)*t),l=a%6;return{r:r([n,s,o,o,c,n][l]*255),g:r([c,n,n,s,o,o][l]*255),b:r([o,o,c,n,n,s][l]*255),a:r(i,2)}},d=e=>{let t=e.toString(16);return t.length<2?`0`+t:t},f=({r:e,g:t,b:n,a:i})=>{let a=i<1?d(r(i*255)):``;return`#`+d(e)+d(t)+d(n)+a},p=({r:e,g:t,b:n,a:i})=>{let a=Math.max(e,t,n),o=a-Math.min(e,t,n),s=o?a===e?(t-n)/o:a===t?2+(n-e)/o:4+(e-t)/o:0;return{h:r(60*(s<0?s+6:s)),s:r(a?o/a*100:0),v:r(a/255*100),a:i}},m=(e,t)=>{if(e===t)return!0;for(let n in e)if(e[n]!==t[n])return!1;return!0},h=(e,t)=>e.toLowerCase()===t.toLowerCase()?!0:m(a(e),a(t)),g={},_=e=>{let t=g[e];return t||(t=document.createElement(`template`),t.innerHTML=e,g[e]=t),t},v=(e,t,n)=>{e.dispatchEvent(new CustomEvent(t,{bubbles:!0,detail:n}))},y=!1,b=e=>`touches`in e,x=e=>y&&!b(e)?!1:(y||=b(e),!0),S=(e,t)=>{let r=b(t)?t.touches[0]:t,i=e.el.getBoundingClientRect();v(e.el,`move`,e.getMove({x:n((r.pageX-(i.left+window.pageXOffset))/i.width),y:n((r.pageY-(i.top+window.pageYOffset))/i.height)}))},C=(e,t)=>{let n=t.keyCode;n>40||e.xy&&n<37||n<33||(t.preventDefault(),v(e.el,`move`,e.getMove({x:n===39?.01:n===37?-.01:n===34?.05:n===33?-.05:n===35?1:n===36?-1:0,y:n===40?.01:n===38?-.01:0},!0)))};var w=class{constructor(e,t,n,r){let i=_(`<div role="slider" tabindex="0" part="${t}" ${n}><div part="${t}-pointer"></div></div>`);e.appendChild(i.content.cloneNode(!0));let a=e.querySelector(`[part=${t}]`);a.addEventListener(`mousedown`,this),a.addEventListener(`touchstart`,this),a.addEventListener(`keydown`,this),this.el=a,this.xy=r,this.nodes=[a.firstChild,a]}set dragging(e){let t=e?document.addEventListener:document.removeEventListener;t(y?`touchmove`:`mousemove`,this),t(y?`touchend`:`mouseup`,this)}handleEvent(e){switch(e.type){case`mousedown`:case`touchstart`:if(e.preventDefault(),!x(e)||!y&&e.button!=0)return;this.el.focus(),S(this,e),this.dragging=!0;break;case`mousemove`:case`touchmove`:e.preventDefault(),S(this,e);break;case`mouseup`:case`touchend`:this.dragging=!1;break;case`keydown`:C(this,e);break}}style(e){e.forEach((e,t)=>{for(let n in e)this.nodes[t].style.setProperty(n,e[n])})}},T=class extends w{constructor(e){super(e,`hue`,`aria-label="Hue" aria-valuemin="0" aria-valuemax="360"`,!1)}update({h:e}){this.h=e,this.style([{left:`${e/360*100}%`,color:c({h:e,s:100,v:100,a:1})}]),this.el.setAttribute(`aria-valuenow`,`${r(e)}`)}getMove(e,t){return{h:t?n(this.h+e.x*360,0,360):360*e.x}}},E=class extends w{constructor(e){super(e,`saturation`,`aria-label="Color"`,!0)}update(e){this.hsva=e,this.style([{top:`${100-e.v}%`,left:`${e.s}%`,color:c(e)},{"background-color":c({h:e.h,s:100,v:100,a:1})}]),this.el.setAttribute(`aria-valuetext`,`Saturation ${r(e.s)}%, Brightness ${r(e.v)}%`)}getMove(e,t){return{s:t?n(this.hsva.s+e.x*100,0,100):e.x*100,v:t?n(this.hsva.v-e.y*100,0,100):Math.round(100-e.y*100)}}},D=`:host{display:flex;flex-direction:column;position:relative;width:200px;height:200px;user-select:none;-webkit-user-select:none;cursor:default}:host([hidden]){display:none!important}[role=slider]{position:relative;touch-action:none;user-select:none;-webkit-user-select:none;outline:0}[role=slider]:last-child{border-radius:0 0 8px 8px}[part$=pointer]{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;display:flex;place-content:center center;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}[part$=pointer]::after{content:"";width:100%;height:100%;border-radius:inherit;background-color:currentColor}[role=slider]:focus [part$=pointer]{transform:translate(-50%,-50%) scale(1.1)}`,O=`[part=hue]{flex:0 0 24px;background:linear-gradient(to right,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red 100%)}[part=hue-pointer]{top:50%;z-index:2}`,ee=`[part=saturation]{flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(to top,#000,transparent),linear-gradient(to right,#fff,rgba(255,255,255,0));box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}[part=saturation-pointer]{z-index:3}`;let te=Symbol(`same`),k=Symbol(`color`),ne=Symbol(`hsva`),re=Symbol(`update`),ie=Symbol(`parts`),ae=Symbol(`css`),oe=Symbol(`sliders`);var se=class extends HTMLElement{static get observedAttributes(){return[`color`]}get[ae](){return[D,O,ee]}get[oe](){return[E,T]}get color(){return this[k]}set color(e){if(!this[te](e)){let t=this.colorModel.toHsva(e);this[re](t),this[k]=e}}constructor(){super();let e=_(`<style>${this[ae].join(``)}</style>`),t=this.attachShadow({mode:`open`});t.appendChild(e.content.cloneNode(!0)),t.addEventListener(`move`,this),this[ie]=this[oe].map(e=>new e(t))}connectedCallback(){if(this.hasOwnProperty(`color`)){let e=this.color;delete this.color,this.color=e}else this.color||=this.colorModel.defaultColor}attributeChangedCallback(e,t,n){let r=this.colorModel.fromAttr(n);this[te](r)||(this.color=r)}handleEvent(e){let t=this[ne],n={...t,...e.detail};this[re](n);let r;!m(n,t)&&!this[te](r=this.colorModel.fromHsva(n))&&(this[k]=r,v(this,`color-changed`,{value:r}))}[te](e){return this.color&&this.colorModel.equal(e,this.color)}[re](e){this[ne]=e,this[ie].forEach(t=>t.update(e))}},A=class extends w{constructor(e){super(e,`alpha`,`aria-label="Alpha" aria-valuemin="0" aria-valuemax="1"`,!1)}update(e){this.hsva=e;let t=l({...e,a:0}),n=l({...e,a:1}),i=e.a*100;this.style([{left:`${i}%`,color:l(e)},{"--gradient":`linear-gradient(90deg, ${t}, ${n}`}]);let a=r(i);this.el.setAttribute(`aria-valuenow`,`${a}`),this.el.setAttribute(`aria-valuetext`,`${a}%`)}getMove(e,t){return{a:t?n(this.hsva.a+e.x):e.x}}},j=`[part=alpha]{flex:0 0 24px}[part=alpha]::after{display:block;content:"";position:absolute;top:0;left:0;right:0;bottom:0;border-radius:inherit;background-image:var(--gradient);box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}[part^=alpha]{background-color:#fff;background-image:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><rect x="8" width="8" height="8"/><rect y="8" width="8" height="8"/></svg>')}[part=alpha-pointer]{top:50%}`,M=class extends se{get[ae](){return[...super[ae],j]}get[oe](){return[...super[oe],A]}};let ce={defaultColor:`#0001`,toHsva:i,fromHsva:o,equal:h,fromAttr:e=>e};var N=class extends M{get colorModel(){return ce}},P=class extends N{};customElements.define(`hex-alpha-color-picker`,P);let le=/^#?([0-9A-F]{3,8})$/i,ue=(e,t)=>{let n=le.exec(e),r=n?n[1].length:0;return r===3||r===6||!!t&&r===4||!!t&&r===8},de=_(`<slot><input part="input" spellcheck="false"></slot>`),fe=(e,t)=>e.replace(/([^0-9A-F]+)/gi,``).substring(0,t?8:6),pe=Symbol(`alpha`),me=Symbol(`color`),he=Symbol(`saved`),ge=Symbol(`input`),_e=Symbol(`init`),ve=Symbol(`prefix`),ye=Symbol(`update`);var be=class extends HTMLElement{static get observedAttributes(){return[`alpha`,`color`,`prefixed`]}get color(){return this[me]}set color(e){this[me]=e,this[ye](e)}get alpha(){return this[pe]}set alpha(e){this[pe]=e,this.toggleAttribute(`alpha`,e);let t=this.color;t&&!ue(t,e)&&(this.color=t.startsWith(`#`)?t.substring(0,t.length===5?4:7):t.substring(0,t.length===4?3:6))}get prefixed(){return this[ve]}set prefixed(e){this[ve]=e,this.toggleAttribute(`prefixed`,e),this[ye](this.color)}constructor(){super();let e=this.attachShadow({mode:`open`});e.appendChild(de.content.cloneNode(!0)),e.firstElementChild.addEventListener(`slotchange`,()=>this[_e](e))}connectedCallback(){if(this[_e](this.shadowRoot),this.hasOwnProperty(`alpha`)){let e=this.alpha;delete this.alpha,this.alpha=e}else this.alpha=this.hasAttribute(`alpha`);if(this.hasOwnProperty(`prefixed`)){let e=this.prefixed;delete this.prefixed,this.prefixed=e}else this.prefixed=this.hasAttribute(`prefixed`);if(this.hasOwnProperty(`color`)){let e=this.color;delete this.color,this.color=e}else this.color==null?this.color=this.getAttribute(`color`)||``:this[me]&&this[ye](this[me])}handleEvent(e){let{value:t}=e.target;switch(e.type){case`input`:let e=fe(t,this.alpha);this[he]=this.color,(ue(e,this.alpha)||t===``)&&(this.color=e,this.dispatchEvent(new CustomEvent(`color-changed`,{bubbles:!0,detail:{value:e?`#`+e:``}})));break;case`blur`:t&&!ue(t,this.alpha)&&(this.color=this[he])}}attributeChangedCallback(e,t,n){e===`color`&&this.color!==n&&(this.color=n);let r=n!=null;e===`alpha`&&this.alpha!==r&&(this.alpha=r),e===`prefixed`&&this.prefixed!==r&&(this.prefixed=r)}[_e](e){let t=this.querySelector(`input`);if(!t){let n;for(;n=this.firstChild;)n.remove();t=e.querySelector(`input`)}t.addEventListener(`input`,this),t.addEventListener(`blur`,this),this[ge]=t,this[ye](this.color)}[ye](e){this[ge]&&(this[ge].value=e==null||e==``?``:(this.prefixed?`#`:``)+fe(e,this.alpha))}},xe=class extends be{};customElements.define(`hex-input`,xe);function Se(e){return e.toLowerCase().replace(/[^a-z0-9]/gi,`-`).replace(/-+/g,`-`).replace(/-$|^-/g,``)}function Ce(e){return Object.entries(e).map(([e,t])=>({identifier:e.match(/\.\/controllers\/(.*)\.ts$/)[1].replace(/\//g,`--`).replace(/_/g,`-`).replace(/-controller$/,``),controllerConstructor:t.default}))}function we(e){return e.replace(/(?:[_-])([a-z0-9])/g,(e,t)=>t.toUpperCase())}function F(e){return we(e.replace(/--/g,`-`).replace(/__/g,`_`))}function I(e){return e.charAt(0).toUpperCase()+e.slice(1)}function Te(e){return e.replace(/([A-Z])/g,(e,t)=>`-${t.toLowerCase()}`)}function Ee(e){return e!=null}function De(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Oe(e,t){let n=Ae(e);return Array.from(n.reduce((e,n)=>(je(n,t).forEach(t=>e.add(t)),e),new Set))}function ke(e,t){return Ae(e).reduce((e,n)=>(e.push(...Me(n,t)),e),[])}function Ae(e){let t=[];for(;e;)t.push(e),e=Object.getPrototypeOf(e);return t.reverse()}function je(e,t){let n=e[t];return Array.isArray(n)?n:[]}function Me(e,t){let n=e[t];return n?Object.keys(n).map(e=>[e,n[e]]):[]}typeof Object.getOwnPropertySymbols==`function`||Object.getOwnPropertyNames,(()=>{function e(e){function t(){return Reflect.construct(e,arguments,new.target)}return t.prototype=Object.create(e.prototype,{constructor:{value:t}}),Reflect.setPrototypeOf(t,e),t}function t(){let t=e(function(){this.a.call(this)});return t.prototype.a=function(){},new t}try{return t(),e}catch{return e=>class extends e{}}})(),Object.assign(Object.assign({enter:`Enter`,tab:`Tab`,esc:`Escape`,space:` `,up:`ArrowUp`,down:`ArrowDown`,left:`ArrowLeft`,right:`ArrowRight`,home:`Home`,end:`End`,page_up:`PageUp`,page_down:`PageDown`},Ne(`abcdefghijklmnopqrstuvwxyz`.split(``).map(e=>[e,e]))),Ne(`0123456789`.split(``).map(e=>[e,e])));function Ne(e){return e.reduce((e,[t,n])=>Object.assign(Object.assign({},e),{[t]:n}),{})}function Pe(e){return Oe(e,`classes`).reduce((e,t)=>Object.assign(e,Fe(t)),{})}function Fe(e){return{[`${e}Class`]:{get(){let{classes:t}=this;if(t.has(e))return t.get(e);{let n=t.getAttributeName(e);throw Error(`Missing attribute "${n}"`)}}},[`${e}Classes`]:{get(){return this.classes.getAll(e)}},[`has${I(e)}Class`]:{get(){return this.classes.has(e)}}}}function Ie(e){return Oe(e,`outlets`).reduce((e,t)=>Object.assign(e,ze(t)),{})}function Le(e,t,n){return e.application.getControllerForElementAndIdentifier(t,n)}function Re(e,t,n){let r=Le(e,t,n);if(r||(e.application.router.proposeToConnectScopeForElementAndIdentifier(t,n),r=Le(e,t,n),r))return r}function ze(e){let t=F(e);return{[`${t}Outlet`]:{get(){let t=this.outlets.find(e),n=this.outlets.getSelectorForOutletName(e);if(t){let n=Re(this,t,e);if(n)return n;throw Error(`The provided outlet element is missing an outlet controller "${e}" instance for host controller "${this.identifier}"`)}throw Error(`Missing outlet element "${e}" for host controller "${this.identifier}". Stimulus couldn't find a matching outlet element using selector "${n}".`)}},[`${t}Outlets`]:{get(){let t=this.outlets.findAll(e);return t.length>0?t.map(t=>{let n=Re(this,t,e);if(n)return n;console.warn(`The provided outlet element is missing an outlet controller "${e}" instance for host controller "${this.identifier}"`,t)}).filter(e=>e):[]}},[`${t}OutletElement`]:{get(){let t=this.outlets.find(e),n=this.outlets.getSelectorForOutletName(e);if(t)return t;throw Error(`Missing outlet element "${e}" for host controller "${this.identifier}". Stimulus couldn't find a matching outlet element using selector "${n}".`)}},[`${t}OutletElements`]:{get(){return this.outlets.findAll(e)}},[`has${I(t)}Outlet`]:{get(){return this.outlets.has(e)}}}}function Be(e){return Oe(e,`targets`).reduce((e,t)=>Object.assign(e,Ve(t)),{})}function Ve(e){return{[`${e}Target`]:{get(){let t=this.targets.find(e);if(t)return t;throw Error(`Missing target element "${e}" for "${this.identifier}" controller`)}},[`${e}Targets`]:{get(){return this.targets.findAll(e)}},[`has${I(e)}Target`]:{get(){return this.targets.has(e)}}}}function He(e){let t=ke(e,`values`);return t.reduce((e,t)=>Object.assign(e,Ue(t)),{valueDescriptorMap:{get(){return t.reduce((e,t)=>{let n=We(t,this.identifier),r=this.data.getAttributeNameForKey(n.key);return Object.assign(e,{[r]:n})},{})}}})}function Ue(e,t){let n=We(e,t),{key:r,name:i,reader:a,writer:o}=n;return{[i]:{get(){let e=this.data.get(r);return e===null?n.defaultValue:a(e)},set(e){e===void 0?this.data.delete(r):this.data.set(r,o(e))}},[`has${I(i)}`]:{get(){return this.data.has(r)||n.hasCustomDefaultValue}}}}function We([e,t],n){return Xe({controller:n,token:e,typeDefinition:t})}function Ge(e){switch(e){case Array:return`array`;case Boolean:return`boolean`;case Number:return`number`;case Object:return`object`;case String:return`string`}}function Ke(e){switch(typeof e){case`boolean`:return`boolean`;case`number`:return`number`;case`string`:return`string`}if(Array.isArray(e))return`array`;if(Object.prototype.toString.call(e)===`[object Object]`)return`object`}function qe(e){let{controller:t,token:n,typeObject:r}=e,i=Ee(r.type),a=Ee(r.default),o=i&&a,s=i&&!a,c=!i&&a,l=Ge(r.type),u=Ke(e.typeObject.default);if(s)return l;if(c)return u;if(l!==u){let e=t?`${t}.${n}`:n;throw Error(`The specified default value for the Stimulus Value "${e}" must match the defined type "${l}". The provided default value of "${r.default}" is of type "${u}".`)}if(o)return l}function Je(e){let{controller:t,token:n,typeDefinition:r}=e,i=qe({controller:t,token:n,typeObject:r}),a=Ke(r),o=Ge(r),s=i||a||o;if(s)return s;let c=t?`${t}.${r}`:n;throw Error(`Unknown value type "${c}" for "${n}" value`)}function Ye(e){let t=Ge(e);if(t)return Ze[t];let n=De(e,`default`),r=De(e,`type`),i=e;if(n)return i.default;if(r){let{type:e}=i,t=Ge(e);if(t)return Ze[t]}return e}function Xe(e){let{token:t,typeDefinition:n}=e,r=`${Te(t)}-value`,i=Je(e);return{type:i,key:r,name:we(r),get defaultValue(){return Ye(n)},get hasCustomDefaultValue(){return Ke(n)!==void 0},reader:Qe[i],writer:$e[i]||$e.default}}let Ze={get array(){return[]},boolean:!1,number:0,get object(){return{}},string:``},Qe={array(e){let t=JSON.parse(e);if(!Array.isArray(t))throw TypeError(`expected value of type "array" but instead got value "${e}" of type "${Ke(t)}"`);return t},boolean(e){return!(e==`0`||String(e).toLowerCase()==`false`)},number(e){return Number(e.replace(/_/g,``))},object(e){let t=JSON.parse(e);if(typeof t!=`object`||!t||Array.isArray(t))throw TypeError(`expected value of type "object" but instead got value "${e}" of type "${Ke(t)}"`);return t},string(e){return e}},$e={default:tt,array:et,object:et};function et(e){return JSON.stringify(e)}function tt(e){return`${e}`}var nt=class{constructor(e){this.context=e}static get shouldLoad(){return!0}static afterLoad(e,t){}get application(){return this.context.application}get scope(){return this.context.scope}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get targets(){return this.scope.targets}get outlets(){return this.scope.outlets}get classes(){return this.scope.classes}get data(){return this.scope.data}initialize(){}connect(){}disconnect(){}dispatch(e,{target:t=this.element,detail:n={},prefix:r=this.identifier,bubbles:i=!0,cancelable:a=!0}={}){let o=r?`${r}:${e}`:e,s=new CustomEvent(o,{detail:n,bubbles:i,cancelable:a});return t.dispatchEvent(s),s}};nt.blessings=[Pe,Be,He,Ie],nt.targets=[],nt.outlets=[],nt.values={};var rt=t({default:()=>it}),it=class extends nt{static{this.targets=[`input`,`picker`,`swatch`]}show(){clearTimeout(this.timeout),this.pickerTarget.hidden=!1}hide(){clearTimeout(this.timeout),this.timeout=window.setTimeout(()=>this.pickerTarget.hidden=!0)}colorChanged(e){this.inputTarget.color=e.detail.value,this.pickerTarget.color=e.detail.value,this.swatchTarget.style.backgroundColor=e.detail.value}},at=class{constructor(e,t,{tabInsertsSuggestions:n,firstOptionSelectionMode:r,scrollIntoViewOptions:i}={}){this.input=e,this.list=t,this.tabInsertsSuggestions=n??!0,this.firstOptionSelectionMode=r??`none`,this.scrollIntoViewOptions=i??{block:`nearest`,inline:`nearest`},this.isComposing=!1,t.id||=`combobox-${Math.random().toString().slice(2,6)}`,this.ctrlBindings=!!navigator.userAgent.match(/Macintosh/),this.keyboardEventHandler=e=>ot(e,this),this.compositionEventHandler=e=>ft(e,this),this.inputHandler=this.clearSelection.bind(this),e.setAttribute(`role`,`combobox`),e.setAttribute(`aria-controls`,t.id),e.setAttribute(`aria-expanded`,`false`),e.setAttribute(`aria-autocomplete`,`list`),e.setAttribute(`aria-haspopup`,`listbox`)}destroy(){this.clearSelection(),this.stop(),this.input.removeAttribute(`role`),this.input.removeAttribute(`aria-controls`),this.input.removeAttribute(`aria-expanded`),this.input.removeAttribute(`aria-autocomplete`),this.input.removeAttribute(`aria-haspopup`)}start(){this.input.setAttribute(`aria-expanded`,`true`),this.input.addEventListener(`compositionstart`,this.compositionEventHandler),this.input.addEventListener(`compositionend`,this.compositionEventHandler),this.input.addEventListener(`input`,this.inputHandler),this.input.addEventListener(`keydown`,this.keyboardEventHandler),this.list.addEventListener(`click`,st),this.resetSelection()}stop(){this.clearSelection(),this.input.setAttribute(`aria-expanded`,`false`),this.input.removeEventListener(`compositionstart`,this.compositionEventHandler),this.input.removeEventListener(`compositionend`,this.compositionEventHandler),this.input.removeEventListener(`input`,this.inputHandler),this.input.removeEventListener(`keydown`,this.keyboardEventHandler),this.list.removeEventListener(`click`,st)}indicateDefaultOption(){var e;this.firstOptionSelectionMode===`active`?(e=Array.from(this.list.querySelectorAll(`[role="option"]:not([aria-disabled="true"])`)).filter(dt)[0])==null||e.setAttribute(`data-combobox-option-default`,`true`):this.firstOptionSelectionMode===`selected`&&this.navigate(1)}navigate(e=1){let t=Array.from(this.list.querySelectorAll(`[aria-selected="true"]`)).filter(dt)[0],n=Array.from(this.list.querySelectorAll(`[role="option"]`)).filter(dt),r=n.indexOf(t);if(r===n.length-1&&e===1||r===0&&e===-1){this.clearSelection(),this.input.focus();return}let i=e===1?0:n.length-1;if(t&&r>=0){let t=r+e;t>=0&&t<n.length&&(i=t)}let a=n[i];if(a)for(let e of n)e.removeAttribute(`data-combobox-option-default`),a===e?(this.input.setAttribute(`aria-activedescendant`,a.id),a.setAttribute(`aria-selected`,`true`),ut(a),a.scrollIntoView(this.scrollIntoViewOptions)):e.removeAttribute(`aria-selected`)}clearSelection(){this.input.removeAttribute(`aria-activedescendant`);for(let e of this.list.querySelectorAll(`[aria-selected="true"], [data-combobox-option-default="true"]`))e.removeAttribute(`aria-selected`),e.removeAttribute(`data-combobox-option-default`)}resetSelection(){this.clearSelection(),this.indicateDefaultOption()}};function ot(e,t){if(!(e.shiftKey||e.metaKey||e.altKey)&&!(!t.ctrlBindings&&e.ctrlKey)&&!t.isComposing)switch(e.key){case`Enter`:ct(t.input,t.list)&&e.preventDefault();break;case`Tab`:t.tabInsertsSuggestions&&ct(t.input,t.list)&&e.preventDefault();break;case`Escape`:t.clearSelection();break;case`ArrowDown`:t.navigate(1),e.preventDefault();break;case`ArrowUp`:t.navigate(-1),e.preventDefault();break;case`n`:t.ctrlBindings&&e.ctrlKey&&(t.navigate(1),e.preventDefault());break;case`p`:t.ctrlBindings&&e.ctrlKey&&(t.navigate(-1),e.preventDefault());break;default:if(e.ctrlKey)break;t.resetSelection()}}function st(e){if(!(e.target instanceof Element))return;let t=e.target.closest(`[role="option"]`);t&&t.getAttribute(`aria-disabled`)!==`true`&&lt(t,{event:e})}function ct(e,t){let n=t.querySelector(`[aria-selected="true"], [data-combobox-option-default="true"]`);return n?(n.getAttribute(`aria-disabled`)===`true`||n.click(),!0):!1}function lt(e,t){e.dispatchEvent(new CustomEvent(`combobox-commit`,{bubbles:!0,detail:t}))}function ut(e){e.dispatchEvent(new Event(`combobox-select`,{bubbles:!0}))}function dt(e){return!e.hidden&&!(e instanceof HTMLInputElement&&e.type===`hidden`)&&(e.offsetWidth>0||e.offsetHeight>0)}function ft(e,t){t.isComposing=e.type===`compositionstart`,document.getElementById(t.input.getAttribute(`aria-controls`)||``)&&t.clearSelection()}function pt(e){return e instanceof HTMLInputElement||e instanceof HTMLTextAreaElement}function mt(e,t){let n=e.ownerDocument.activeElement;if(n===e)return t();try{return e.focus(),t()}finally{e.blur(),n instanceof HTMLElement&&n.focus()}}function ht(e,t){t===``?e.execCommand(`delete`):e.execCommand(`insertText`,!1,t)}function gt(e,t){mt(e,()=>{ht(e.ownerDocument,t)})}function _t(e,t){if(pt(e))e.select(),gt(e,t);else{let n=e.ownerDocument;mt(e,()=>{n.execCommand(`selectAll`,!1,t),ht(n,t)})}}let vt=_t;var yt=t({default:()=>xt});let bt=/([^\s"]*)"([^"]*)(?:"|$)|[^\s"]+/gi;var xt=class extends nt{static{this.targets=[`input`,`list`]}connect(){this.combobox=new at(this.inputTarget,this.listTarget)}focus(){this.combobox?.start(),this.update()}blur(){this.combobox?.stop(),this.listTarget.hidden=!0}tokens(){let e=this.inputTarget.value.matchAll(bt);return Array.from(e).reverse()}currentToken(){let e=this.inputTarget.selectionStart||0;return this.tokens().find(t=>t.index!==void 0&&t.index<e&&t.index+t[0].length>=e)}update(){let e=this.tokens(),t=this.currentToken(),n=t&&t[0].toLowerCase(),r=Array.from(this.listTarget.children),i=[];r.forEach(t=>{let r=(t.dataset.value||t.textContent)?.trim().toLowerCase()||``;e.some(e=>e[0].toLowerCase()===r)?t.hidden=!0:n?t.hidden=!r.startsWith(n)||n.includes(`:`)===r.endsWith(`:`):(t.hidden=i.some(e=>r.startsWith(e)),i.push(r))}),this.listTarget.hidden=!r.some(e=>!e.hidden)}commit(e){let t=e.target,n=this.currentToken(),r=(t.dataset.value||t.textContent)?.trim()||``;vt(this.inputTarget,this.inputTarget.value.slice(0,n?.index)+r+(r.endsWith(`:`)?``:` `))}preventBlur(e){e.preventDefault()}},St=t({default:()=>Ct}),Ct=class extends nt{static{this.targets=[`form`]}submit(){setTimeout(()=>{this.formTarget.requestSubmit()})}},wt=t({default:()=>Tt}),Tt=class extends nt{static{this.targets=[`preview`,`form`,`emoji`]}change(){this.previewTarget.hidden=!0,this.formTarget.hidden=!1}emojiTargetConnected(e){let t=e.querySelector(`input`),n=e.querySelector(`ui-popup`),r=e.querySelector(`button`),i=e.querySelector(`emoji-picker`);t.type=`hidden`,n.hidden=!1,i.addEventListener(`emoji-click`,e=>{t.value=e.detail.unicode||``,r.innerHTML=t.value,n.open=!1})}},Et=typeof global==`object`&&global&&global.Object===Object&&global,Dt=typeof self==`object`&&self&&self.Object===Object&&self,Ot=Et||Dt||Function(`return this`)(),kt=Ot.Symbol,At=Object.prototype,jt=At.hasOwnProperty,Mt=At.toString,Nt=kt?kt.toStringTag:void 0;function Pt(e){var t=jt.call(e,Nt),n=e[Nt];try{e[Nt]=void 0;var r=!0}catch{}var i=Mt.call(e);return r&&(t?e[Nt]=n:delete e[Nt]),i}var Ft=Pt,It=Object.prototype.toString;function Lt(e){return It.call(e)}var Rt=Lt,zt=`[object Null]`,Bt=`[object Undefined]`,Vt=kt?kt.toStringTag:void 0;function Ht(e){return e==null?e===void 0?Bt:zt:Vt&&Vt in Object(e)?Ft(e):Rt(e)}var Ut=Ht;function Wt(e){return typeof e==`object`&&!!e}var Gt=Wt,Kt=`[object Symbol]`;function qt(e){return typeof e==`symbol`||Gt(e)&&Ut(e)==Kt}var Jt=qt,Yt=/\s/;function Xt(e){for(var t=e.length;t--&&Yt.test(e.charAt(t)););return t}var Zt=Xt,Qt=/^\s+/;function $t(e){return e&&e.slice(0,Zt(e)+1).replace(Qt,``)}var en=$t;function tn(e){var t=typeof e;return e!=null&&(t==`object`||t==`function`)}var nn=tn,rn=NaN,an=/^[-+]0x[0-9a-f]+$/i,on=/^0b[01]+$/i,sn=/^0o[0-7]+$/i,cn=parseInt;function ln(e){if(typeof e==`number`)return e;if(Jt(e))return rn;if(nn(e)){var t=typeof e.valueOf==`function`?e.valueOf():e;e=nn(t)?t+``:t}if(typeof e!=`string`)return e===0?e:+e;e=en(e);var n=on.test(e);return n||sn.test(e)?cn(e.slice(2),n?2:8):an.test(e)?rn:+e}var un=ln,dn=function(){return Ot.Date.now()},L=`Expected a function`,R=Math.max,fn=Math.min;function pn(e,t,n){var r,i,a,o,s,c,l=0,u=!1,d=!1,f=!0;if(typeof e!=`function`)throw TypeError(L);t=un(t)||0,nn(n)&&(u=!!n.leading,d=`maxWait`in n,a=d?R(un(n.maxWait)||0,t):a,f=`trailing`in n?!!n.trailing:f);function p(t){var n=r,a=i;return r=i=void 0,l=t,o=e.apply(a,n),o}function m(e){return l=e,s=setTimeout(_,t),u?p(e):o}function h(e){var n=e-c,r=e-l,i=t-n;return d?fn(i,a-r):i}function g(e){var n=e-c,r=e-l;return c===void 0||n>=t||n<0||d&&r>=a}function _(){var e=dn();if(g(e))return v(e);s=setTimeout(_,h(e))}function v(e){return s=void 0,f&&r?p(e):(r=i=void 0,o)}function y(){s!==void 0&&clearTimeout(s),l=0,r=c=i=s=void 0}function b(){return s===void 0?o:v(dn())}function x(){var e=dn(),n=g(e);if(r=arguments,i=this,c=e,n){if(s===void 0)return m(c);if(d)return clearTimeout(s),s=setTimeout(_,t),p(c)}return s===void 0&&(s=setTimeout(_,t)),o}return x.cancel=y,x.flush=b,x}var mn=pn,hn=t({default:()=>z}),z=class extends nt{constructor(...e){super(...e),this.debouncedSubmit=mn(this.submit,250)}input(e){e.target.value?this.debouncedSubmit():this.submit()}submit(){this.element.form?.requestSubmit()}};let gn=`u-off`,_n=`u-label`,vn=`width`,yn=`height`,bn=`bottom`,xn=`left`,Sn=`right`,Cn=`#000`,wn=Cn+`0`,Tn=`mousemove`,En=`mousedown`,Dn=`mouseup`,On=`mouseenter`,kn=`mouseleave`,An=`dblclick`,jn=`change`,Mn=`dppxchange`,Nn=typeof window<`u`,Pn=Nn?document:null,Fn=Nn?window:null,In=Nn?navigator:null,B,Ln;function Rn(){let e=devicePixelRatio;B!=e&&(B=e,Ln&&Qn(jn,Ln,Rn),Ln=matchMedia(`(min-resolution: ${B-.001}dppx) and (max-resolution: ${B+.001}dppx)`),Zn(jn,Ln,Rn),Fn.dispatchEvent(new CustomEvent(Mn)))}function zn(e,t){if(t!=null){let n=e.classList;!n.contains(t)&&n.add(t)}}function Bn(e,t){let n=e.classList;n.contains(t)&&n.remove(t)}function V(e,t,n){e.style[t]=n+`px`}function Vn(e,t,n,r){let i=Pn.createElement(e);return t!=null&&zn(i,t),n?.insertBefore(i,r),i}function Hn(e,t){return Vn(`div`,e,t)}let Un=new WeakMap;function Wn(e,t,n,r,i){let a=`translate(`+t+`px,`+n+`px)`;a!=Un.get(e)&&(e.style.transform=a,Un.set(e,a),t<0||n<0||t>r||n>i?zn(e,gn):Bn(e,gn))}let Gn=new WeakMap;function Kn(e,t,n){let r=t+n;r!=Gn.get(e)&&(Gn.set(e,r),e.style.background=t,e.style.borderColor=n)}let qn=new WeakMap;function Jn(e,t,n,r){let i=t+``+n;i!=qn.get(e)&&(qn.set(e,i),e.style.height=n+`px`,e.style.width=t+`px`,e.style.marginLeft=r?-t/2+`px`:0,e.style.marginTop=r?-n/2+`px`:0)}let Yn={passive:!0},Xn={...Yn,capture:!0};function Zn(e,t,n,r){t.addEventListener(e,n,r?Xn:Yn)}function Qn(e,t,n,r){t.removeEventListener(e,n,Yn)}Nn&&Rn();function $n(e,t,n,r){let i;n||=0,r||=t.length-1;let a=r<=2147483647;for(;r-n>1;)i=a?n+r>>1:br((n+r)/2),t[i]<e?n=i:r=i;return e-t[n]<=t[r]-e?n:r}function er(e){return(t,n,r)=>{let i=-1,a=-1;for(let a=n;a<=r;a++)if(e(t[a])){i=a;break}for(let i=r;i>=n;i--)if(e(t[i])){a=i;break}return[i,a]}}let tr=e=>e!=null,nr=e=>e!=null&&e>0,rr=er(tr),ir=er(nr);function ar(e,t,n,r=0,i=!1){let a=i?ir:rr,o=i?nr:tr;[t,n]=a(e,t,n);let s=e[t],c=e[t];if(t>-1)if(r==1)s=e[t],c=e[n];else if(r==-1)s=e[n],c=e[t];else for(let r=t;r<=n;r++){let t=e[r];o(t)&&(t<s?s=t:t>c&&(c=t))}return[s??U,c??-U]}function or(e,t,n,r){let i=Er(e),a=Er(t);e==t&&(i==-1?(e*=n,t/=n):(e/=n,t*=n));let o=n==10?Dr:Or,s=i==1?br:Sr,c=a==1?Sr:br,l=s(o(yr(e))),u=c(o(yr(t))),d=Tr(n,l),f=Tr(n,u);return n==10&&(l<0&&(d=G(d,-l)),u<0&&(f=G(f,-u))),r||n==2?(e=d*i,t=f*a):(e=Wr(e,d),t=Ur(t,f)),[e,t]}function sr(e,t,n,r){let i=or(e,t,n,r);return e==0&&(i[0]=0),t==0&&(i[1]=0),i}let cr=.1,lr={mode:3,pad:cr},ur={pad:0,soft:null,mode:0},dr={min:ur,max:ur};function fr(e,t,n,r){return ti(n)?mr(e,t,n):(ur.pad=n,ur.soft=r?0:null,ur.mode=r?3:0,mr(e,t,dr))}function H(e,t){return e??t}function pr(e,t,n){for(t=H(t,0),n=H(n,e.length-1);t<=n;){if(e[t]!=null)return!0;t++}return!1}function mr(e,t,n){let r=n.min,i=n.max,a=H(r.pad,0),o=H(i.pad,0),s=H(r.hard,-U),c=H(i.hard,U),l=H(r.soft,U),u=H(i.soft,-U),d=H(r.mode,0),f=H(i.mode,0),p=t-e,m=Dr(p),h=wr(yr(e),yr(t)),g=yr(Dr(h)-m);(p<1e-24||g>10)&&(p=0,(e==0||t==0)&&(p=1e-24,d==2&&l!=U&&(a=0),f==2&&u!=-U&&(o=0)));let _=p||h||1e3,v=Tr(10,br(Dr(_))),y=G(Wr(e-_*(p==0?e==0?.1:1:a),v/10),24),b=e>=l&&(d==1||d==3&&y<=l||d==2&&y>=l)?l:U,x=wr(s,y<b&&e>=b?b:Cr(b,y)),S=G(Ur(t+_*(p==0?t==0?.1:1:o),v/10),24),C=t<=u&&(f==1||f==3&&S>=u||f==2&&S<=u)?u:-U,w=Cr(c,S>C&&t<=C?C:wr(C,S));return x==w&&x==0&&(w=100),[x,w]}let hr=new Intl.NumberFormat(Nn?In.language:`en-US`),gr=e=>hr.format(e),_r=Math,vr=_r.PI,yr=_r.abs,br=_r.floor,xr=_r.round,Sr=_r.ceil,Cr=_r.min,wr=_r.max,Tr=_r.pow,Er=_r.sign,Dr=_r.log10,Or=_r.log2,kr=(e,t=1)=>_r.sinh(e)*t,Ar=(e,t=1)=>_r.asinh(e/t),U=1/0;function jr(e){return(Dr((e^e>>31)-(e>>31))|0)+1}function Mr(e,t,n){return Cr(wr(e,t),n)}function Nr(e){return typeof e==`function`}function W(e){return Nr(e)?e:()=>e}let Pr=()=>{},Fr=e=>e,Ir=(e,t)=>t,Lr=e=>null,Rr=e=>!0,zr=(e,t)=>e==t,Br=/\.\d*?(?=9{6,}|0{6,})/gm,Vr=e=>{if(Qr(e)||Gr.has(e))return e;let t=`${e}`,n=t.match(Br);if(n==null)return e;let r=n[0].length-1;if(t.indexOf(`e-`)!=-1){let[e,n]=t.split(`e`);return+`${Vr(e)}e${n}`}return G(e,r)};function Hr(e,t){return Vr(G(Vr(e/t))*t)}function Ur(e,t){return Vr(Sr(Vr(e/t))*t)}function Wr(e,t){return Vr(br(Vr(e/t))*t)}function G(e,t=0){if(Qr(e))return e;let n=10**t;return xr(e*n*(1+2**-52))/n}let Gr=new Map;function Kr(e){return((``+e).split(`.`)[1]||``).length}function qr(e,t,n,r){let i=[],a=r.map(Kr);for(let o=t;o<n;o++){let t=yr(o),n=G(Tr(e,o),t);for(let s=0;s<r.length;s++){let c=e==10?+`${r[s]}e${o}`:r[s]*n,l=(o>=0?0:t)+(o>=a[s]?0:a[s]),u=e==10?c:G(c,l);i.push(u),Gr.set(u,l)}}return i}let Jr={},Yr=[],Xr=[null,null],Zr=Array.isArray,Qr=Number.isInteger,$r=e=>e===void 0;function ei(e){return typeof e==`string`}function ti(e){let t=!1;if(e!=null){let n=e.constructor;t=n==null||n==Object}return t}function ni(e){return typeof e==`object`&&!!e}let ri=Object.getPrototypeOf(Uint8Array),ii=`__proto__`;function ai(e,t=ti){let n;if(Zr(e)){let r=e.find(e=>e!=null);if(Zr(r)||t(r)){n=Array(e.length);for(let r=0;r<e.length;r++)n[r]=ai(e[r],t)}else n=e.slice()}else if(e instanceof ri)n=e.slice();else if(t(e))for(let r in n={},e)r!=ii&&(n[r]=ai(e[r],t));else n=e;return n}function oi(e){let t=arguments;for(let n=1;n<t.length;n++){let r=t[n];for(let t in r)t!=ii&&(ti(e[t])?oi(e[t],ai(r[t])):e[t]=ai(r[t]))}return e}function si(e,t,n){for(let r=0,i,a=-1;r<t.length;r++){let o=t[r];if(o>a){for(i=o-1;i>=0&&e[i]==null;)e[i--]=null;for(i=o+1;i<n&&e[i]==null;)e[a=i++]=null}}}function ci(e,t){if(di(e)){let t=e[0].slice();for(let n=1;n<e.length;n++)t.push(...e[n].slice(1));return fi(t[0])||(t=ui(t)),t}let n=new Set;for(let t=0;t<e.length;t++){let r=e[t][0],i=r.length;for(let e=0;e<i;e++)n.add(r[e])}let r=[Array.from(n).sort((e,t)=>e-t)],i=r[0].length,a=new Map;for(let e=0;e<i;e++)a.set(r[0][e],e);for(let n=0;n<e.length;n++){let o=e[n],s=o[0];for(let e=1;e<o.length;e++){let c=o[e],l=Array(i).fill(void 0),u=t?t[n][e]:1,d=[];for(let e=0;e<c.length;e++){let t=c[e],n=a.get(s[e]);t===null?u!=0&&(l[n]=t,u==2&&d.push(n)):l[n]=t}si(l,d,i),r.push(l)}}return r}let li=typeof queueMicrotask>`u`?e=>Promise.resolve().then(e):queueMicrotask;function ui(e){let t=e[0],n=t.length,r=Array(n);for(let e=0;e<r.length;e++)r[e]=e;r.sort((e,n)=>t[e]-t[n]);let i=[];for(let t=0;t<e.length;t++){let a=e[t],o=Array(n);for(let e=0;e<n;e++)o[e]=a[r[e]];i.push(o)}return i}function di(e){let t=e[0][0],n=t.length;for(let r=1;r<e.length;r++){let i=e[r][0];if(i.length!=n)return!1;if(i!=t){for(let e=0;e<n;e++)if(i[e]!=t[e])return!1}}return!0}function fi(e,t=100){let n=e.length;if(n<=1)return!0;let r=0,i=n-1;for(;r<=i&&e[r]==null;)r++;for(;i>=r&&e[i]==null;)i--;if(i<=r)return!0;let a=wr(1,br((i-r+1)/t));for(let t=e[r],n=r+a;n<=i;n+=a){let r=e[n];if(r!=null){if(r<=t)return!1;t=r}}return!0}let pi=[`January`,`February`,`March`,`April`,`May`,`June`,`July`,`August`,`September`,`October`,`November`,`December`],mi=[`Sunday`,`Monday`,`Tuesday`,`Wednesday`,`Thursday`,`Friday`,`Saturday`];function hi(e){return e.slice(0,3)}let gi=mi.map(hi),_i={MMMM:pi,MMM:pi.map(hi),WWWW:mi,WWW:gi};function vi(e){return(e<10?`0`:``)+e}function yi(e){return(e<10?`00`:e<100?`0`:``)+e}let bi={YYYY:e=>e.getFullYear(),YY:e=>(e.getFullYear()+``).slice(2),MMMM:(e,t)=>t.MMMM[e.getMonth()],MMM:(e,t)=>t.MMM[e.getMonth()],MM:e=>vi(e.getMonth()+1),M:e=>e.getMonth()+1,DD:e=>vi(e.getDate()),D:e=>e.getDate(),WWWW:(e,t)=>t.WWWW[e.getDay()],WWW:(e,t)=>t.WWW[e.getDay()],HH:e=>vi(e.getHours()),H:e=>e.getHours(),h:e=>{let t=e.getHours();return t==0?12:t>12?t-12:t},AA:e=>e.getHours()>=12?`PM`:`AM`,aa:e=>e.getHours()>=12?`pm`:`am`,a:e=>e.getHours()>=12?`p`:`a`,mm:e=>vi(e.getMinutes()),m:e=>e.getMinutes(),ss:e=>vi(e.getSeconds()),s:e=>e.getSeconds(),fff:e=>yi(e.getMilliseconds())};function xi(e,t){t||=_i;let n=[],r=/\{([a-z]+)\}|[^{]+/gi,i;for(;i=r.exec(e);)n.push(i[0][0]==`{`?bi[i[1]]:i[0]);return e=>{let r=``;for(let i=0;i<n.length;i++)r+=typeof n[i]==`string`?n[i]:n[i](e,t);return r}}let Si=new Intl.DateTimeFormat().resolvedOptions().timeZone;function Ci(e,t){let n;return t==`UTC`||t==`Etc/UTC`?n=new Date(+e+e.getTimezoneOffset()*6e4):t==Si?n=e:(n=new Date(e.toLocaleString(`en-US`,{timeZone:t})),n.setMilliseconds(e.getMilliseconds())),n}let wi=e=>e%1==0,Ti=[1,2,2.5,5],Ei=qr(10,-32,0,Ti),Di=qr(10,0,32,Ti),Oi=Di.filter(wi),ki=Ei.concat(Di),Ai=`{YYYY}`,ji=`
`+Ai,Mi=`{M}/{D}`,Ni=`
`+Mi,Pi=Ni+`/{YY}`,Fi=`{aa}`,Ii=`{h}:{mm}`+Fi,Li=`
`+Ii,Ri=`:{ss}`;function zi(e){let t=e*1e3,n=t*60,r=n*60,i=r*24,a=i*30,o=i*365,s=(e==1?qr(10,0,3,Ti).filter(wi):qr(10,-3,0,Ti)).concat([t,t*5,t*10,t*15,t*30,n,n*5,n*10,n*15,n*30,r,r*2,r*3,r*4,r*6,r*8,r*12,i,i*2,i*3,i*4,i*5,i*6,i*7,i*8,i*9,i*10,i*15,a,a*2,a*3,a*4,a*6,o,o*2,o*5,o*10,o*25,o*50,o*100]),c=[[o,Ai,null,null,null,null,null,null,1],[i*28,`{MMM}`,ji,null,null,null,null,null,1],[i,Mi,ji,null,null,null,null,null,1],[r,`{h}`+Fi,Pi,null,Ni,null,null,null,1],[n,Ii,Pi,null,Ni,null,null,null,1],[t,Ri,Pi+` {h}:{mm}{aa}`,null,Ni+` {h}:{mm}{aa}`,null,Li,null,1],[e,Ri+`.{fff}`,Pi+` {h}:{mm}{aa}`,null,Ni+` {h}:{mm}{aa}`,null,Li,null,1]];function l(t){return(s,c,l,u,d,f)=>{let p=[],m=d>=o,h=d>=a&&d<o,g=t(l),_=G(g*e,3),v=Yi(g.getFullYear(),m?0:g.getMonth(),h||m?1:g.getDate()),y=G(v*e,3);if(h||m){let n=h?d/a:0,r=m?d/o:0,i=_==y?_:G(Yi(v.getFullYear()+r,v.getMonth()+n,1)*e,3),s=new Date(xr(i/e)),c=s.getFullYear(),l=s.getMonth();for(let a=0;i<=u;a++){let o=Yi(c+r*a,l+n*a,1),s=o-t(G(o*e,3));i=G((+o+s)*e,3),i<=u&&p.push(i)}}else{let a=d>=i?i:d,o=y+(br(l)-br(_))+Ur(_-y,a);p.push(o);let m=t(o),h=m.getHours()+m.getMinutes()/n+m.getSeconds()/r,g=d/r,v=f/s.axes[c]._space;for(;o=G(o+d,e==1?0:3),!(o>u);)if(g>1){let e=br(G(h+g,6))%24,n=t(o).getHours()-e;n>1&&(n=-1),o-=n*r,h=(h+g)%24;let i=p[p.length-1];G((o-i)/d,3)*v>=.7&&p.push(o)}else p.push(o)}return p}}return[s,c,l]}let[Bi,Vi,Hi]=zi(1),[Ui,Wi,Gi]=zi(.001);qr(2,-53,53,[1]);function Ki(e,t){return e.map(e=>e.map((n,r)=>r==0||r==8||n==null?n:t(r==1||e[8]==0?n:e[1]+n)))}function qi(e,t){return(n,r,i,a,o)=>{let s=t.find(e=>o>=e[0])||t[t.length-1],c,l,u,d,f,p;return r.map(t=>{let n=e(t),r=n.getFullYear(),i=n.getMonth(),a=n.getDate(),o=n.getHours(),m=n.getMinutes(),h=n.getSeconds(),g=r!=c&&s[2]||i!=l&&s[3]||a!=u&&s[4]||o!=d&&s[5]||m!=f&&s[6]||h!=p&&s[7]||s[1];return c=r,l=i,u=a,d=o,f=m,p=h,g(n)})}}function Ji(e,t){let n=xi(t);return(t,r,i,a,o)=>r.map(t=>n(e(t)))}function Yi(e,t,n){return new Date(e,t,n)}function Xi(e,t){return t(e)}function Zi(e,t){return(n,r,i,a)=>a==null?`--`:t(e(r))}function Qi(e,t){let n=e.series[t];return n.width?n.stroke(e,t):n.points.width?n.points.stroke(e,t):null}function $i(e,t){return e.series[t].fill(e,t)}let ea={show:!0,live:!0,isolate:!1,mount:Pr,markers:{show:!0,width:2,stroke:Qi,fill:$i,dash:`solid`},idx:null,idxs:null,values:[]};function ta(e,t){let n=e.cursor.points,r=Hn(),i=n.size(e,t);V(r,vn,i),V(r,yn,i);let a=i/-2;V(r,`marginLeft`,a),V(r,`marginTop`,a);let o=n.width(e,t,i);return o&&V(r,`borderWidth`,o),r}function na(e,t){let n=e.series[t].points;return n._fill||n._stroke}function ra(e,t){let n=e.series[t].points;return n._stroke||n._fill}function ia(e,t){return e.series[t].points.size}let aa=[0,0];function oa(e,t,n){return aa[0]=t,aa[1]=n,aa}function sa(e,t,n,r=!0){return e=>{e.button==0&&(!r||e.target==t)&&n(e)}}function ca(e,t,n,r=!0){return e=>{(!r||e.target==t)&&n(e)}}let la={show:!0,x:!0,y:!0,lock:!1,move:oa,points:{one:!1,show:ta,size:ia,width:0,stroke:ra,fill:na},bind:{mousedown:sa,mouseup:sa,click:sa,dblclick:sa,mousemove:ca,mouseleave:ca,mouseenter:ca},drag:{setScale:!0,x:!0,y:!1,dist:0,uni:null,click:(e,t)=>{t.stopPropagation(),t.stopImmediatePropagation()},_x:!1,_y:!1},focus:{dist:(e,t,n,r,i)=>r-i,prox:-1,bias:0},hover:{skip:[void 0],prox:null,bias:0},left:-10,top:-10,idx:null,dataIdx:null,idxs:null,event:null},ua={show:!0,stroke:`rgba(0,0,0,0.07)`,width:2},da=oi({},ua,{filter:Ir}),fa=oi({},da,{size:10}),pa=oi({},ua,{show:!1}),ma=`12px system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"`,ha=`bold `+ma,ga=1.5,_a={show:!0,scale:`x`,stroke:Cn,space:50,gap:5,alignTo:1,size:50,labelGap:0,labelSize:30,labelFont:ha,side:2,grid:da,ticks:fa,border:pa,font:ma,lineGap:ga,rotate:0},va={show:!0,scale:`x`,auto:!1,sorted:1,min:U,max:-U,idxs:[]};function ya(e,t,n,r,i){return t.map(e=>e==null?``:gr(e))}function ba(e,t,n,r,i,a,o){let s=[],c=Gr.get(i)||0;n=o?n:G(Ur(n,i),c);for(let e=n;e<=r;e=G(e+i,c))s.push(Object.is(e,-0)?0:e);return s}function xa(e,t,n,r,i,a,o){let s=[],c=e.scales[e.axes[t].scale].log;i=Tr(c,br((c==10?Dr:Or)(n))),c==10&&(i=ki[$n(i,ki)]);let l=n,u=i*c;c==10&&(u=ki[$n(u,ki)]);do s.push(l),l+=i,c==10&&!Gr.has(l)&&(l=G(l,Gr.get(i))),l>=u&&(i=l,u=i*c,c==10&&(u=ki[$n(u,ki)]));while(l<=r);return s}function Sa(e,t,n,r,i,a,o){let s=e.scales[e.axes[t].scale].asinh,c=r>s?xa(e,t,wr(s,n),r,i):[s],l=r>=0&&n<=0?[0]:[];return(n<-s?xa(e,t,wr(s,-r),-n,i):[s]).reverse().map(e=>-e).concat(l,c)}let Ca=/./,wa=/[12357]/,Ta=/[125]/,Ea=/1/,Da=(e,t,n,r)=>e.map((e,i)=>t==4&&e==0||i%r==0&&n.test(e.toExponential()[e<0?1:0])?e:null);function Oa(e,t,n,r,i){let a=e.axes[n],o=a.scale,s=e.scales[o],c=e.valToPos,l=a._space,u=c(10,o),d=c(9,o)-u>=l?Ca:c(7,o)-u>=l?wa:c(5,o)-u>=l?Ta:Ea;if(d==Ea){let e=yr(c(1,o)-u);if(e<l)return Da(t.slice().reverse(),s.distr,d,Sr(l/e)).reverse()}return Da(t,s.distr,d,1)}function ka(e,t,n,r,i){let a=e.axes[n],o=a.scale,s=a._space,c=e.valToPos,l=yr(c(1,o)-c(2,o));return l<s?Da(t.slice().reverse(),3,Ca,Sr(s/l)).reverse():t}function Aa(e,t,n,r){return r==null?`--`:t==null?``:gr(t)}let ja={show:!0,scale:`y`,stroke:Cn,space:30,gap:5,alignTo:1,size:50,labelGap:0,labelSize:30,labelFont:ha,side:3,grid:da,ticks:fa,border:pa,font:ma,lineGap:ga,rotate:0};function Ma(e,t){return G((3+(e||1)*2)*t,3)}function Na(e,t){let{scale:n,idxs:r}=e.series[0],i=e._data[0],a=e.valToPos(i[r[0]],n,!0),o=yr(e.valToPos(i[r[1]],n,!0)-a)/(e.series[t].points.space*B);return r[1]-r[0]<=o}let Pa={scale:null,auto:!0,sorted:0,min:U,max:-U},Fa=(e,t,n,r,i)=>i,Ia={show:!0,auto:!0,sorted:0,gaps:Fa,alpha:1,facets:[oi({},Pa,{scale:`x`}),oi({},Pa,{scale:`y`})]},La={scale:`y`,auto:!0,sorted:0,show:!0,spanGaps:!1,gaps:Fa,alpha:1,points:{show:Na,filter:null},values:null,min:U,max:-U,idxs:[],path:null,clip:null};function Ra(e,t,n,r,i){return n/10}let za={time:!0,auto:!0,distr:1,log:10,asinh:1,min:null,max:null,dir:1,ori:0},Ba=oi({},za,{time:!1,ori:1}),Va={};function Ha(e,t){let n=Va[e];return n||(n={key:e,plots:[],sub(e){n.plots.push(e)},unsub(e){n.plots=n.plots.filter(t=>t!=e)},pub(e,t,r,i,a,o,s){for(let c=0;c<n.plots.length;c++)n.plots[c]!=t&&n.plots[c].pub(e,t,r,i,a,o,s)}},e!=null&&(Va[e]=n)),n}function Ua(e,t,n){let r=e.mode,i=e.series[t],a=r==2?e._data[t]:e._data,o=e.scales,s=e.bbox,c=a[0],l=r==2?a[1]:a[t],u=r==2?o[i.facets[0].scale]:o[e.series[0].scale],d=r==2?o[i.facets[1].scale]:o[i.scale],f=s.left,p=s.top,m=s.width,h=s.height,g=e.valToPosH,_=e.valToPosV;return u.ori==0?n(i,c,l,u,d,g,_,f,p,m,h,Qa,eo,no,io,oo):n(i,c,l,u,d,_,g,p,f,h,m,$a,to,ro,ao,so)}function Wa(e,t){let n=0,r=0,i=H(e.bands,Yr);for(let e=0;e<i.length;e++){let a=i[e];a.series[0]==t?n=a.dir:a.series[1]==t&&(a.dir==1?r|=1:r|=2)}return[n,r==1?-1:r==2?1:r==3?2:0]}function Ga(e,t,n,r,i){let a=e.mode,o=e.series[t],s=a==2?o.facets[1].scale:o.scale,c=e.scales[s];return i==-1?c.min:i==1?c.max:c.distr==3?c.dir==1?c.min:c.max:0}function Ka(e,t,n,r,i,a){return Ua(e,t,(e,t,o,s,c,l,u,d,f,p,m)=>{let h=e.pxRound,g=s.dir*(s.ori==0?1:-1),_=s.ori==0?eo:to,v,y;g==1?(v=n,y=r):(v=r,y=n);let b=h(l(t[v],s,p,d)),x=h(u(o[v],c,m,f)),S=h(l(t[y],s,p,d)),C=h(u(a==1?c.max:c.min,c,m,f)),w=new Path2D(i);return _(w,S,C),_(w,b,C),_(w,b,x),w})}function qa(e,t,n,r,i,a){let o=null;if(e.length>0){o=new Path2D;let s=t==0?no:ro,c=n;for(let t=0;t<e.length;t++){let n=e[t];if(n[1]>n[0]){let e=n[0]-c;e>0&&s(o,c,r,e,r+a),c=n[1]}}let l=n+i-c;l>0&&s(o,c,r-10/2,l,r+a+10)}return o}function Ja(e,t,n){let r=e[e.length-1];r&&r[0]==t?r[1]=n:e.push([t,n])}function Ya(e,t,n,r,i,a,o){let s=[],c=e.length;for(let l=i==1?n:r;l>=n&&l<=r;l+=i)if(t[l]===null){let u=l,d=l;if(i==1)for(;++l<=r&&t[l]===null;)d=l;else for(;--l>=n&&t[l]===null;)d=l;let f=a(e[u]),p=d==u?f:a(e[d]),m=u-i;f=o<=0&&m>=0&&m<c?a(e[m]):f;let h=d+i;p=o>=0&&h>=0&&h<c?a(e[h]):p,p>=f&&s.push([f,p])}return s}function Xa(e){return e==0?Fr:e==1?xr:t=>Hr(t,e)}function Za(e){let t=e==0?Qa:$a,n=e==0?(e,t,n,r,i,a)=>{e.arcTo(t,n,r,i,a)}:(e,t,n,r,i,a)=>{e.arcTo(n,t,i,r,a)},r=e==0?(e,t,n,r,i)=>{e.rect(t,n,r,i)}:(e,t,n,r,i)=>{e.rect(n,t,i,r)};return(e,i,a,o,s,c=0,l=0)=>{c==0&&l==0?r(e,i,a,o,s):(c=Cr(c,o/2,s/2),l=Cr(l,o/2,s/2),t(e,i+c,a),n(e,i+o,a,i+o,a+s,c),n(e,i+o,a+s,i,a+s,l),n(e,i,a+s,i,a,l),n(e,i,a,i+o,a,c),e.closePath())}}let Qa=(e,t,n)=>{e.moveTo(t,n)},$a=(e,t,n)=>{e.moveTo(n,t)},eo=(e,t,n)=>{e.lineTo(t,n)},to=(e,t,n)=>{e.lineTo(n,t)},no=Za(0),ro=Za(1),io=(e,t,n,r,i,a)=>{e.arc(t,n,r,i,a)},ao=(e,t,n,r,i,a)=>{e.arc(n,t,r,i,a)},oo=(e,t,n,r,i,a,o)=>{e.bezierCurveTo(t,n,r,i,a,o)},so=(e,t,n,r,i,a,o)=>{e.bezierCurveTo(n,t,i,r,o,a)};function co(e){return(e,t,n,r,i)=>Ua(e,t,(t,a,o,s,c,l,u,d,f,p,m)=>{let{pxRound:h,points:g}=t,_,v;s.ori==0?(_=Qa,v=io):(_=$a,v=ao);let y=G(g.width*B,3),b=(g.size-g.width)/2*B,x=G(b*2,3),S=new Path2D,C=new Path2D,{left:w,top:T,width:E,height:D}=e.bbox;no(C,w-x,T-x,E+x*2,D+x*2);let O=e=>{if(o[e]!=null){let t=h(l(a[e],s,p,d)),n=h(u(o[e],c,m,f));_(S,t+b,n),v(S,t,n,b,0,vr*2)}};if(i)i.forEach(O);else for(let e=n;e<=r;e++)O(e);return{stroke:y>0?S:null,fill:S,clip:C,flags:3}})}function lo(e){return(t,n,r,i,a,o)=>{r!=i&&(a!=r&&o!=r&&e(t,n,r),a!=i&&o!=i&&e(t,n,i),e(t,n,o))}}let uo=lo(eo),fo=lo(to);function po(e){let t=H(e?.alignGaps,0);return(e,n,r,i)=>Ua(e,n,(a,o,s,c,l,u,d,f,p,m,h)=>{[r,i]=rr(s,r,i);let g=a.pxRound,_=e=>g(u(e,c,m,f)),v=e=>g(d(e,l,h,p)),y,b;c.ori==0?(y=eo,b=uo):(y=to,b=fo);let x=c.dir*(c.ori==0?1:-1),S={stroke:new Path2D,fill:null,clip:null,band:null,gaps:null,flags:1},C=S.stroke,w=!1;if(i-r>=m*4){let t=t=>e.posToVal(t,c.key,!0),n=null,a=null,l,u,d=_(o[x==1?r:i]),f=_(o[r]),p=_(o[i]),m=t(x==1?f+1:p-1);for(let e=x==1?r:i;e>=r&&e<=i;e+=x){let r=o[e],i=(x==1?r<m:r>m)?d:_(r),c=s[e];i==d?c==null?c===null&&(w=!0):(u=c,n==null?(y(C,i,v(u)),l=n=a=u):u<n?n=u:u>a&&(a=u)):(n!=null&&b(C,d,v(n),v(a),v(l),v(u)),c==null?(n=a=null,c===null&&(w=!0)):(u=c,y(C,i,v(u)),n=a=l=u),d=i,m=t(d+x))}n!=null&&n!=a&&d!=null&&b(C,d,v(n),v(a),v(l),v(u))}else for(let e=x==1?r:i;e>=r&&e<=i;e+=x){let t=s[e];t===null?w=!0:t!=null&&y(C,_(o[e]),v(t))}let[T,E]=Wa(e,n);if(a.fill!=null||T!=0){let t=S.fill=new Path2D(C),s=v(a.fillTo(e,n,a.min,a.max,T)),c=_(o[r]),l=_(o[i]);x==-1&&([l,c]=[c,l]),y(t,l,s),y(t,c,s)}if(!a.spanGaps){let l=[];w&&l.push(...Ya(o,s,r,i,x,_,t)),S.gaps=l=a.gaps(e,n,r,i,l),S.clip=qa(l,c.ori,f,p,m,h)}return E!=0&&(S.band=E==2?[Ka(e,n,r,i,C,-1),Ka(e,n,r,i,C,1)]:Ka(e,n,r,i,C,E)),S})}function mo(e){let t=H(e.align,1),n=H(e.ascDesc,!1),r=H(e.alignGaps,0),i=H(e.extend,!1);return(e,a,o,s)=>Ua(e,a,(c,l,u,d,f,p,m,h,g,_,v)=>{[o,s]=rr(u,o,s);let y=c.pxRound,{left:b,width:x}=e.bbox,S=e=>y(p(e,d,_,h)),C=e=>y(m(e,f,v,g)),w=d.ori==0?eo:to,T={stroke:new Path2D,fill:null,clip:null,band:null,gaps:null,flags:1},E=T.stroke,D=d.dir*(d.ori==0?1:-1),O=C(u[D==1?o:s]),ee=S(l[D==1?o:s]),te=ee,k=ee;i&&t==-1&&(k=b,w(E,k,O)),w(E,ee,O);for(let e=D==1?o:s;e>=o&&e<=s;e+=D){let n=u[e];if(n==null)continue;let r=S(l[e]),i=C(n);t==1?w(E,r,O):w(E,te,i),w(E,r,i),O=i,te=r}let ne=te;i&&t==1&&(ne=b+x,w(E,ne,O));let[re,ie]=Wa(e,a);if(c.fill!=null||re!=0){let t=T.fill=new Path2D(E),n=C(c.fillTo(e,a,c.min,c.max,re));w(t,ne,n),w(t,k,n)}if(!c.spanGaps){let i=[];i.push(...Ya(l,u,o,s,D,S,r));let f=c.width*B/2,p=n||t==1?f:-f,m=n||t==-1?-f:f;i.forEach(e=>{e[0]+=p,e[1]+=m}),T.gaps=i=c.gaps(e,a,o,s,i),T.clip=qa(i,d.ori,h,g,_,v)}return ie!=0&&(T.band=ie==2?[Ka(e,a,o,s,E,-1),Ka(e,a,o,s,E,1)]:Ka(e,a,o,s,E,ie)),T})}function ho(e,t,n,r,i,a,o=U){if(e.length>1){let s=null;for(let c=0,l=1/0;c<e.length;c++)if(t[c]!==void 0){if(s!=null){let t=yr(e[c]-e[s]);t<l&&(l=t,o=yr(n(e[c],r,i,a)-n(e[s],r,i,a)))}s=c}}return o}function go(e){e||=Jr;let t=H(e.size,[.6,U,1]),n=e.align||0,r=e.gap||0,i=e.radius;i=i==null?[0,0]:typeof i==`number`?[i,0]:i;let a=W(i),o=1-t[0],s=H(t[1],U),c=H(t[2],1),l=H(e.disp,Jr),u=H(e.each,e=>{}),{fill:d,stroke:f}=l;return(e,t,i,p)=>Ua(e,t,(m,h,g,_,v,y,b,x,S,C,w)=>{let T=m.pxRound,E=n,D=r*B,O=s*B,ee=c*B,te,k;_.ori==0?[te,k]=a(e,t):[k,te]=a(e,t);let ne=_.dir*(_.ori==0?1:-1),re=_.ori==0?no:ro,ie=_.ori==0?u:(e,t,n,r,i,a,o)=>{u(e,t,n,i,r,o,a)},ae=H(e.bands,Yr).find(e=>e.series[0]==t),oe=ae==null?0:ae.dir,se=m.fillTo(e,t,m.min,m.max,oe),A=T(b(se,v,w,S)),j,M,ce,N=C,P=T(m.width*B),le=!1,ue=null,de=null,fe=null,pe=null;d!=null&&(P==0||f!=null)&&(le=!0,ue=d.values(e,t,i,p),de=new Map,new Set(ue).forEach(e=>{e!=null&&de.set(e,new Path2D)}),P>0&&(fe=f.values(e,t,i,p),pe=new Map,new Set(fe).forEach(e=>{e!=null&&pe.set(e,new Path2D)})));let{x0:me,size:he}=l;if(me!=null&&he!=null){E=1,h=me.values(e,t,i,p),me.unit==2&&(h=h.map(t=>e.posToVal(x+t*C,_.key,!0)));let n=he.values(e,t,i,p);M=he.unit==2?n[0]*C:y(n[0],_,C,x)-y(0,_,C,x),N=ho(h,g,y,_,C,x,N),ce=N-M+D}else N=ho(h,g,y,_,C,x,N),ce=N*o+D,M=N-ce;ce<1&&(ce=0),P>=M/2&&(P=0),ce<5&&(T=Fr);let ge=ce>0,_e=N-ce-(ge?P:0);M=T(Mr(_e,ee,O)),j=(E==0?M/2:E==ne?0:M)-E*ne*((E==0?D/2:0)+(ge?P/2:0));let ve={stroke:null,fill:null,clip:null,band:null,gaps:null,flags:0},ye=le?null:new Path2D,be=null;if(ae!=null)be=e.data[ae.series[1]];else{let{y0:n,y1:r}=l;n!=null&&r!=null&&(g=r.values(e,t,i,p),be=n.values(e,t,i,p))}let xe=te*M,Se=k*M;for(let n=ne==1?i:p;n>=i&&n<=p;n+=ne){let r=g[n];if(r==null)continue;if(be!=null){let e=be[n]??0;if(r-e==0)continue;A=b(e,v,w,S)}let i=y(_.distr!=2||l!=null?h[n]:n,_,C,x),a=b(H(r,se),v,w,S),o=T(i-j),s=T(wr(a,A)),c=T(Cr(a,A)),u=s-c;if(r!=null){let i=r<0?Se:xe,a=r<0?xe:Se;le?(P>0&&fe[n]!=null&&re(pe.get(fe[n]),o,c+br(P/2),M,wr(0,u-P),i,a),ue[n]!=null&&re(de.get(ue[n]),o,c+br(P/2),M,wr(0,u-P),i,a)):re(ye,o,c+br(P/2),M,wr(0,u-P),i,a),ie(e,t,n,o-P/2,c,M+P,u)}}return P>0?ve.stroke=le?pe:ye:le||(ve._fill=m.width==0?m._fill:m._stroke??m._fill,ve.width=0),ve.fill=le?de:ye,ve})}function _o(e,t){let n=H(t?.alignGaps,0);return(t,r,i,a)=>Ua(t,r,(o,s,c,l,u,d,f,p,m,h,g)=>{[i,a]=rr(c,i,a);let _=o.pxRound,v=e=>_(d(e,l,h,p)),y=e=>_(f(e,u,g,m)),b,x,S;l.ori==0?(b=Qa,S=eo,x=oo):(b=$a,S=to,x=so);let C=l.dir*(l.ori==0?1:-1),w=v(s[C==1?i:a]),T=w,E=[],D=[];for(let e=C==1?i:a;e>=i&&e<=a;e+=C)if(c[e]!=null){let t=s[e],n=v(t);E.push(T=n),D.push(y(c[e]))}let O={stroke:e(E,D,b,S,x,_),fill:null,clip:null,band:null,gaps:null,flags:1},ee=O.stroke,[te,k]=Wa(t,r);if(o.fill!=null||te!=0){let e=O.fill=new Path2D(ee),n=y(o.fillTo(t,r,o.min,o.max,te));S(e,T,n),S(e,w,n)}if(!o.spanGaps){let e=[];e.push(...Ya(s,c,i,a,C,v,n)),O.gaps=e=o.gaps(t,r,i,a,e),O.clip=qa(e,l.ori,p,m,h,g)}return k!=0&&(O.band=k==2?[Ka(t,r,i,a,ee,-1),Ka(t,r,i,a,ee,1)]:Ka(t,r,i,a,ee,k)),O})}function vo(e){return _o(yo,e)}function yo(e,t,n,r,i,a){let o=e.length;if(o<2)return null;let s=new Path2D;if(n(s,e[0],t[0]),o==2)r(s,e[1],t[1]);else{let n=Array(o),r=Array(o-1),a=Array(o-1),c=Array(o-1);for(let n=0;n<o-1;n++)a[n]=t[n+1]-t[n],c[n]=e[n+1]-e[n],r[n]=a[n]/c[n];n[0]=r[0];for(let e=1;e<o-1;e++)r[e]===0||r[e-1]===0||r[e-1]>0!=r[e]>0?n[e]=0:(n[e]=3*(c[e-1]+c[e])/((2*c[e]+c[e-1])/r[e-1]+(c[e]+2*c[e-1])/r[e]),isFinite(n[e])||(n[e]=0));n[o-1]=r[o-2];for(let r=0;r<o-1;r++)i(s,e[r]+c[r]/3,t[r]+n[r]*c[r]/3,e[r+1]-c[r]/3,t[r+1]-n[r+1]*c[r]/3,e[r+1],t[r+1])}return s}let bo=new Set;function xo(){for(let e of bo)e.syncRect(!0)}Nn&&(Zn(`resize`,Fn,xo),Zn(`scroll`,Fn,xo,!0),Zn(Mn,Fn,()=>{Lo.pxRatio=B}));let So=po(),Co=co();function wo(e,t,n,r){return(r?[e[0],e[1]].concat(e.slice(2)):[e[0]].concat(e.slice(1))).map((e,r)=>Eo(e,r,t,n))}function To(e,t){return e.map((e,n)=>n==0?{}:oi({},t,e))}function Eo(e,t,n,r){return oi({},t==0?n:r,e)}function Do(e,t,n){return t==null?Xr:[t,n]}let Oo=Do;function ko(e,t,n){return t==null?Xr:fr(t,n,cr,!0)}function Ao(e,t,n,r){return t==null?Xr:or(t,n,e.scales[r].log,!1)}let jo=Ao;function Mo(e,t,n,r){return t==null?Xr:sr(t,n,e.scales[r].log,!1)}let No=Mo;function Po(e,t,n,r,i){let a=wr(jr(e),jr(t)),o=t-e,s=$n(i/r*o,n);do{let e=n[s],t=r*e/o;if(t>=i&&a+(e<5?Gr.get(e):0)<=17)return[e,t]}while(++s<n.length);return[0,0]}function Fo(e){let t,n;return e=e.replace(/(\d+)px/,(e,r)=>(t=xr((n=+r)*B))+`px`),[e,t,n]}function Io(e){e.show&&[e.font,e.labelFont].forEach(e=>{let t=G(e[2]*B,1);e[0]=e[0].replace(/[0-9.]+px/,t+`px`),e[1]=t})}function Lo(e,t,n){let r={mode:H(e.mode,1)},i=r.mode;function a(e,t,n,r){let i=t.valToPct(e);return r+n*(t.dir==-1?1-i:i)}function o(e,t,n,r){let i=t.valToPct(e);return r+n*(t.dir==-1?i:1-i)}function s(e,t,n,r){return t.ori==0?a(e,t,n,r):o(e,t,n,r)}r.valToPosH=a,r.valToPosV=o;let c=!1;r.status=0;let l=r.root=Hn(`uplot`);if(e.id!=null&&(l.id=e.id),zn(l,e.class),e.title){let t=Hn(`u-title`,l);t.textContent=e.title}let u=Vn(`canvas`),d=r.ctx=u.getContext(`2d`),f=Hn(`u-wrap`,l);Zn(`click`,f,e=>{e.target===m&&(L!=cn||R!=ln)&&pn.click(r,e)},!0);let p=r.under=Hn(`u-under`,f);f.appendChild(u);let m=r.over=Hn(`u-over`,f);e=ai(e);let h=+H(e.pxAlign,1),g=Xa(h);(e.plugins||[]).forEach(t=>{t.opts&&(e=t.opts(r,e)||e)});let _=e.ms||.001,v=r.series=i==1?wo(e.series||[],va,La,!1):To(e.series||[null],Ia),y=r.axes=wo(e.axes||[],_a,ja,!0),b=r.scales={},x=r.bands=e.bands||[];x.forEach(e=>{e.fill=W(e.fill||null),e.dir=H(e.dir,-1)});let S=i==2?v[1].facets[0].scale:v[0].scale,C={axes:Gt,series:Pt},w=(e.drawOrder||[`axes`,`series`]).map(e=>C[e]);function T(e){let t=e.distr==3?t=>Dr(t>0?t:e.clamp(r,t,e.min,e.max,e.key)):e.distr==4?t=>Ar(t,e.asinh):e.distr==100?t=>e.fwd(t):e=>e;return n=>{let r=t(n),{_min:i,_max:a}=e,o=a-i;return(r-i)/o}}function E(t){let n=b[t];if(n==null){let r=(e.scales||Jr)[t]||Jr;if(r.from!=null){E(r.from);let e=oi({},b[r.from],r,{key:t});e.valToPct=T(e),b[t]=e}else{n=b[t]=oi({},t==S?za:Ba,r),n.key=t;let e=n.time,a=n.range,o=Zr(a);if((t!=S||i==2&&!e)&&(o&&(a[0]==null||a[1]==null)&&(a={min:a[0]==null?lr:{mode:1,hard:a[0],soft:a[0]},max:a[1]==null?lr:{mode:1,hard:a[1],soft:a[1]}},o=!1),!o&&ti(a))){let e=a;a=(t,n,r)=>n==null?Xr:fr(n,r,e)}n.range=W(a||(e?Oo:t==S?n.distr==3?jo:n.distr==4?No:Do:n.distr==3?Ao:n.distr==4?Mo:ko)),n.auto=W(o?!1:n.auto),n.clamp=W(n.clamp||Ra),n._min=n._max=null,n.valToPct=T(n)}}}for(let t in E(`x`),E(`y`),i==1&&v.forEach(e=>{E(e.scale)}),y.forEach(e=>{E(e.scale)}),e.scales)E(t);let D=b[S],O=D.distr,ee,te;D.ori==0?(zn(l,`u-hz`),ee=a,te=o):(zn(l,`u-vt`),ee=o,te=a);let k={};for(let e in b){let t=b[e];(t.min!=null||t.max!=null)&&(k[e]={min:t.min,max:t.max},t.min=t.max=null)}let ne=e.tzDate||(e=>new Date(xr(e/_))),re=e.fmtDate||xi,ie=_==1?Hi(ne):Gi(ne),ae=qi(ne,Ki(_==1?Vi:Wi,re)),oe=Zi(ne,Xi(`{YYYY}-{MM}-{DD} {h}:{mm}{aa}`,re)),se=[],A=r.legend=oi({},ea,e.legend),j=r.cursor=oi({},la,{drag:{y:i==2}},e.cursor),M=A.show,ce=j.show,N=A.markers;A.idxs=se,N.width=W(N.width),N.dash=W(N.dash),N.stroke=W(N.stroke),N.fill=W(N.fill);let P,le,ue,de=[],fe=[],pe,me=!1,he={};if(A.live){let e=v[1]?v[1].values:null;for(let t in me=e!=null,pe=me?e(r,1,0):{_:0},pe)he[t]=`--`}if(M)if(P=Vn(`table`,`u-legend`,l),ue=Vn(`tbody`,null,P),A.mount(r,P),me){le=Vn(`thead`,null,P,ue);let e=Vn(`tr`,null,le);for(var ge in Vn(`th`,null,e),pe)Vn(`th`,_n,e).textContent=ge}else zn(P,`u-inline`),A.live&&zn(P,`u-live`);let _e={show:!0},ve={show:!1};function ye(e,t){if(t==0&&(me||!A.live||i==2))return Xr;let n=[],a=Vn(`tr`,`u-series`,ue,ue.childNodes[t]);zn(a,e.class),e.show||zn(a,gn);let o=Vn(`th`,null,a);if(N.show){let e=Hn(`u-marker`,o);if(t>0){let n=N.width(r,t);n&&(e.style.border=n+`px `+N.dash(r,t)+` `+N.stroke(r,t)),e.style.background=N.fill(r,t)}}let s=Hn(_n,o);for(var c in e.label instanceof HTMLElement?s.appendChild(e.label):s.textContent=e.label,t>0&&(N.show||(s.style.color=e.width>0?N.stroke(r,t):N.fill(r,t)),xe(`click`,o,t=>{if(j._lock)return;qe(t);let n=v.indexOf(e);if((t.ctrlKey||t.metaKey)!=A.isolate){let e=v.some((e,t)=>t>0&&t!=n&&e.show);v.forEach((t,r)=>{r>0&&Ln(r,e?r==n?_e:ve:_e,!0,hi.setSeries)})}else Ln(n,{show:!e.show},!0,hi.setSeries)},!1),Xe&&xe(On,o,t=>{j._lock||(qe(t),Ln(v.indexOf(e),tr,!0,hi.setSeries))},!1)),pe){let e=Vn(`td`,`u-value`,a);e.textContent=`--`,n.push(e)}return[a,n]}let be=new Map;function xe(e,t,n,i=!0){let a=be.get(t)||{},o=j.bind[e](r,t,n,i);o&&(Zn(e,t,a[e]=o),be.set(t,a))}function Se(e,t,n){let r=be.get(t)||{};for(let n in r)(e==null||n==e)&&(Qn(n,t,r[n]),delete r[n]);e??be.delete(t)}let Ce=0,we=0,F=0,I=0,Te=0,Ee=0,De=Te,Oe=Ee,ke=F,Ae=I,je=0,Me=0,Ne=0,Pe=0;r.bbox={};let Fe=!1,Ie=!1,Le=!1,Re=!1,ze=!1,Be=!1;function Ve(e,t,n){(n||e!=r.width||t!=r.height)&&He(e,t),Kt(!1),Le=!0,Ie=!0,Zt()}function He(e,t){r.width=Ce=F=e,r.height=we=I=t,Te=Ee=0,Ge(),Ke();let n=r.bbox;je=n.left=Hr(Te*B,.5),Me=n.top=Hr(Ee*B,.5),Ne=n.width=Hr(F*B,.5),Pe=n.height=Hr(I*B,.5)}function Ue(){let e=!1,t=0;for(;!e;){t++;let n=Ut(t),i=Wt(t);e=t==3||n&&i,e||(He(r.width,r.height),Ie=!0)}}function We({width:e,height:t}){Ve(e,t)}r.setSize=We;function Ge(){let e=!1,t=!1,n=!1,r=!1;y.forEach((i,a)=>{if(i.show&&i._show){let{side:a,_size:o}=i,s=a%2,c=o+(i.label==null?0:i.labelSize);c>0&&(s?(F-=c,a==3?(Te+=c,r=!0):n=!0):(I-=c,a==0?(Ee+=c,e=!0):t=!0))}}),at[0]=e,at[1]=n,at[2]=t,at[3]=r,F-=lt[1]+lt[3],Te+=lt[3],I-=lt[2]+lt[0],Ee+=lt[0]}function Ke(){let e=Te+F,t=Ee+I,n=Te,r=Ee;function i(i,a){switch(i){case 1:return e+=a,e-a;case 2:return t+=a,t-a;case 3:return n-=a,n+a;case 0:return r-=a,r+a}}y.forEach((e,t)=>{if(e.show&&e._show){let t=e.side;e._pos=i(t,e._size),e.label!=null&&(e._lpos=i(t,e.labelSize))}})}if(j.dataIdx==null){let e=j.hover,n=e.skip=new Set(e.skip??[]);n.add(void 0);let r=e.prox=W(e.prox),i=e.bias??=0;j.dataIdx=(e,a,o,s)=>{if(a==0)return o;let c=o,l=r(e,a,o,s)??U,u=l>=0&&l<U,d=D.ori==0?F:I,f=j.left,p=t[0],m=t[a];if(n.has(m[o])){c=null;let e=null,t=null,r;if(i==0||i==-1)for(r=o;e==null&&r-- >0;)n.has(m[r])||(e=r);if(i==0||i==1)for(r=o;t==null&&r++<m.length;)n.has(m[r])||(t=r);if(e!=null||t!=null)if(u){let n=e==null?-1/0:ee(p[e],D,d,0),r=t==null?1/0:ee(p[t],D,d,0),i=f-n,a=r-f;i<=a?i<=l&&(c=e):a<=l&&(c=t)}else c=t==null?e:e==null?t:o-e<=t-o?e:t}else u&&yr(f-ee(p[o],D,d,0))>l&&(c=null);return c}}let qe=e=>{j.event=e};j.idxs=se,j._lock=!1;let Je=j.points;Je.show=W(Je.show),Je.size=W(Je.size),Je.stroke=W(Je.stroke),Je.width=W(Je.width),Je.fill=W(Je.fill);let Ye=r.focus=oi({},e.focus||{alpha:.3},j.focus),Xe=Ye.prox>=0,Ze=Xe&&Je.one,Qe=[],$e=[],et=[];function tt(e,t){let n=Je.show(r,t);if(n instanceof HTMLElement)return zn(n,`u-cursor-pt`),zn(n,e.class),Wn(n,-10,-10,F,I),m.insertBefore(n,Qe[t]),n}function nt(e,t){if(i==1||t>0){let t=i==1&&b[e.scale].time,n=e.value;e.value=t?ei(n)?Zi(ne,Xi(n,re)):n||oe:n||Aa,e.label=e.label||(t?`Time`:`Value`)}if(Ze||t>0){e.width=e.width==null?1:e.width,e.paths=e.paths||So||Lr,e.fillTo=W(e.fillTo||Ga),e.pxAlign=+H(e.pxAlign,h),e.pxRound=Xa(e.pxAlign),e.stroke=W(e.stroke||null),e.fill=W(e.fill||null),e._stroke=e._fill=e._paths=e._focus=null;let t=Ma(wr(1,e.width),1),n=e.points=oi({},{size:t,width:wr(1,t*.2),stroke:e.stroke,space:t*2,paths:Co,_stroke:null,_fill:null},e.points);n.show=W(n.show),n.filter=W(n.filter),n.fill=W(n.fill),n.stroke=W(n.stroke),n.paths=W(n.paths),n.pxAlign=e.pxAlign}if(M){let n=ye(e,t);de.splice(t,0,n[0]),fe.splice(t,0,n[1]),A.values.push(null)}if(ce){se.splice(t,0,null);let n=null;Ze?t==0&&(n=tt(e,t)):t>0&&(n=tt(e,t)),Qe.splice(t,0,n),$e.splice(t,0,0),et.splice(t,0,0)}pi(`addSeries`,t)}function rt(e,t){t??=v.length,e=i==1?Eo(e,t,va,La):Eo(e,t,{},Ia),v.splice(t,0,e),nt(v[t],t)}r.addSeries=rt;function it(e){if(v.splice(e,1),M){A.values.splice(e,1),fe.splice(e,1);let t=de.splice(e,1)[0];Se(null,t.firstChild),t.remove()}ce&&(se.splice(e,1),Qe.splice(e,1)[0].remove(),$e.splice(e,1),et.splice(e,1)),pi(`delSeries`,e)}r.delSeries=it;let at=[!1,!1,!1,!1];function ot(e,t){if(e._show=e.show,e.show){let n=e.side%2,i=b[e.scale];i??=(e.scale=n?v[1].scale:S,b[e.scale]);let a=i.time;e.size=W(e.size),e.space=W(e.space),e.rotate=W(e.rotate),Zr(e.incrs)&&e.incrs.forEach(e=>{!Gr.has(e)&&Gr.set(e,Kr(e))}),e.incrs=W(e.incrs||(i.distr==2?Oi:a?_==1?Bi:Ui:ki)),e.splits=W(e.splits||(a&&i.distr==1?ie:i.distr==3?xa:i.distr==4?Sa:ba)),e.stroke=W(e.stroke),e.grid.stroke=W(e.grid.stroke),e.ticks.stroke=W(e.ticks.stroke),e.border.stroke=W(e.border.stroke);let o=e.values;e.values=Zr(o)&&!Zr(o[0])?W(o):a?Zr(o)?qi(ne,Ki(o,re)):ei(o)?Ji(ne,o):o||ae:o||ya,e.filter=W(e.filter||(i.distr>=3&&i.log==10?Oa:i.distr==3&&i.log==2?ka:Ir)),e.font=Fo(e.font),e.labelFont=Fo(e.labelFont),e._size=e.size(r,null,t,0),e._space=e._rotate=e._incrs=e._found=e._splits=e._values=null,e._size>0&&(at[t]=!0,e._el=Hn(`u-axis`,f))}}function st(e,t,n,r){let[i,a,o,s]=n,c=t%2,l=0;return c==0&&(s||a)&&(l=t==0&&!i||t==2&&!o?xr(_a.size/3):0),c==1&&(i||o)&&(l=t==1&&!a||t==3&&!s?xr(ja.size/2):0),l}let ct=r.padding=(e.padding||[st,st,st,st]).map(e=>W(H(e,st))),lt=r._padding=ct.map((e,t)=>e(r,t,at,0)),ut,dt=null,ft=null,pt=i==1?v[0].idxs:null,mt=null,ht=!1;function gt(e,n){if(t=e??[],r.data=r._data=t,i==2){ut=0;for(let e=1;e<v.length;e++)ut+=t[e][0].length}else{t.length==0&&(r.data=r._data=t=[[]]),mt=t[0],ut=mt.length;let e=t;if(O==2){e=t.slice();let n=e[0]=Array(ut);for(let e=0;e<ut;e++)n[e]=e}r._data=t=e}if(Kt(!0),pi(`setData`),O==2&&(Le=!0),n!==!1){let e=D;e.auto(r,ht)?_t():In(S,e.min,e.max),Re||=j.left>=0,Be=!0,Zt()}}r.setData=gt;function _t(){ht=!0;let e,n;i==1&&(ut>0?(dt=pt[0]=0,ft=pt[1]=ut-1,e=t[0][dt],n=t[0][ft],O==2?(e=dt,n=ft):e==n&&(O==3?[e,n]=or(e,e,D.log,!1):O==4?[e,n]=sr(e,e,D.log,!1):D.time?n=e+xr(86400/_):[e,n]=fr(e,n,cr,!0))):(dt=pt[0]=e=null,ft=pt[1]=n=null)),In(S,e,n)}let vt,yt,bt,xt,St,Ct,wt,Tt,Et,Dt;function Ot(e,t,n,r,i,a){e??=wn,n??=Yr,r??=`butt`,i??=wn,a??=`round`,e!=vt&&(d.strokeStyle=vt=e),i!=yt&&(d.fillStyle=yt=i),t!=bt&&(d.lineWidth=bt=t),a!=St&&(d.lineJoin=St=a),r!=Ct&&(d.lineCap=Ct=r),n!=xt&&d.setLineDash(xt=n)}function kt(e,t,n,r){t!=yt&&(d.fillStyle=yt=t),e!=wt&&(d.font=wt=e),n!=Tt&&(d.textAlign=Tt=n),r!=Et&&(d.textBaseline=Et=r)}function At(e,t,n,i,a=0){if(i.length>0&&e.auto(r,ht)&&(t==null||t.min==null)){let t=H(dt,0),r=H(ft,i.length-1),o=n.min==null?ar(i,t,r,a,e.distr==3):[n.min,n.max];e.min=Cr(e.min,n.min=o[0]),e.max=wr(e.max,n.max=o[1])}}let jt={min:null,max:null};function Mt(){for(let e in b){let t=b[e];k[e]==null&&(t.min==null||k[S]!=null&&t.auto(r,ht))&&(k[e]=jt)}for(let e in b){let t=b[e];k[e]==null&&t.from!=null&&k[t.from]!=null&&(k[e]=jt)}k[S]!=null&&Kt(!0);let e={};for(let t in k){let n=k[t];if(n!=null){let a=e[t]=ai(b[t],ni);if(n.min!=null)oi(a,n);else if(t!=S||i==2)if(ut==0&&a.from==null){let e=a.range(r,null,null,t);a.min=e[0],a.max=e[1]}else a.min=U,a.max=-U}}if(ut>0)for(let n in v.forEach((n,a)=>{if(i==1){let i=n.scale,o=k[i];if(o==null)return;let s=e[i];if(a==0){let e=s.range(r,s.min,s.max,i);s.min=e[0],s.max=e[1],dt=$n(s.min,t[0]),ft=$n(s.max,t[0]),ft-dt>1&&(t[0][dt]<s.min&&dt++,t[0][ft]>s.max&&ft--),n.min=mt[dt],n.max=mt[ft]}else n.show&&n.auto&&At(s,o,n,t[a],n.sorted);n.idxs[0]=dt,n.idxs[1]=ft}else if(a>0&&n.show&&n.auto){let[r,i]=n.facets,o=r.scale,s=i.scale,[c,l]=t[a],u=e[o],d=e[s];u!=null&&At(u,k[o],r,c,r.sorted),d!=null&&At(d,k[s],i,l,i.sorted),n.min=i.min,n.max=i.max}}),e){let t=e[n],i=k[n];if(t.from==null&&(i==null||i.min==null)){let e=t.range(r,t.min==U?null:t.min,t.max==-U?null:t.max,n);t.min=e[0],t.max=e[1]}}for(let t in e){let n=e[t];if(n.from!=null){let i=e[n.from];if(i.min==null)n.min=n.max=null;else{let e=n.range(r,i.min,i.max,t);n.min=e[0],n.max=e[1]}}}let n={},a=!1;for(let t in e){let r=e[t],i=b[t];if(i.min!=r.min||i.max!=r.max){i.min=r.min,i.max=r.max;let e=i.distr;i._min=e==3?Dr(i.min):e==4?Ar(i.min,i.asinh):e==100?i.fwd(i.min):i.min,i._max=e==3?Dr(i.max):e==4?Ar(i.max,i.asinh):e==100?i.fwd(i.max):i.max,n[t]=a=!0}}if(a){for(let e in v.forEach((e,t)=>{i==2?t>0&&n.y&&(e._paths=null):n[e.scale]&&(e._paths=null)}),n)Le=!0,pi(`setScale`,e);ce&&j.left>=0&&(Re=Be=!0)}for(let e in k)k[e]=null}function Nt(e){let t=Mr(dt-1,0,ut-1),n=Mr(ft+1,0,ut-1);for(;e[t]==null&&t>0;)t--;for(;e[n]==null&&n<ut-1;)n++;return[t,n]}function Pt(){if(ut>0){let e=v.some(e=>e._focus)&&Dt!=Ye.alpha;e&&(d.globalAlpha=Dt=Ye.alpha),v.forEach((e,n)=>{if(n>0&&e.show&&(Ft(n,!1),Ft(n,!0),e._paths==null)){let a=Dt;Dt!=e.alpha&&(d.globalAlpha=Dt=e.alpha);let o=i==2?[0,t[n][0].length-1]:Nt(t[n]);e._paths=e.paths(r,n,o[0],o[1]),Dt!=a&&(d.globalAlpha=Dt=a)}}),v.forEach((e,t)=>{if(t>0&&e.show){let n=Dt;Dt!=e.alpha&&(d.globalAlpha=Dt=e.alpha),e._paths!=null&&It(t,!1);{let n=e._paths==null?null:e._paths.gaps,i=e.points.show(r,t,dt,ft,n),a=e.points.filter(r,t,i,n);(i||a)&&(e.points._paths=e.points.paths(r,t,dt,ft,a),It(t,!0))}Dt!=n&&(d.globalAlpha=Dt=n),pi(`drawSeries`,t)}}),e&&(d.globalAlpha=Dt=1)}}function Ft(e,t){let n=t?v[e].points:v[e];n._stroke=n.stroke(r,e),n._fill=n.fill(r,e)}function It(e,t){let n=t?v[e].points:v[e],{stroke:r,fill:i,clip:a,flags:o,_stroke:s=n._stroke,_fill:c=n._fill,_width:l=n.width}=n._paths;l=G(l*B,3);let u=null,f=l%2/2;t&&c==null&&(c=l>0?`#fff`:s);let p=n.pxAlign==1&&f>0;if(p&&d.translate(f,f),!t){let e=je-l/2,t=Me-l/2,n=Ne+l,r=Pe+l;u=new Path2D,u.rect(e,t,n,r)}t?Rt(s,l,n.dash,n.cap,c,r,i,o,a):Lt(e,s,l,n.dash,n.cap,c,r,i,o,u,a),p&&d.translate(-f,-f)}function Lt(e,n,i,a,o,s,c,l,u,d,f){let p=!1;u!=0&&x.forEach((m,h)=>{if(m.series[0]==e){let e=v[m.series[1]],g=t[m.series[1]],_=(e._paths||Jr).band;Zr(_)&&(_=m.dir==1?_[0]:_[1]);let y,b=null;e.show&&_&&pr(g,dt,ft)?(b=m.fill(r,h)||s,y=e._paths.clip):_=null,Rt(n,i,a,o,b,c,l,u,d,f,y,_),p=!0}}),p||Rt(n,i,a,o,s,c,l,u,d,f)}function Rt(e,t,n,r,i,a,o,s,c,l,u,f){Ot(e,t,n,r,i),(c||l||f)&&(d.save(),c&&d.clip(c),l&&d.clip(l)),f?(s&3)==3?(d.clip(f),u&&d.clip(u),Bt(i,o),zt(e,a,t)):s&2?(Bt(i,o),d.clip(f),zt(e,a,t)):s&1&&(d.save(),d.clip(f),u&&d.clip(u),Bt(i,o),d.restore(),zt(e,a,t)):(Bt(i,o),zt(e,a,t)),(c||l||f)&&d.restore()}function zt(e,t,n){n>0&&(t instanceof Map?t.forEach((e,t)=>{d.strokeStyle=vt=t,d.stroke(e)}):t!=null&&e&&d.stroke(t))}function Bt(e,t){t instanceof Map?t.forEach((e,t)=>{d.fillStyle=yt=t,d.fill(e)}):t!=null&&e&&d.fill(t)}function Vt(e,t,n,i){let a=y[e],o;if(i<=0)o=[0,0];else{let s=a._space=a.space(r,e,t,n,i);o=Po(t,n,a._incrs=a.incrs(r,e,t,n,i,s),i,s)}return a._found=o}function Ht(e,t,n,r,i,a,o,s,c,l){let u=o%2/2;h==1&&d.translate(u,u),Ot(s,o,c,l,s),d.beginPath();let f,p,m,g,_=i+(r==0||r==3?-a:a);n==0?(p=i,g=_):(f=i,m=_);for(let r=0;r<e.length;r++)t[r]!=null&&(n==0?f=m=e[r]:p=g=e[r],d.moveTo(f,p),d.lineTo(m,g));d.stroke(),h==1&&d.translate(-u,-u)}function Ut(e){let t=!0;return y.forEach((n,i)=>{if(!n.show)return;let a=b[n.scale];if(a.min==null){n._show&&(t=!1,n._show=!1,Kt(!1));return}else n._show||(t=!1,n._show=!0,Kt(!1));let o=n.side,s=o%2,{min:c,max:l}=a,[u,d]=Vt(i,c,l,s==0?F:I);if(d==0)return;let f=a.distr==2,p=n._splits=n.splits(r,i,c,l,u,d,f),m=a.distr==2?p.map(e=>mt[e]):p,h=a.distr==2?mt[p[1]]-mt[p[0]]:u,g=n._values=n.values(r,n.filter(r,m,i,d,h),i,d,h);n._rotate=o==2?n.rotate(r,g,i,d):0;let _=n._size;n._size=Sr(n.size(r,g,i,e)),_!=null&&n._size!=_&&(t=!1)}),t}function Wt(e){let t=!0;return ct.forEach((n,i)=>{let a=n(r,i,at,e);a!=lt[i]&&(t=!1),lt[i]=a}),t}function Gt(){for(let e=0;e<y.length;e++){let t=y[e];if(!t.show||!t._show)continue;let n=t.side,i=n%2,a,o,c=t.stroke(r,e),l=n==0||n==3?-1:1,[u,f]=t._found;if(t.label!=null){let s=t.labelGap*l,p=xr((t._lpos+s)*B);kt(t.labelFont[0],c,`center`,n==2?`top`:bn),d.save(),i==1?(a=o=0,d.translate(p,xr(Me+Pe/2)),d.rotate((n==3?-vr:vr)/2)):(a=xr(je+Ne/2),o=p);let m=Nr(t.label)?t.label(r,e,u,f):t.label;d.fillText(m,a,o),d.restore()}if(f==0)continue;let p=b[t.scale],m=i==0?Ne:Pe,h=i==0?je:Me,_=t._splits,v=p.distr==2?_.map(e=>mt[e]):_,x=p.distr==2?mt[_[1]]-mt[_[0]]:u,S=t.ticks,C=t.border,w=S.show?S.size:0,T=xr(w*B),E=xr((t.alignTo==2?t._size-w-t.gap:t.gap)*B),D=t._rotate*-vr/180,O=g(t._pos*B),ee=O+(T+E)*l;o=i==0?ee:0,a=i==1?ee:0;let te=t.font[0];kt(te,c,t.align==1?xn:t.align==2?Sn:D>0?xn:D<0?Sn:i==0?`center`:n==3?Sn:xn,D||i==1?`middle`:n==2?`top`:bn);let k=t.font[1]*t.lineGap,ne=_.map(e=>g(s(e,p,m,h))),re=t._values;for(let e=0;e<re.length;e++){let t=re[e];if(t!=null){i==0?a=ne[e]:o=ne[e],t=``+t;let n=t.indexOf(`
`)==-1?[t]:t.split(/\n/gm);for(let e=0;e<n.length;e++){let t=n[e];D?(d.save(),d.translate(a,o+e*k),d.rotate(D),d.fillText(t,0,0),d.restore()):d.fillText(t,a,o+e*k)}}}S.show&&Ht(ne,S.filter(r,v,e,f,x),i,n,O,T,G(S.width*B,3),S.stroke(r,e),S.dash,S.cap);let ie=t.grid;ie.show&&Ht(ne,ie.filter(r,v,e,f,x),i,i==0?2:1,i==0?Me:je,i==0?Pe:Ne,G(ie.width*B,3),ie.stroke(r,e),ie.dash,ie.cap),C.show&&Ht([O],[1],i==0?1:0,i==0?1:2,i==1?Me:je,i==1?Pe:Ne,G(C.width*B,3),C.stroke(r,e),C.dash,C.cap)}pi(`drawAxes`)}function Kt(e){v.forEach((t,n)=>{n>0&&(t._paths=null,e&&(i==1?(t.min=null,t.max=null):t.facets.forEach(e=>{e.min=null,e.max=null})))})}let qt=!1,Jt=!1,Yt=[];function Xt(){Jt=!1;for(let e=0;e<Yt.length;e++)pi(...Yt[e]);Yt.length=0}function Zt(){qt||=(li($t),!0)}function Qt(e,t=!1){qt=!0,Jt=t,e(r),$t(),t&&Yt.length>0&&queueMicrotask(Xt)}r.batch=Qt;function $t(){if(Fe&&=(Mt(),!1),Le&&=(Ue(),!1),Ie){if(V(p,xn,Te),V(p,`top`,Ee),V(p,vn,F),V(p,yn,I),V(m,xn,Te),V(m,`top`,Ee),V(m,vn,F),V(m,yn,I),V(f,vn,Ce),V(f,yn,we),u.width=xr(Ce*B),u.height=xr(we*B),y.forEach(({_el:e,_show:t,_size:n,_pos:r,side:i})=>{if(e!=null)if(t){let t=i===3||i===0?n:0,a=i%2==1;V(e,a?`left`:`top`,r-t),V(e,a?`width`:`height`,n),V(e,a?`top`:`left`,a?Ee:Te),V(e,a?`height`:`width`,a?I:F),Bn(e,gn)}else zn(e,gn)}),vt=yt=bt=St=Ct=wt=Tt=Et=xt=null,Dt=1,jr(!0),Te!=De||Ee!=Oe||F!=ke||I!=Ae){Kt(!1);let e=F/ke,t=I/Ae;if(ce&&!Re&&j.left>=0){j.left*=e,j.top*=t,rn&&Wn(rn,xr(j.left),0,F,I),an&&Wn(an,0,xr(j.top),F,I);for(let n=0;n<Qe.length;n++){let r=Qe[n];r!=null&&($e[n]*=e,et[n]*=t,Wn(r,Sr($e[n]),Sr(et[n]),F,I))}}if(z.show&&!ze&&z.left>=0&&z.width>0)for(let n in z.left*=e,z.width*=e,z.top*=t,z.height*=t,Br)V(Cn,n,z[n]);De=Te,Oe=Ee,ke=F,Ae=I}pi(`setSize`),Ie=!1}Ce>0&&we>0&&(d.clearRect(0,0,u.width,u.height),pi(`drawClear`),w.forEach(e=>e()),pi(`draw`)),z.show&&ze&&(jn(z),ze=!1),ce&&Re&&(Er(null,!0,!1),Re=!1),A.show&&A.live&&Be&&(_r(),Be=!1),c||(c=!0,r.status=1,pi(`ready`)),ht=!1,qt=!1}r.redraw=(e,t)=>{Le=t||!1,e===!1?Zt():In(S,D.min,D.max)};function en(e,n){let i=b[e];if(i.from==null){if(ut==0){let t=i.range(r,n.min,n.max,e);n.min=t[0],n.max=t[1]}if(n.min>n.max){let e=n.min;n.min=n.max,n.max=e}if(ut>1&&n.min!=null&&n.max!=null&&n.max-n.min<1e-16)return;e==S&&i.distr==2&&ut>0&&(n.min=$n(n.min,t[0]),n.max=$n(n.max,t[0]),n.min==n.max&&n.max++),k[e]=n,Fe=!0,Zt()}}r.setScale=en;let tn,nn,rn,an,on,sn,cn,ln,un,dn,L,R,fn=!1,pn=j.drag,mn=pn.x,hn=pn.y;ce&&(j.x&&(tn=Hn(`u-cursor-x`,m)),j.y&&(nn=Hn(`u-cursor-y`,m)),D.ori==0?(rn=tn,an=nn):(rn=nn,an=tn),L=j.left,R=j.top);let z=r.select=oi({show:!0,over:!0,left:0,width:0,top:0,height:0},e.select),Cn=z.show?Hn(`u-select`,z.over?m:p):null;function jn(e,t){if(z.show){for(let t in e)z[t]=e[t],t in Br&&V(Cn,t,e[t]);t!==!1&&pi(`setSelect`)}}r.setSelect=jn;function Nn(e){if(v[e].show)M&&Bn(de[e],gn);else if(M&&zn(de[e],gn),ce){let t=Ze?Qe[0]:Qe[e];t!=null&&Wn(t,-10,-10,F,I)}}function In(e,t,n){en(e,{min:t,max:n})}function Ln(e,t,n,a){t.focus!=null&&nr(e),t.show!=null&&v.forEach((n,r)=>{r>0&&(e==r||e==null)&&(n.show=t.show,Nn(r),i==2?(In(n.facets[0].scale,null,null),In(n.facets[1].scale,null,null)):In(n.scale,null,null),Zt())}),n!==!1&&pi(`setSeries`,e,t),a&&vi(`setSeries`,r,e,t)}r.setSeries=Ln;function Rn(e,t){oi(x[e],t)}function Un(e,t){e.fill=W(e.fill||null),e.dir=H(e.dir,-1),t??=x.length,x.splice(t,0,e)}function Gn(e){e==null?x.length=0:x.splice(e,1)}r.addBand=Un,r.setBand=Rn,r.delBand=Gn;function qn(e,t){v[e].alpha=t,ce&&Qe[e]!=null&&(Qe[e].style.opacity=t),M&&de[e]&&(de[e].style.opacity=t)}let Yn,Xn,er,tr={focus:!0};function nr(e){if(e!=er){let t=e==null,n=Ye.alpha!=1;v.forEach((r,a)=>{if(i==1||a>0){let i=t||a==0||a==e;r._focus=t?null:i,n&&qn(a,i?1:Ye.alpha)}}),er=e,n&&Zt()}}M&&Xe&&xe(kn,P,e=>{j._lock||(qe(e),er!=null&&Ln(null,tr,!0,hi.setSeries))});function rr(e,t,n){let r=b[t];n&&(e=e/B-(r.ori==1?Ee:Te));let i=F;r.ori==1&&(i=I,e=i-e),r.dir==-1&&(e=i-e);let a=r._min,o=r._max,s=e/i,c=a+(o-a)*s,l=r.distr;return l==3?Tr(10,c):l==4?kr(c,r.asinh):l==100?r.bwd(c):c}function ir(e,n){return $n(rr(e,S,n),t[0],dt,ft)}r.valToIdx=e=>$n(e,t[0]),r.posToIdx=ir,r.posToVal=rr,r.valToPos=(e,t,n)=>b[t].ori==0?a(e,b[t],n?Ne:F,n?je:0):o(e,b[t],n?Pe:I,n?Me:0),r.setCursor=(e,t,n)=>{L=e.left,R=e.top,Er(null,t,n)};function ur(e,t){V(Cn,xn,z.left=e),V(Cn,vn,z.width=t)}function dr(e,t){V(Cn,`top`,z.top=e),V(Cn,yn,z.height=t)}let mr=D.ori==0?ur:dr,hr=D.ori==1?ur:dr;function gr(){if(M&&A.live)for(let e=i==2?1:0;e<v.length;e++){if(e==0&&me)continue;let t=A.values[e],n=0;for(let r in t)fe[e][n++].firstChild.nodeValue=t[r]}}function _r(e,t){if(e!=null&&(e.idxs?e.idxs.forEach((e,t)=>{se[t]=e}):$r(e.idx)||se.fill(e.idx),A.idx=se[0]),M&&A.live){for(let e=0;e<v.length;e++)(e>0||i==1&&!me)&&br(e,se[e]);gr()}Be=!1,t!==!1&&pi(`setLegend`)}r.setLegend=_r;function br(e,n){let i=v[e],a=e==0&&O==2?mt:t[e],o;me?o=i.values(r,e,n)??he:(o=i.value(r,n==null?null:a[n],e,n),o=o==null?he:{_:o}),A.values[e]=o}function Er(e,n,a){un=L,dn=R,[L,R]=j.move(r,L,R),j.left=L,j.top=R,ce&&(rn&&Wn(rn,xr(L),0,F,I),an&&Wn(an,0,xr(R),F,I));let o,s=dt>ft;Yn=U,Xn=null;let c=D.ori==0?F:I,l=D.ori==1?F:I;if(L<0||ut==0||s){o=j.idx=null;for(let e=0;e<v.length;e++){let t=Qe[e];t!=null&&Wn(t,-10,-10,F,I)}Xe&&Ln(null,tr,!0,e==null&&hi.setSeries),A.live&&(se.fill(o),Be=!0)}else{let e,n,a;i==1&&(e=D.ori==0?L:R,n=rr(e,S),o=j.idx=$n(n,t[0],dt,ft),a=ee(t[0][o],D,c,0));let s=-10,u=-10,d=0,f=0,p=!0,m=``,h=``;for(let e=i==2?1:0;e<v.length;e++){let g=v[e],_=se[e],y=_==null?null:i==1?t[e][_]:t[e][1][_],x=j.dataIdx(r,e,o,n),S=x==null?null:i==1?t[e][x]:t[e][1][x];if(Be=Be||S!=y||x!=_,se[e]=x,e>0&&g.show){let n=x==null?-10:x==o?a:ee(i==1?t[0][x]:t[e][0][x],D,c,0),_=S==null?-10:te(S,i==1?b[g.scale]:b[g.facets[1].scale],l,0);if(Xe&&S!=null){let t=D.ori==1?L:R,n=yr(Ye.dist(r,e,x,_,t));if(n<Yn){let r=Ye.bias;if(r!=0){let i=rr(t,g.scale),a=S>=0?1:-1,o=i>=0?1:-1;o==a&&(o==1?r==1?S>=i:S<=i:r==1?S<=i:S>=i)&&(Yn=n,Xn=e)}else Yn=n,Xn=e}}if(Be||Ze){let t,i;D.ori==0?(t=n,i=_):(t=_,i=n);let a,o,c,l,g,v,y=!0,b=Je.bbox;if(b!=null){y=!1;let t=b(r,e);c=t.left,l=t.top,a=t.width,o=t.height}else c=t,l=i,a=o=Je.size(r,e);if(v=Je.fill(r,e),g=Je.stroke(r,e),Ze)e==Xn&&Yn<=Ye.prox&&(s=c,u=l,d=a,f=o,p=y,m=v,h=g);else{let t=Qe[e];t!=null&&($e[e]=c,et[e]=l,Jn(t,a,o,y),Kn(t,v,g),Wn(t,Sr(c),Sr(l),F,I))}}}}if(Ze){let e=Ye.prox;if(Be||(er==null?Yn<=e:Yn>e||Xn!=er)){let e=Qe[0];e!=null&&($e[0]=s,et[0]=u,Jn(e,d,f,p),Kn(e,m,h),Wn(e,Sr(s),Sr(u),F,I))}}}if(z.show&&fn)if(e!=null){let[t,n]=hi.scales,[r,i]=hi.match,[a,o]=e.cursor.sync.scales,s=e.cursor.drag;if(mn=s._x,hn=s._y,mn||hn){let{left:s,top:u,width:d,height:f}=e.select,p=e.scales[a].ori,m=e.posToVal,h,g,_,v,y,x=t!=null&&r(t,a),S=n!=null&&i(n,o);x&&mn?(p==0?(h=s,g=d):(h=u,g=f),_=b[t],v=ee(m(h,a),_,c,0),y=ee(m(h+g,a),_,c,0),mr(Cr(v,y),yr(y-v))):mr(0,c),S&&hn?(p==1?(h=s,g=d):(h=u,g=f),_=b[n],v=te(m(h,o),_,l,0),y=te(m(h+g,o),_,l,0),hr(Cr(v,y),yr(y-v))):hr(0,l)}else Vr()}else{let e=yr(un-on),t=yr(dn-sn);if(D.ori==1){let n=e;e=t,t=n}mn=pn.x&&e>=pn.dist,hn=pn.y&&t>=pn.dist;let n=pn.uni;n==null?pn.x&&pn.y&&(mn||hn)&&(mn=hn=!0):mn&&hn&&(mn=e>=n,hn=t>=n,!mn&&!hn&&(t>e?hn=!0:mn=!0));let r,i;mn&&(D.ori==0?(r=cn,i=L):(r=ln,i=R),mr(Cr(r,i),yr(i-r)),hn||hr(0,l)),hn&&(D.ori==1?(r=cn,i=L):(r=ln,i=R),hr(Cr(r,i),yr(i-r)),mn||mr(0,c)),!mn&&!hn&&(mr(0,0),hr(0,0))}if(pn._x=mn,pn._y=hn,e==null){if(a){if(gi!=null){let[e,t]=hi.scales;hi.values[0]=e==null?null:rr(D.ori==0?L:R,e),hi.values[1]=t==null?null:rr(D.ori==1?L:R,t)}vi(Tn,r,L,R,F,I,o)}if(Xe){let e=a&&hi.setSeries,t=Ye.prox;er==null?Yn<=t&&Ln(Xn,tr,!0,e):Yn>t?Ln(null,tr,!0,e):Xn!=er&&Ln(Xn,tr,!0,e)}}Be&&(A.idx=o,_r()),n!==!1&&pi(`setCursor`)}let Or=null;Object.defineProperty(r,`rect`,{get(){return Or??jr(!1),Or}});function jr(e=!1){e?Or=null:(Or=m.getBoundingClientRect(),pi(`syncRect`,Or))}function Pr(e,t,n,r,i,a,o){j._lock||fn&&e!=null&&e.movementX==0&&e.movementY==0||(Fr(e,t,n,r,i,a,o,!1,e!=null),e==null?Er(t,!0,!1):Er(null,!0,!0))}function Fr(e,t,n,i,a,o,c,l,u){if(Or??jr(!1),qe(e),e!=null)n=e.clientX-Or.left,i=e.clientY-Or.top;else{if(n<0||i<0){L=-10,R=-10;return}let[e,r]=hi.scales,c=t.cursor.sync,[l,u]=c.values,[d,f]=c.scales,[p,m]=hi.match,h=t.axes[0].side%2==1,g=D.ori==0?F:I,_=D.ori==1?F:I,v=h?o:a,y=h?a:o,x=h?i:n,S=h?n:i;if(n=d==null?x/v*g:p(e,d)?s(l,b[e],g,0):-10,i=f==null?S/y*_:m(r,f)?s(u,b[r],_,0):-10,D.ori==1){let e=n;n=i,i=e}}u&&(t==null||t.cursor.event.type==Tn)&&((n<=1||n>=F-1)&&(n=Hr(n,F)),(i<=1||i>=I-1)&&(i=Hr(i,I))),l?(on=n,sn=i,[cn,ln]=j.move(r,n,i)):(L=n,R=i)}let Br={width:0,height:0,left:0,top:0};function Vr(){jn(Br,!1)}let Ur,Wr,qr,Qr;function ri(e,t,n,i,a,o,s){fn=!0,mn=hn=pn._x=pn._y=!1,Fr(e,t,n,i,a,o,s,!0,!1),e!=null&&(xe(Dn,Pn,ii,!1),vi(En,r,cn,ln,F,I,null));let{left:c,top:l,width:u,height:d}=z;Ur=c,Wr=l,qr=u,Qr=d}function ii(e,t,n,i,a,o,s){fn=pn._x=pn._y=!1,Fr(e,t,n,i,a,o,s,!1,!0);let{left:c,top:l,width:u,height:d}=z,f=u>0||d>0,p=Ur!=c||Wr!=l||qr!=u||Qr!=d;if(f&&p&&jn(z),pn.setScale&&f&&p){let e=c,t=u,n=l,r=d;if(D.ori==1&&(e=l,t=d,n=c,r=u),mn&&In(S,rr(e,S),rr(e+t,S)),hn)for(let e in b){let t=b[e];e!=S&&t.from==null&&t.min!=U&&In(e,rr(n+r,e),rr(n,e))}Vr()}else j.lock&&(j._lock=!j._lock,Er(t,!0,e!=null));e!=null&&(Se(Dn,Pn),vi(Dn,r,L,R,F,I,null))}function si(e,t,n,r,i,a,o){if(j._lock)return;qe(e);let s=fn;if(fn){let e=!0,t=!0,n,r;D.ori==0?(n=mn,r=hn):(n=hn,r=mn),n&&r&&(e=L<=10||L>=F-10,t=R<=10||R>=I-10),n&&e&&(L=L<cn?0:F),r&&t&&(R=R<ln?0:I),Er(null,!0,!0),fn=!1}L=-10,R=-10,se.fill(null),Er(null,!0,!0),s&&(fn=s)}function ci(e,t,n,i,a,o,s){j._lock||(qe(e),_t(),Vr(),e!=null&&vi(An,r,L,R,F,I,null))}function ui(){y.forEach(Io),Ve(r.width,r.height,!0)}Zn(Mn,Fn,ui);let di={};di.mousedown=ri,di.mousemove=Pr,di.mouseup=ii,di.dblclick=ci,di.setSeries=(e,t,n,i)=>{let a=hi.match[2];n=a(r,t,n),n!=-1&&Ln(n,i,!0,!1)},ce&&(xe(En,m,ri),xe(Tn,m,Pr),xe(On,m,e=>{qe(e),jr(!1)}),xe(kn,m,si),xe(An,m,ci),bo.add(r),r.syncRect=jr);let fi=r.hooks=e.hooks||{};function pi(e,t,n){Jt?Yt.push([e,t,n]):e in fi&&fi[e].forEach(e=>{e.call(null,r,t,n)})}(e.plugins||[]).forEach(e=>{for(let t in e.hooks)fi[t]=(fi[t]||[]).concat(e.hooks[t])});let mi=(e,t,n)=>n,hi=oi({key:null,setSeries:!1,filters:{pub:Rr,sub:Rr},scales:[S,v[1]?v[1].scale:null],match:[zr,zr,mi],values:[null,null]},j.sync);hi.match.length==2&&hi.match.push(mi),j.sync=hi;let gi=hi.key,_i=Ha(gi);function vi(e,t,n,r,i,a,o){hi.filters.pub(e,t,n,r,i,a,o)&&_i.pub(e,t,n,r,i,a,o)}_i.sub(r);function yi(e,t,n,r,i,a,o){hi.filters.sub(e,t,n,r,i,a,o)&&di[e](null,t,n,r,i,a,o)}r.pub=yi;function bi(){_i.unsub(r),bo.delete(r),be.clear(),Qn(Mn,Fn,ui),l.remove(),P?.remove(),pi(`destroy`)}r.destroy=bi;function Si(){pi(`init`,e,t),gt(t||e.data,!1),k[S]?en(S,k[S]):_t(),ze=z.show&&(z.width>0||z.height>0),Re=Be=!0,Ve(e.width,e.height)}return v.forEach(nt),y.forEach(ot),n?n instanceof HTMLElement?(n.appendChild(l),Si()):n(r,Si):Si(),r}Lo.assign=oi,Lo.fmtNum=gr,Lo.rangeNum=fr,Lo.rangeLog=or,Lo.rangeAsinh=sr,Lo.orient=Ua,Lo.pxRatio=B,Lo.join=ci,Lo.fmtDate=xi,Lo.tzDate=Ci,Lo.sync=Ha;{Lo.addGap=Ja,Lo.clipGaps=qa;let e=Lo.paths={points:co};e.linear=po,e.stepped=mo,e.bars=go,e.spline=vo}var Ro=t({default:()=>zo}),zo=class extends nt{static{this.targets=[`table`,`chart`,`summary`,`legend`,`legendAmount`,`legendPeriod`,`axis`]}getSize(){return{width:this.chartTarget.offsetWidth,height:this.chartTarget.offsetHeight}}connect(){this.tableTarget.hidden=!0,this.chartTarget.hidden=!1,this.axisTarget.hidden=!1,this.observer=new ResizeObserver(()=>{this.uplot?.setSize(this.getSize())}),this.observer.observe(this.chartTarget);let e=getComputedStyle(document.documentElement),t={...this.getSize(),padding:[1,1,1,1],series:[{},{stroke:e.getPropertyValue(`--color-stroke`),width:2,points:{show:!1}},{stroke:e.getPropertyValue(`--color-accent`),width:2,points:{show:!1}}],cursor:{y:!1},axes:[{show:!1},{show:!1}],scales:{y:{range:(e,t,n)=>[t,n]}},select:{show:!1},legend:{show:!1},hooks:{init:[e=>{e.over.addEventListener(`mouseenter`,()=>{this.summaryTarget.hidden=!0,this.legendTarget.hidden=!1}),e.over.addEventListener(`mouseleave`,()=>{this.summaryTarget.hidden=!1,this.legendTarget.hidden=!0})}],setCursor:[e=>{let{idx:t}=e.cursor;this.legendAmountTarget.textContent=typeof t==`number`?Lo.fmtNum(e.data[2][t]||0):``,this.legendPeriodTarget.textContent=typeof t==`number`?n[t].textContent:``}]}},n=Array.from(this.tableTarget.querySelectorAll(`thead th`)).slice(1);this.uplot=new Lo(t,[n.map(e=>Number(e.dataset.timestamp)),...Array.from(this.tableTarget.querySelectorAll(`tbody tr`)).reverse().map(e=>Array.from(e.querySelectorAll(`td`)).map(e=>Number(e.textContent)))],this.chartTarget)}disconnect(){this.observer?.disconnect(),this.uplot?.destroy()}},Bo=t({default:()=>Vo}),Vo=class extends nt{constructor(...e){super(...e),this.mouseover=e=>{let t=e.target;if(t.closest(`thead th`)){let e=Array.from(t.parentElement.children).indexOf(t);this.element.querySelector(`colgroup`).children[e].classList.add(`is-highlighted`),this.element.style.cursor=`pointer`}t.closest(`tbody th`)&&(t.closest(`tr`).classList.add(`is-highlighted`),this.element.style.cursor=`pointer`)},this.reset=()=>{this.element.querySelectorAll(`col, tr`).forEach(e=>e.classList.remove(`is-highlighted`)),this.element.style.cursor=``},this.click=e=>{let t=e.target;if(t.closest(`thead th`)){let e=Array.from(t.parentElement.children).indexOf(t),n=Array.from(this.element.querySelectorAll(`tbody tr td:nth-child(${e+1}) input[type="checkbox"]`)).filter(e=>!this.disabled?.includes(e)),r=!n.find(e=>!e.disabled&&e.getAttribute(`aria-disabled`)!==`true`)?.checked;n.forEach(e=>e.checked=r)}if(t.closest(`tbody th`)){let e=Array.from(t.closest(`tr`).querySelectorAll(`td input[type="checkbox"]`)).filter(e=>!this.disabled?.includes(e)),n=!e.find(e=>!e.disabled&&e.getAttribute(`aria-disabled`)!==`true`)?.checked;e.forEach(e=>e.checked=n)}this.update()}}connect(){this.disabled=Array.from(this.element.querySelectorAll(`input:disabled`)),this.update(),this.element.addEventListener(`click`,this.click),this.element.addEventListener(`mouseover`,this.mouseover),this.element.addEventListener(`mouseout`,this.reset)}disconnect(){this.element.removeEventListener(`click`,this.click),this.element.removeEventListener(`mouseover`,this.mouseover),this.element.removeEventListener(`mouseout`,this.reset)}update(){this.element.querySelectorAll(`tbody td input[type="checkbox"]`).forEach(e=>{this.disabled?.includes(e)||(e.disabled=!1)}),this.element.querySelectorAll(`[data-implied-by], [data-depends-on]`).forEach(e=>{e.dataset.impliedBy?.trim().split(/\s+/).filter(Boolean).forEach(t=>{let n=document.querySelector(`[name="${t}"]:last-of-type`);n&&n.checked&&(e.checked=!0,e.disabled=!0)}),e.dataset.dependsOn?.trim().split(/\s+/).filter(Boolean).forEach(t=>{let n=document.querySelector(`[name="${t}"]:last-of-type`);n&&!n.checked&&(e.checked=!1,e.disabled=!0)})})}},Ho=t({default:()=>Uo}),Uo=class extends nt{constructor(...e){super(...e),this.locked=!1}static{this.targets=[`slug`,`mirror`]}updateName(e){let t=e.target;this.locked||(this.slugTarget.value=Se(t.value),this.mirror())}updateSlug(e){let t=e.target;this.mirror(),this.locked=!!t.value}mirror(){this.mirrorTargets.forEach(e=>{e.textContent=this.slugTarget.value})}},Wo=Symbol.for(`preact-signals`);function Go(){if(Jo>1)Jo--;else{for(var e,t=!1;qo!==void 0;){var n=qo;for(qo=void 0,Yo++;n!==void 0;){var r=n.o;if(n.o=void 0,n.f&=-3,!(8&n.f)&&es(n))try{n.c()}catch(n){t||=(e=n,!0)}n=r}}if(Yo=0,Jo--,t)throw e}}function Ko(e){if(Jo>0)return e();Jo++;try{return e()}finally{Go()}}var K=void 0;function q(e){var t=K;K=void 0;try{return e()}finally{K=t}}var qo=void 0,Jo=0,Yo=0,Xo=0;function Zo(e){if(K!==void 0){var t=e.n;if(t===void 0||t.t!==K)return t={i:0,S:e,p:K.s,n:void 0,t:K,e:void 0,x:void 0,r:t},K.s!==void 0&&(K.s.n=t),K.s=t,e.n=t,32&K.f&&e.S(t),t;if(t.i===-1)return t.i=0,t.n!==void 0&&(t.n.p=t.p,t.p!==void 0&&(t.p.n=t.n),t.p=K.s,t.n=void 0,K.s.n=t,K.s=t),t}}function Qo(e,t){this.v=e,this.i=0,this.n=void 0,this.t=void 0,this.W=t?.watched,this.Z=t?.unwatched,this.name=t?.name}Qo.prototype.brand=Wo,Qo.prototype.h=function(){return!0},Qo.prototype.S=function(e){var t=this,n=this.t;n!==e&&e.e===void 0&&(e.x=n,this.t=e,n===void 0?q(function(){var e;(e=t.W)==null||e.call(t)}):n.e=e)},Qo.prototype.U=function(e){var t=this;if(this.t!==void 0){var n=e.e,r=e.x;n!==void 0&&(n.x=r,e.e=void 0),r!==void 0&&(r.e=n,e.x=void 0),e===this.t&&(this.t=r,r===void 0&&q(function(){var e;(e=t.Z)==null||e.call(t)}))}},Qo.prototype.subscribe=function(e){var t=this;return ls(function(){var n=t.value,r=K;K=void 0;try{e(n)}finally{K=r}},{name:`sub`})},Qo.prototype.valueOf=function(){return this.value},Qo.prototype.toString=function(){return this.value+``},Qo.prototype.toJSON=function(){return this.value},Qo.prototype.peek=function(){var e=K;K=void 0;try{return this.value}finally{K=e}},Object.defineProperty(Qo.prototype,`value`,{get:function(){var e=Zo(this);return e!==void 0&&(e.i=this.i),this.v},set:function(e){if(e!==this.v){if(Yo>100)throw Error(`Cycle detected`);this.v=e,this.i++,Xo++,Jo++;try{for(var t=this.t;t!==void 0;t=t.x)t.t.N()}finally{Go()}}}});function $o(e,t){return new Qo(e,t)}function es(e){for(var t=e.s;t!==void 0;t=t.n)if(t.S.i!==t.i||!t.S.h()||t.S.i!==t.i)return!0;return!1}function ts(e){for(var t=e.s;t!==void 0;t=t.n){var n=t.S.n;if(n!==void 0&&(t.r=n),t.S.n=t,t.i=-1,t.n===void 0){e.s=t;break}}}function ns(e){for(var t=e.s,n=void 0;t!==void 0;){var r=t.p;t.i===-1?(t.S.U(t),r!==void 0&&(r.n=t.n),t.n!==void 0&&(t.n.p=r)):n=t,t.S.n=t.r,t.r!==void 0&&(t.r=void 0),t=r}e.s=n}function rs(e,t){Qo.call(this,void 0),this.x=e,this.s=void 0,this.g=Xo-1,this.f=4,this.W=t?.watched,this.Z=t?.unwatched,this.name=t?.name}rs.prototype=new Qo,rs.prototype.h=function(){if(this.f&=-3,1&this.f)return!1;if((36&this.f)==32||(this.f&=-5,this.g===Xo))return!0;if(this.g=Xo,this.f|=1,this.i>0&&!es(this))return this.f&=-2,!0;var e=K;try{ts(this),K=this;var t=this.x();(16&this.f||this.v!==t||this.i===0)&&(this.v=t,this.f&=-17,this.i++)}catch(e){this.v=e,this.f|=16,this.i++}return K=e,ns(this),this.f&=-2,!0},rs.prototype.S=function(e){if(this.t===void 0){this.f|=36;for(var t=this.s;t!==void 0;t=t.n)t.S.S(t)}Qo.prototype.S.call(this,e)},rs.prototype.U=function(e){if(this.t!==void 0&&(Qo.prototype.U.call(this,e),this.t===void 0)){this.f&=-33;for(var t=this.s;t!==void 0;t=t.n)t.S.U(t)}},rs.prototype.N=function(){if(!(2&this.f)){this.f|=6;for(var e=this.t;e!==void 0;e=e.x)e.t.N()}},Object.defineProperty(rs.prototype,`value`,{get:function(){if(1&this.f)throw Error(`Cycle detected`);var e=Zo(this);if(this.h(),e!==void 0&&(e.i=this.i),16&this.f)throw this.v;return this.v}});function is(e,t){return new rs(e,t)}function as(e){var t=e.u;if(e.u=void 0,typeof t==`function`){Jo++;var n=K;K=void 0;try{t()}catch(t){throw e.f&=-2,e.f|=8,os(e),t}finally{K=n,Go()}}}function os(e){for(var t=e.s;t!==void 0;t=t.n)t.S.U(t);e.x=void 0,e.s=void 0,as(e)}function ss(e){if(K!==this)throw Error(`Out-of-order effect`);ns(this),K=e,this.f&=-2,8&this.f&&os(this),Go()}function cs(e,t){this.x=e,this.u=void 0,this.s=void 0,this.o=void 0,this.f=32,this.name=t?.name}cs.prototype.c=function(){var e=this.S();try{if(8&this.f||this.x===void 0)return;var t=this.x();typeof t==`function`&&(this.u=t)}finally{e()}},cs.prototype.S=function(){if(1&this.f)throw Error(`Cycle detected`);this.f|=1,this.f&=-9,as(this),ts(this),Jo++;var e=K;return K=this,ss.bind(this,e)},cs.prototype.N=function(){2&this.f||(this.f|=2,this.o=qo,qo=this)},cs.prototype.d=function(){this.f|=8,1&this.f||os(this)},cs.prototype.dispose=function(){this.d()};function ls(e,t){var n=new cs(e,t);try{n.c()}catch(e){throw n.d(),e}var r=n.d.bind(n);return r[Symbol.dispose]=r,r}var us=Object.create,ds=Object.defineProperty,fs=Object.defineProperties,ps=Object.getOwnPropertyDescriptor,ms=Object.getOwnPropertyDescriptors,hs=Object.getOwnPropertySymbols,gs=Object.prototype.hasOwnProperty,_s=Object.prototype.propertyIsEnumerable,vs=(e,t)=>(t=Symbol[e])?t:Symbol.for(`Symbol.`+e),ys=e=>{throw TypeError(e)},bs=(e,t,n)=>t in e?ds(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,xs=(e,t)=>{for(var n in t||={})gs.call(t,n)&&bs(e,n,t[n]);if(hs)for(var n of hs(t))_s.call(t,n)&&bs(e,n,t[n]);return e},Ss=(e,t)=>fs(e,ms(t)),Cs=(e,t)=>ds(e,`name`,{value:t,configurable:!0}),ws=e=>[,,,us(e?.[vs(`metadata`)]??null)],Ts=[`class`,`method`,`getter`,`setter`,`accessor`,`field`,`value`,`get`,`set`],Es=e=>e!==void 0&&typeof e!=`function`?ys(`Function expected`):e,Ds=(e,t,n,r,i)=>({kind:Ts[e],name:t,metadata:r,addInitializer:e=>n._?ys(`Already initialized`):i.push(Es(e||null))}),Os=(e,t)=>bs(t,vs(`metadata`),e[3]),ks=(e,t,n,r)=>{for(var i=0,a=e[t>>1],o=a&&a.length;i<o;i++)t&1?a[i].call(n):r=a[i].call(n,r);return r},As=(e,t,n,r,i,a)=>{var o,s,c,l,u,d=t&7,f=!!(t&8),p=!!(t&16),m=d>3?e.length+1:d?f?1:2:0,h=Ts[d+5],g=d>3&&(e[m-1]=[]),_=e[m]||(e[m]=[]),v=d&&(!p&&!f&&(i=i.prototype),d<5&&(d>3||!p)&&ps(d<4?i:{get[n](){return Ns(this,a)},set[n](e){return Fs(this,a,e)}},n));d?p&&d<4&&Cs(a,(d>2?`set `:d>1?`get `:``)+n):Cs(i,n);for(var y=r.length-1;y>=0;y--)l=Ds(d,n,c={},e[3],_),d&&(l.static=f,l.private=p,u=l.access={has:p?e=>Ms(i,e):e=>n in e},d^3&&(u.get=p?e=>(d^1?Ns:Is)(e,i,d^4?a:v.get):e=>e[n]),d>2&&(u.set=p?(e,t)=>Fs(e,i,t,d^4?a:v.set):(e,t)=>e[n]=t)),s=(0,r[y])(d?d<4?p?a:v[h]:d>4?void 0:{get:v.get,set:v.set}:i,l),c._=1,d^4||s===void 0?Es(s)&&(d>4?g.unshift(s):d?p?a=s:v[h]=s:i=s):typeof s!=`object`||!s?ys(`Object expected`):(Es(o=s.get)&&(v.get=o),Es(o=s.set)&&(v.set=o),Es(o=s.init)&&g.unshift(o));return d||Os(e,i),v&&ds(i,n,v),p?d^4?a:v:i},js=(e,t,n)=>t.has(e)||ys(`Cannot `+n),Ms=(e,t)=>Object(t)===t?e.has(t):ys(`Cannot use the "in" operator on this value`),Ns=(e,t,n)=>(js(e,t,`read from private field`),n?n.call(e):t.get(e)),Ps=(e,t,n)=>t.has(e)?ys(`Cannot add the same private member more than once`):t instanceof WeakSet?t.add(e):t.set(e,n),Fs=(e,t,n,r)=>(js(e,t,`write to private field`),r?r.call(e,n):t.set(e,n),n),Is=(e,t,n)=>(js(e,t,`access private method`),n);function Ls(e,t){if(t){let n;return is(()=>{let r=e();return r&&n&&t(n,r)?n:(n=r,r)})}return is(e)}function Rs(e,t){if(Object.is(e,t))return!0;if(e===null||t===null)return!1;if(typeof e==`function`&&typeof t==`function`)return e===t;if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(let n of e)if(!t.has(n))return!1;return!0}if(Array.isArray(e))return!Array.isArray(t)||e.length!==t.length?!1:!e.some((e,n)=>!Rs(e,t[n]));if(typeof e==`object`&&typeof t==`object`){let n=Object.keys(e),r=Object.keys(t);return n.length===r.length?!n.some(n=>!Rs(e[n],t[n])):!1}return!1}function J({get:e},t){return{init(e){return $o(e)},get(){return e.call(this).value},set(t){let n=e.call(this);n.peek()!==t&&(n.value=t)}}}function zs(e,t){let n=new WeakMap;return function(){let t=n.get(this);return t||(t=Ls(e.bind(this)),n.set(this,t)),t.value}}function Bs(e=!0){return function(t,n){n.addInitializer(function(){let t=n.kind===`field`||n.static?this:Object.getPrototypeOf(this),r=Object.getOwnPropertyDescriptor(t,n.name);r&&Object.defineProperty(t,n.name,Ss(xs({},r),{enumerable:e}))})}}function Vs(...e){let t=e.map(e=>ls(e));return()=>t.forEach(e=>e())}var Hs,Us,Ws,Gs,Ks,qs=[J],Js,Ys,Xs,Zs,Qs,$s,ec,tc,nc,rc,ic,ac,oc,sc;Ks=[J],Gs=[J],Ws=[Bs()],Us=[Bs()],Hs=[Bs()];var cc=class{constructor(e,t=Object.is){this.defaultValue=e,this.equals=t,ks(Js,5,this),Ps(this,$s),Ps(this,Ys,ks(Js,8,this)),ks(Js,11,this),Ps(this,ec,ks(Js,12,this)),ks(Js,15,this),Ps(this,ic,ks(Js,16,this)),ks(Js,19,this),this.reset=this.reset.bind(this),this.reset()}get current(){return Ns(this,$s,oc)}get initial(){return Ns(this,$s,Zs)}get previous(){return Ns(this,$s,nc)}set current(e){let t=q(()=>Ns(this,$s,oc));e&&t&&this.equals(t,e)||Ko(()=>{Ns(this,$s,Zs)||Fs(this,$s,e,Qs),Fs(this,$s,t,rc),Fs(this,$s,e,sc)})}reset(e=this.defaultValue){Ko(()=>{Fs(this,$s,void 0,rc),Fs(this,$s,e,Qs),Fs(this,$s,e,sc)})}};Js=ws(null),Ys=new WeakMap,$s=new WeakSet,ec=new WeakMap,ic=new WeakMap,Xs=As(Js,20,`#initial`,qs,$s,Ys),Zs=Xs.get,Qs=Xs.set,tc=As(Js,20,`#previous`,Ks,$s,ec),nc=tc.get,rc=tc.set,ac=As(Js,20,`#current`,Gs,$s,ic),oc=ac.get,sc=ac.set,As(Js,2,`current`,Ws,cc),As(Js,2,`initial`,Us,cc),As(Js,2,`previous`,Hs,cc),Os(Js,cc);function lc(e){return q(()=>{let t={};for(let n in e)t[n]=e[n];return t})}var uc,dc=class{constructor(){Ps(this,uc,new WeakMap)}get(e,t){return e?Ns(this,uc).get(e)?.get(t):void 0}set(e,t,n){if(e)return Ns(this,uc).has(e)||Ns(this,uc).set(e,new Map),Ns(this,uc).get(e)?.set(t,n)}clear(e){return e?Ns(this,uc).get(e)?.clear():void 0}};uc=new WeakMap;var fc=Object.create,pc=Object.defineProperty,mc=Object.getOwnPropertyDescriptor,hc=Object.getOwnPropertySymbols,gc=Object.prototype.hasOwnProperty,_c=Object.prototype.propertyIsEnumerable,vc=(e,t)=>(t=Symbol[e])?t:Symbol.for(`Symbol.`+e),yc=e=>{throw TypeError(e)},bc=Math.pow,xc=(e,t,n)=>t in e?pc(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Sc=(e,t)=>{for(var n in t||={})gc.call(t,n)&&xc(e,n,t[n]);if(hc)for(var n of hc(t))_c.call(t,n)&&xc(e,n,t[n]);return e},Cc=(e,t)=>pc(e,`name`,{value:t,configurable:!0}),wc=e=>[,,,fc(e?.[vc(`metadata`)]??null)],Tc=[`class`,`method`,`getter`,`setter`,`accessor`,`field`,`value`,`get`,`set`],Ec=e=>e!==void 0&&typeof e!=`function`?yc(`Function expected`):e,Dc=(e,t,n,r,i)=>({kind:Tc[e],name:t,metadata:r,addInitializer:e=>n._?yc(`Already initialized`):i.push(Ec(e||null))}),Oc=(e,t)=>xc(t,vc(`metadata`),e[3]),kc=(e,t,n,r)=>{for(var i=0,a=e[t>>1],o=a&&a.length;i<o;i++)t&1?a[i].call(n):r=a[i].call(n,r);return r},Ac=(e,t,n,r,i,a)=>{var o,s,c,l,u,d=t&7,f=!!(t&8),p=!!(t&16),m=d>3?e.length+1:d?f?1:2:0,h=Tc[d+5],g=d>3&&(e[m-1]=[]),_=e[m]||(e[m]=[]),v=d&&(!p&&!f&&(i=i.prototype),d<5&&(d>3||!p)&&mc(d<4?i:{get[n](){return Nc(this,a)},set[n](e){return Fc(this,a,e)}},n));d?p&&d<4&&Cc(a,(d>2?`set `:d>1?`get `:``)+n):Cc(i,n);for(var y=r.length-1;y>=0;y--)l=Dc(d,n,c={},e[3],_),d&&(l.static=f,l.private=p,u=l.access={has:p?e=>Mc(i,e):e=>n in e},d^3&&(u.get=p?e=>(d^1?Nc:Ic)(e,i,d^4?a:v.get):e=>e[n]),d>2&&(u.set=p?(e,t)=>Fc(e,i,t,d^4?a:v.set):(e,t)=>e[n]=t)),s=(0,r[y])(d?d<4?p?a:v[h]:d>4?void 0:{get:v.get,set:v.set}:i,l),c._=1,d^4||s===void 0?Ec(s)&&(d>4?g.unshift(s):d?p?a=s:v[h]=s:i=s):typeof s!=`object`||!s?yc(`Object expected`):(Ec(o=s.get)&&(v.get=o),Ec(o=s.set)&&(v.set=o),Ec(o=s.init)&&g.unshift(o));return d||Oc(e,i),v&&pc(i,n,v),p?d^4?a:v:i},jc=(e,t,n)=>t.has(e)||yc(`Cannot `+n),Mc=(e,t)=>Object(t)===t?e.has(t):yc(`Cannot use the "in" operator on this value`),Nc=(e,t,n)=>(jc(e,t,`read from private field`),n?n.call(e):t.get(e)),Pc=(e,t,n)=>t.has(e)?yc(`Cannot add the same private member more than once`):t instanceof WeakSet?t.add(e):t.set(e,n),Fc=(e,t,n,r)=>(jc(e,t,`write to private field`),r?r.call(e,n):t.set(e,n),n),Ic=(e,t,n)=>(jc(e,t,`access private method`),n),Lc=class e{constructor(e,t){this.x=e,this.y=t}static delta(t,n){return new e(t.x-n.x,t.y-n.y)}static distance(e,t){return Math.hypot(e.x-t.x,e.y-t.y)}static equals(e,t){return e.x===t.x&&e.y===t.y}static from({x:t,y:n}){return new e(t,n)}},Rc=class e{constructor(e,t,n,r){this.left=e,this.top=t,this.width=n,this.height=r,this.scale={x:1,y:1}}get inverseScale(){return{x:1/this.scale.x,y:1/this.scale.y}}translate(t,n){let{top:r,left:i,width:a,height:o,scale:s}=this,c=new e(i+t,r+n,a,o);return c.scale=Sc({},s),c}get boundingRectangle(){let{width:e,height:t,left:n,top:r,right:i,bottom:a}=this;return{width:e,height:t,left:n,top:r,right:i,bottom:a}}get center(){let{left:e,top:t,right:n,bottom:r}=this;return new Lc((e+n)/2,(t+r)/2)}get area(){let{width:e,height:t}=this;return e*t}equals(t){if(!(t instanceof e))return!1;let{left:n,top:r,width:i,height:a}=this;return n===t.left&&r===t.top&&i===t.width&&a===t.height}containsPoint(e){let{top:t,left:n,bottom:r,right:i}=this;return t<=e.y&&e.y<=r&&n<=e.x&&e.x<=i}intersectionArea(t){return t instanceof e?zc(this,t):0}intersectionRatio(e){let{area:t}=this,n=this.intersectionArea(e);return n/(e.area+t-n)}get bottom(){let{top:e,height:t}=this;return e+t}get right(){let{left:e,width:t}=this;return e+t}get aspectRatio(){let{width:e,height:t}=this;return e/t}get corners(){return[{x:this.left,y:this.top},{x:this.right,y:this.top},{x:this.left,y:this.bottom},{x:this.right,y:this.bottom}]}static from({top:t,left:n,width:r,height:i}){return new e(n,t,r,i)}static delta(e,t,n={x:`center`,y:`center`}){let r=(e,t)=>{let r=n[t],i=t===`x`?e.left:e.top,a=t===`x`?e.width:e.height;return r==`start`?i:r==`end`?i+a:i+a/2};return Lc.delta({x:r(e,`x`),y:r(e,`y`)},{x:r(t,`x`),y:r(t,`y`)})}static intersectionRatio(t,n){return e.from(t).intersectionRatio(e.from(n))}};function zc(e,t){let n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),i=Math.min(t.left+t.width,e.left+e.width),a=Math.min(t.top+t.height,e.top+e.height),o=i-r,s=a-n;return r<i&&n<a?o*s:0}var Bc,Vc,Hc,Uc,Wc,Gc=class extends (Hc=cc,Vc=[zs],Bc=[zs],Hc){constructor(e){let t=Lc.from(e);super(t,(e,t)=>Lc.equals(e,t)),kc(Wc,5,this),Pc(this,Uc,0),this.velocity={x:0,y:0}}get delta(){return Lc.delta(this.current,this.initial)}get direction(){let{current:e,previous:t}=this;if(!t)return null;let n={x:e.x-t.x,y:e.y-t.y};return!n.x&&!n.y?null:Math.abs(n.x)>Math.abs(n.y)?n.x>0?`right`:`left`:n.y>0?`down`:`up`}get current(){return super.current}set current(e){let{current:t}=this,n=Lc.from(e),r={x:n.x-t.x,y:n.y-t.y},i=Date.now(),a=i-Nc(this,Uc),o=e=>Math.round(e/a*100);Ko(()=>{Fc(this,Uc,i),this.velocity={x:o(r.x),y:o(r.y)},super.current=n})}reset(e=this.defaultValue){super.reset(Lc.from(e)),this.velocity={x:0,y:0}}};Wc=wc(Hc),Uc=new WeakMap,Ac(Wc,2,`delta`,Vc,Gc),Ac(Wc,2,`direction`,Bc,Gc),Oc(Wc,Gc);function Kc({x:e,y:t},n){let r=Math.abs(e),i=Math.abs(t);return typeof n==`number`?Math.sqrt(bc(r,2)+bc(i,2))>n:`x`in n&&`y`in n?r>n.x&&i>n.y:`x`in n?r>n.x:`y`in n?i>n.y:!1}var qc=(e=>(e.Horizontal=`x`,e.Vertical=`y`,e))(qc||{}),Jc=Object.values(qc),Yc=Object.create,Xc=Object.defineProperty,Zc=Object.defineProperties,Qc=Object.getOwnPropertyDescriptor,$c=Object.getOwnPropertyDescriptors,el=Object.getOwnPropertySymbols,tl=Object.prototype.hasOwnProperty,nl=Object.prototype.propertyIsEnumerable,rl=(e,t)=>(t=Symbol[e])?t:Symbol.for(`Symbol.`+e),il=e=>{throw TypeError(e)},al=(e,t,n)=>t in e?Xc(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ol=(e,t)=>{for(var n in t||={})tl.call(t,n)&&al(e,n,t[n]);if(el)for(var n of el(t))nl.call(t,n)&&al(e,n,t[n]);return e},sl=(e,t)=>Zc(e,$c(t)),cl=(e,t)=>Xc(e,`name`,{value:t,configurable:!0}),ll=(e,t)=>{var n={};for(var r in e)tl.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&el)for(var r of el(e))t.indexOf(r)<0&&nl.call(e,r)&&(n[r]=e[r]);return n},ul=e=>[,,,Yc(e?.[rl(`metadata`)]??null)],dl=[`class`,`method`,`getter`,`setter`,`accessor`,`field`,`value`,`get`,`set`],fl=e=>e!==void 0&&typeof e!=`function`?il(`Function expected`):e,pl=(e,t,n,r,i)=>({kind:dl[e],name:t,metadata:r,addInitializer:e=>n._?il(`Already initialized`):i.push(fl(e||null))}),ml=(e,t)=>al(t,rl(`metadata`),e[3]),Y=(e,t,n,r)=>{for(var i=0,a=e[t>>1],o=a&&a.length;i<o;i++)t&1?a[i].call(n):r=a[i].call(n,r);return r},X=(e,t,n,r,i,a)=>{var o,s,c,l,u,d=t&7,f=!!(t&8),p=!!(t&16),m=d>3?e.length+1:d?f?1:2:0,h=dl[d+5],g=d>3&&(e[m-1]=[]),_=e[m]||(e[m]=[]),v=d&&(!p&&!f&&(i=i.prototype),d<5&&(d>3||!p)&&Qc(d<4?i:{get[n](){return _l(this,a)},set[n](e){return vl(this,a,e)}},n));d?p&&d<4&&cl(a,(d>2?`set `:d>1?`get `:``)+n):cl(i,n);for(var y=r.length-1;y>=0;y--)l=pl(d,n,c={},e[3],_),d&&(l.static=f,l.private=p,u=l.access={has:p?e=>gl(i,e):e=>n in e},d^3&&(u.get=p?e=>(d^1?_l:yl)(e,i,d^4?a:v.get):e=>e[n]),d>2&&(u.set=p?(e,t)=>vl(e,i,t,d^4?a:v.set):(e,t)=>e[n]=t)),s=(0,r[y])(d?d<4?p?a:v[h]:d>4?void 0:{get:v.get,set:v.set}:i,l),c._=1,d^4||s===void 0?fl(s)&&(d>4?g.unshift(s):d?p?a=s:v[h]=s:i=s):typeof s!=`object`||!s?il(`Object expected`):(fl(o=s.get)&&(v.get=o),fl(o=s.set)&&(v.set=o),fl(o=s.init)&&g.unshift(o));return d||ml(e,i),v&&Xc(i,n,v),p?d^4?a:v:i},hl=(e,t,n)=>t.has(e)||il(`Cannot `+n),gl=(e,t)=>Object(t)===t?e.has(t):il(`Cannot use the "in" operator on this value`),_l=(e,t,n)=>(hl(e,t,`read from private field`),n?n.call(e):t.get(e)),Z=(e,t,n)=>t.has(e)?il(`Cannot add the same private member more than once`):t instanceof WeakSet?t.add(e):t.set(e,n),vl=(e,t,n,r)=>(hl(e,t,`write to private field`),r?r.call(e,n):t.set(e,n),n),yl=(e,t,n)=>(hl(e,t,`access private method`),n);function bl(e,t){return{plugin:e,options:t}}function xl(e){return t=>bl(e,t)}function Sl(e){return typeof e==`function`?{plugin:e,options:void 0}:e}var Cl=[J],wl,Tl,El,Dl=class{constructor(e,t){this.manager=e,this.options=t,Z(this,Tl,Y(wl,8,this,!1)),Y(wl,11,this),Z(this,El,new Set)}enable(){this.disabled=!1}disable(){this.disabled=!0}isDisabled(){return q(()=>this.disabled)}configure(e){this.options=e}registerEffect(e){let t=ls(e.bind(this));return _l(this,El).add(t),t}destroy(){_l(this,El).forEach(e=>e())}static configure(e){return bl(this,e)}};wl=ul(null),Tl=new WeakMap,El=new WeakMap,X(wl,4,`disabled`,Cl,Dl,Tl),ml(wl,Dl);var Ol=class extends Dl{},kl,Al=class{constructor(e){this.manager=e,this.instances=new Map,Z(this,kl,[])}get values(){return Array.from(this.instances.values())}set values(e){let t=e.map(Sl).reduceRight((e,t)=>e.some(({plugin:e})=>e===t.plugin)?e:[t,...e],[]),n=t.map(({plugin:e})=>e);for(let e of _l(this,kl))if(!n.includes(e)){if(e.prototype instanceof Ol)continue;this.unregister(e)}for(let{plugin:e,options:n}of t)this.register(e,n);vl(this,kl,n)}get(e){return this.instances.get(e)}register(e,t){let n=this.instances.get(e);if(n)return n.options!==t&&(n.options=t),n;let r=new e(this.manager,t);return this.instances.set(e,r),r}unregister(e){let t=this.instances.get(e);t&&(t.destroy(),this.instances.delete(e))}destroy(){for(let e of this.instances.values())e.destroy();this.instances.clear()}};kl=new WeakMap;function jl(e,t){return e.priority===t.priority?e.type===t.type?t.value-e.value:t.type-e.type:t.priority-e.priority}var Ml=[],Nl,Pl,Fl=class extends Dl{constructor(e){super(e),Z(this,Nl),Z(this,Pl),this.computeCollisions=this.computeCollisions.bind(this),vl(this,Pl,$o(Ml)),this.destroy=Vs(()=>{let e=this.computeCollisions(),t=q(()=>this.manager.dragOperation.position.current);if(e!==Ml){let e=_l(this,Nl);if(vl(this,Nl,t),e&&t.x==e.x&&t.y==e.y)return}else vl(this,Nl,void 0);_l(this,Pl).value=e},()=>{let{dragOperation:e}=this.manager;e.status.initialized&&this.forceUpdate()})}forceUpdate(e=!0){q(()=>{e?_l(this,Pl).value=this.computeCollisions():vl(this,Nl,void 0)})}computeCollisions(e,t){let{registry:n,dragOperation:r}=this.manager,{source:i,shape:a,status:o}=r;if(!o.initialized||!a)return Ml;let s=[],c=[];for(let a of e??n.droppables){if(a.disabled||i&&!a.accepts(i))continue;let e=t??a.collisionDetector;if(!e)continue;c.push(a),a.shape;let n=q(()=>e({droppable:a,dragOperation:r}));n&&(a.collisionPriority!=null&&(n.priority=a.collisionPriority),s.push(n))}return c.length===0?Ml:(s.sort(jl),s)}get collisions(){return _l(this,Pl).value}};Nl=new WeakMap,Pl=new WeakMap;var Il=class{constructor(){this.registry=new Map}addEventListener(e,t){let{registry:n}=this,r=new Set(n.get(e));return r.add(t),n.set(e,r),()=>this.removeEventListener(e,t)}removeEventListener(e,t){let{registry:n}=this,r=new Set(n.get(e));r.delete(t),n.set(e,r)}dispatch(e,...t){let{registry:n}=this,r=n.get(e);if(r)for(let e of r)e(...t)}},Ll=class extends Il{constructor(e){super(),this.manager=e}dispatch(e,t){let n=[t,this.manager];super.dispatch(e,...n)}};function Rl(e,t=!0){let n=!1;return sl(ol({},e),{cancelable:t,get defaultPrevented(){return n},preventDefault(){t&&(n=!0)}})}var zl=class extends Ol{constructor(e){super(e);let t=(e,t)=>e.map(({id:e})=>e).join(``)===t.map(({id:e})=>e).join(``),n=[];this.destroy=Vs(()=>{let{dragOperation:t,collisionObserver:r}=e;t.status.initializing&&(n=[],r.enable())},()=>{let{collisionObserver:r,monitor:i}=e,{collisions:a}=r;if(r.isDisabled())return;let o=Rl({collisions:a});if(i.dispatch(`collision`,o),o.defaultPrevented||t(a,n))return;n=a;let[s]=a;q(()=>{s?.id!==e.dragOperation.target?.id&&(r.disable(),e.actions.setDropTarget(s?.id).then(()=>{r.enable()}))})})}},Bl=(e=>(e[e.Lowest=0]=`Lowest`,e[e.Low=1]=`Low`,e[e.Normal=2]=`Normal`,e[e.High=3]=`High`,e[e.Highest=4]=`Highest`,e))(Bl||{}),Vl=(e=>(e[e.Collision=0]=`Collision`,e[e.ShapeIntersection=1]=`ShapeIntersection`,e[e.PointerIntersection=2]=`PointerIntersection`,e))(Vl||{}),Hl,Ul,Wl,Gl,Kl,ql,Jl=[J],Yl,Xl;ql=[zs],Kl=[zs],Gl=[zs],Wl=[zs],Ul=[zs],Hl=[zs];var Zl=class{constructor(){Y(Yl,5,this),Z(this,Xl,Y(Yl,8,this,`idle`)),Y(Yl,11,this)}get current(){return this.value}get idle(){return this.value===`idle`}get initializing(){return this.value===`initializing`}get initialized(){let{value:e}=this;return e!==`idle`&&e!==`initialization-pending`}get dragging(){return this.value===`dragging`}get dropped(){return this.value===`dropped`}set(e){this.value=e}};Yl=ul(null),Xl=new WeakMap,X(Yl,4,`value`,Jl,Zl,Xl),X(Yl,2,`current`,ql,Zl),X(Yl,2,`idle`,Kl,Zl),X(Yl,2,`initializing`,Gl,Zl),X(Yl,2,`initialized`,Wl,Zl),X(Yl,2,`dragging`,Ul,Zl),X(Yl,2,`dropped`,Hl,Zl),ml(Yl,Zl);var Ql=class{constructor(e){this.manager=e}setDragSource(e){let{dragOperation:t}=this.manager;t.sourceIdentifier=typeof e==`string`||typeof e==`number`?e:e.id}setDropTarget(e){return q(()=>{let{dragOperation:t}=this.manager,n=e??null;if(t.targetIdentifier===n)return Promise.resolve(!1);t.targetIdentifier=n;let r=Rl({operation:t.snapshot()});return t.status.dragging&&this.manager.monitor.dispatch(`dragover`,r),this.manager.renderer.rendering.then(()=>r.defaultPrevented)})}start(e){return q(()=>{let{dragOperation:t}=this.manager;if(e.source!=null&&this.setDragSource(e.source),!t.source)throw Error(`Cannot start a drag operation without a drag source`);if(!t.status.idle)throw Error(`Cannot start a drag operation while another is active`);let n=new AbortController,{event:r,coordinates:i}=e;Ko(()=>{t.status.set(`initialization-pending`),t.shape=null,t.canceled=!1,t.activatorEvent=r??null,t.position.reset(i)});let a=Rl({operation:t.snapshot()});return this.manager.monitor.dispatch(`beforedragstart`,a),a.defaultPrevented?(t.reset(),n.abort(),n):(t.status.set(`initializing`),t.controller=n,this.manager.renderer.rendering.then(()=>{if(n.signal.aborted)return;let{status:e}=t;e.current===`initializing`&&(t.status.set(`dragging`),this.manager.monitor.dispatch(`dragstart`,{nativeEvent:r,operation:t.snapshot(),cancelable:!1}))}),n)})}move(e){return q(()=>{let{dragOperation:t}=this.manager,{status:n,controller:r}=t;if(!n.dragging||!r||r.signal.aborted)return;let i=Rl({nativeEvent:e.event,operation:t.snapshot(),by:e.by,to:e.to},e.cancelable??!0);(e.propagate??!0)&&this.manager.monitor.dispatch(`dragmove`,i),queueMicrotask(()=>{if(i.defaultPrevented)return;let n=e.to??{x:t.position.current.x+(e.by?.x??0),y:t.position.current.y+(e.by?.y??0)};t.position.current=n})})}stop(e={}){return q(()=>{let{dragOperation:t}=this.manager,{controller:n}=t;if(!n||n.signal.aborted)return;let r,i=()=>{let e={resume:()=>{},abort:()=>{}};return r=new Promise((t,n)=>{e.resume=t,e.abort=n}),e};n.abort();let a=()=>{this.manager.renderer.rendering.then(()=>{t.status.set(`dropped`);let e=q(()=>t.source?.status===`dropping`),r=()=>{t.controller===n&&(t.controller=void 0),t.reset()};if(e){let{source:e}=t,n=ls(()=>{e?.status===`idle`&&(n(),r())})}else this.manager.renderer.rendering.then(r)})};t.canceled=e.canceled??!1,this.manager.monitor.dispatch(`dragend`,{nativeEvent:e.event,operation:t.snapshot(),canceled:e.canceled??!1,suspend:i}),r?r.then(a).catch(()=>t.reset()):a()})}},$l,eu,tu,nu=[J],ru,iu,au,ou,su;tu=[J],eu=[J],$l=[J];var cu=class{constructor(e,t){Z(this,iu,Y(ru,8,this)),Y(ru,11,this),Z(this,au,Y(ru,12,this)),Y(ru,15,this),Z(this,ou,Y(ru,16,this)),Y(ru,19,this),Z(this,su,Y(ru,20,this)),Y(ru,23,this);let{effects:n,id:r,data:i={},disabled:a=!1,register:o=!0}=e,s=r;this.manager=t,this.id=r,this.data=i,this.disabled=a,this.effects=()=>[()=>{let{id:e,manager:t}=this;if(e!==s)return t?.registry.register(this),()=>t?.registry.unregister(this)},...n?.()??[]],this.register=this.register.bind(this),this.unregister=this.unregister.bind(this),this.destroy=this.destroy.bind(this),t&&o&&queueMicrotask(this.register)}register(){return this.manager?.registry.register(this)}unregister(){var e;(e=this.manager)==null||e.registry.unregister(this)}destroy(){var e;(e=this.manager)==null||e.registry.unregister(this)}};ru=ul(null),iu=new WeakMap,au=new WeakMap,ou=new WeakMap,su=new WeakMap,X(ru,4,`manager`,nu,cu,iu),X(ru,4,`id`,tu,cu,au),X(ru,4,`data`,eu,cu,ou),X(ru,4,`disabled`,$l,cu,su),ml(ru,cu);var lu=class{constructor(){this.map=$o(new Map),this.cleanupFunctions=new WeakMap,this.register=(e,t)=>{let n=this.map.peek(),r=n.get(e),i=()=>this.unregister(e,t);if(r===t)return i;r&&(this.cleanupFunctions.get(r)?.(),this.cleanupFunctions.delete(r));let a=new Map(n);a.set(e,t),this.map.value=a;let o=Vs(...t.effects());return this.cleanupFunctions.set(t,o),i},this.unregister=(e,t)=>{let n=this.map.peek();if(n.get(e)!==t)return;this.cleanupFunctions.get(t)?.(),this.cleanupFunctions.delete(t);let r=new Map(n);r.delete(e),this.map.value=r}}[Symbol.iterator](){return this.map.peek().values()}get value(){return this.map.value.values()}has(e){return this.map.value.has(e)}get(e){return this.map.value.get(e)}destroy(){for(let e of this)this.cleanupFunctions.get(e)?.(),e.destroy();this.map.value=new Map}},uu,du,fu,pu,mu,hu,gu,_u,vu,yu,bu,xu=class extends (gu=cu,hu=[J],mu=[J],pu=[J],fu=[zs],du=[zs],uu=[zs],gu){constructor(e,t){var n=e,{modifiers:r,type:i,sensors:a}=n,o=ll(n,[`modifiers`,`type`,`sensors`]);super(o,t),Y(_u,5,this),Z(this,vu,Y(_u,8,this)),Y(_u,11,this),Z(this,yu,Y(_u,12,this)),Y(_u,15,this),Z(this,bu,Y(_u,16,this,this.isDragSource?`dragging`:`idle`)),Y(_u,19,this),this.type=i,this.sensors=a,this.modifiers=r,this.alignment=o.alignment}get isDropping(){return this.status===`dropping`&&this.isDragSource}get isDragging(){return this.status===`dragging`&&this.isDragSource}get isDragSource(){return this.manager?.dragOperation.source?.id===this.id}};_u=ul(gu),vu=new WeakMap,yu=new WeakMap,bu=new WeakMap,X(_u,4,`type`,hu,xu,vu),X(_u,4,`modifiers`,mu,xu,yu),X(_u,4,`status`,pu,xu,bu),X(_u,2,`isDropping`,fu,xu),X(_u,2,`isDragging`,du,xu),X(_u,2,`isDragSource`,uu,xu),ml(_u,xu);var Su,Cu,wu,Tu,Eu,Du,Ou,ku,Au,ju,Mu,Nu,Pu,Fu=class extends (Ou=cu,Du=[J],Eu=[J],Tu=[J],wu=[J],Cu=[J],Su=[zs],Ou){constructor(e,t){var n=e,{accept:r,collisionDetector:i,collisionPriority:a,type:o}=n,s=ll(n,[`accept`,`collisionDetector`,`collisionPriority`,`type`]);super(s,t),Y(ku,5,this),Z(this,Au,Y(ku,8,this)),Y(ku,11,this),Z(this,ju,Y(ku,12,this)),Y(ku,15,this),Z(this,Mu,Y(ku,16,this)),Y(ku,19,this),Z(this,Nu,Y(ku,20,this)),Y(ku,23,this),Z(this,Pu,Y(ku,24,this)),Y(ku,27,this),this.accept=r,this.collisionDetector=i,this.collisionPriority=a,this.type=o}accepts(e){let{accept:t}=this;return t?typeof t==`function`?t(e):e.type?Array.isArray(t)?t.includes(e.type):e.type===t:!1:!0}get isDropTarget(){return this.manager?.dragOperation.target?.id===this.id}};ku=ul(Ou),Au=new WeakMap,ju=new WeakMap,Mu=new WeakMap,Nu=new WeakMap,Pu=new WeakMap,X(ku,4,`accept`,Du,Fu,Au),X(ku,4,`type`,Eu,Fu,ju),X(ku,4,`collisionDetector`,Tu,Fu,Mu),X(ku,4,`collisionPriority`,wu,Fu,Nu),X(ku,4,`shape`,Cu,Fu,Pu),X(ku,2,`isDropTarget`,Su,Fu),ml(ku,Fu);var Iu=class extends Dl{constructor(e,t){super(e,t),this.manager=e,this.options=t}},Lu=class extends AbortController{constructor(e,t){super(),this.constraints=e,this.onActivate=t,this.activated=!1;for(let t of e??[])t.controller=this}onEvent(e){if(!this.activated)if(this.constraints?.length)for(let t of this.constraints)t.onEvent(e);else this.activate(e)}activate(e){this.activated||(this.activated=!0,this.onActivate(e))}abort(e){this.activated=!1,super.abort(e)}},Ru,zu=class{constructor(e){this.options=e,Z(this,Ru)}set controller(e){vl(this,Ru,e),e.signal.addEventListener(`abort`,()=>this.abort())}activate(e){var t;(t=_l(this,Ru))==null||t.activate(e)}};Ru=new WeakMap;var Bu=class extends Dl{constructor(e,t){super(e,t),this.manager=e,this.options=t}apply(e){return e.transform}},Vu=class{constructor(e){this.draggables=new lu,this.droppables=new lu,this.plugins=new Al(e),this.sensors=new Al(e),this.modifiers=new Al(e)}register(e,t){if(e instanceof xu)return this.draggables.register(e.id,e);if(e instanceof Fu)return this.droppables.register(e.id,e);if(e.prototype instanceof Bu)return this.modifiers.register(e,t);if(e.prototype instanceof Iu)return this.sensors.register(e,t);if(e.prototype instanceof Dl)return this.plugins.register(e,t);throw Error(`Invalid instance type`)}unregister(e){if(e instanceof cu)return e instanceof xu?this.draggables.unregister(e.id,e):e instanceof Fu?this.droppables.unregister(e.id,e):()=>{};if(e.prototype instanceof Bu)return this.modifiers.unregister(e);if(e.prototype instanceof Iu)return this.sensors.unregister(e);if(e.prototype instanceof Dl)return this.plugins.unregister(e);throw Error(`Invalid instance type`)}destroy(){this.draggables.destroy(),this.droppables.destroy(),this.plugins.destroy(),this.sensors.destroy(),this.modifiers.destroy()}},Hu,Uu,Wu,Gu,Ku,qu,Ju,Yu,Xu=[zs],Zu,Qu,$u,ed,td,nd,rd,id,ad,od;Yu=[J],Ju=[J],qu=[J],Ku=[J],Gu=[J],Wu=[zs],Uu=[zs],Hu=[zs];var sd=class{constructor(e){Y(ed,5,this),Z(this,Zu),Z(this,Qu),Z(this,$u,new cc(void 0,(e,t)=>e&&t?e.equals(t):e===t)),this.status=new Zl,Z(this,td,Y(ed,8,this,!1)),Y(ed,11,this),Z(this,nd,Y(ed,12,this,null)),Y(ed,15,this),Z(this,rd,Y(ed,16,this,null)),Y(ed,19,this),Z(this,id,Y(ed,20,this,null)),Y(ed,23,this),Z(this,ad,Y(ed,24,this,[])),Y(ed,27,this),this.position=new Gc({x:0,y:0}),Z(this,od,{x:0,y:0}),vl(this,Zu,e)}get shape(){let{current:e,initial:t,previous:n}=_l(this,$u);return!e||!t?null:{current:e,initial:t,previous:n}}set shape(e){e?_l(this,$u).current=e:_l(this,$u).reset()}get source(){let e=this.sourceIdentifier;if(e==null)return null;let t=_l(this,Zu).registry.draggables.get(e);return t&&vl(this,Qu,t),t??_l(this,Qu)??null}get target(){let e=this.targetIdentifier;return e==null?null:_l(this,Zu).registry.droppables.get(e)??null}get transform(){let{x:e,y:t}=this.position.delta,n={x:e,y:t};for(let e of this.modifiers)n=e.apply(sl(ol({},this.snapshot()),{transform:n}));return vl(this,od,n),n}snapshot(){return q(()=>({source:this.source,target:this.target,activatorEvent:this.activatorEvent,transform:_l(this,od),shape:this.shape?lc(this.shape):null,position:lc(this.position),status:lc(this.status),canceled:this.canceled}))}reset(){Ko(()=>{this.status.set(`idle`),this.sourceIdentifier=null,this.targetIdentifier=null,_l(this,$u).reset(),this.position.reset({x:0,y:0}),vl(this,od,{x:0,y:0}),this.modifiers=[]})}};ed=ul(null),Zu=new WeakMap,Qu=new WeakMap,$u=new WeakMap,td=new WeakMap,nd=new WeakMap,rd=new WeakMap,id=new WeakMap,ad=new WeakMap,od=new WeakMap,X(ed,2,`shape`,Xu,sd),X(ed,4,`canceled`,Yu,sd,td),X(ed,4,`activatorEvent`,Ju,sd,nd),X(ed,4,`sourceIdentifier`,qu,sd,rd),X(ed,4,`targetIdentifier`,Ku,sd,id),X(ed,4,`modifiers`,Gu,sd,ad),X(ed,2,`source`,Wu,sd),X(ed,2,`target`,Uu,sd),X(ed,2,`transform`,Hu,sd),ml(ed,sd);var cd={get rendering(){return Promise.resolve()}},ld=class{constructor(e){this.destroy=()=>{this.dragOperation.status.idle||this.actions.stop({canceled:!0}),this.dragOperation.modifiers.forEach(e=>e.destroy()),this.registry.destroy(),this.collisionObserver.destroy()};let{plugins:t=[],sensors:n=[],modifiers:r=[],renderer:i=cd}=e??{},a=new Ll(this);this.registry=new Vu(this),this.monitor=a,this.renderer=i,this.actions=new Ql(this),this.dragOperation=new sd(this),this.collisionObserver=new Fl(this),this.plugins=[zl,...t],this.modifiers=r,this.sensors=n;let{destroy:o}=this,s=Vs(()=>{let e=q(()=>this.dragOperation.modifiers),t=this.modifiers;e!==t&&e.forEach(e=>e.destroy()),this.dragOperation.modifiers=(this.dragOperation.source?.modifiers)?.map(e=>{let{plugin:t,options:n}=Sl(e);return new t(this,n)})??t});this.destroy=()=>{s(),o()}}get plugins(){return this.registry.plugins.values}set plugins(e){this.registry.plugins.values=e}get modifiers(){return this.registry.modifiers.values}set modifiers(e){this.registry.modifiers.values=e}get sensors(){return this.registry.sensors.values}set sensors(e){this.registry.sensors.values=e}},ud=e=>{throw TypeError(e)},dd=(e,t,n)=>t.has(e)||ud(`Cannot `+n),Q=(e,t,n)=>(dd(e,t,`read from private field`),t.get(e)),fd=(e,t,n)=>t.has(e)?ud(`Cannot add the same private member more than once`):t instanceof WeakSet?t.add(e):t.set(e,n),pd=(e,t,n,r)=>(dd(e,t,`write to private field`),t.set(e,n),n),md=(e,t,n)=>(dd(e,t,`access private method`),n);function hd(e){return e?e instanceof KeyframeEffect?!0:`getKeyframes`in e&&typeof e.getKeyframes==`function`:!1}function gd(e,t){let n=e.getAnimations();if(n.length>0)for(let e of n){if(e.playState!==`running`)continue;let{effect:n}=e,r=(hd(n)?n.getKeyframes():[]).filter(t);if(r.length>0)return[r[r.length-1],e]}return null}function _d(e){let{width:t,height:n,top:r,left:i,bottom:a,right:o}=e.getBoundingClientRect();return{width:t,height:n,top:r,left:i,bottom:a,right:o}}function vd(e){let t=Object.prototype.toString.call(e);return t===`[object Window]`||t===`[object global]`}function yd(e){return`nodeType`in e}function bd(e){return e?vd(e)?e:yd(e)?`defaultView`in e?e.defaultView??window:e.ownerDocument?.defaultView??window:window:window}function xd(e){let{Document:t}=bd(e);return e instanceof t||`nodeType`in e&&e.nodeType===Node.DOCUMENT_NODE}function Sd(e){return!e||vd(e)?!1:e instanceof bd(e).HTMLElement||`namespaceURI`in e&&typeof e.namespaceURI==`string`&&e.namespaceURI.endsWith(`html`)}function Cd(e){return e instanceof bd(e).SVGElement||`namespaceURI`in e&&typeof e.namespaceURI==`string`&&e.namespaceURI.endsWith(`svg`)}function wd(e){return e?vd(e)?e.document:yd(e)?xd(e)?e:Sd(e)||Cd(e)?e.ownerDocument:document:document:document}function Td(e){let{documentElement:t}=wd(e),n=t.clientWidth,r=t.clientHeight;return{top:0,left:0,right:n,bottom:r,width:n,height:r}}function Ed(e,t){if(Dd(e)&&e.open===!1)return!1;let{overflow:n,overflowX:r,overflowY:i}=getComputedStyle(e);return n===`visible`&&r===`visible`&&i===`visible`}function Dd(e){return e.tagName===`DETAILS`}function Od(e,t=e.getBoundingClientRect(),n=0){let r=t,{ownerDocument:i}=e,a=i.defaultView??window,o=e.parentElement;for(;o&&o!==i.documentElement;){if(!Ed(o)){let e=o.getBoundingClientRect(),t=n*(e.bottom-e.top),i=n*(e.right-e.left),a=n*(e.bottom-e.top),s=n*(e.right-e.left);r={top:Math.max(r.top,e.top-t),right:Math.min(r.right,e.right+i),bottom:Math.min(r.bottom,e.bottom+a),left:Math.max(r.left,e.left-s),width:0,height:0},r.width=r.right-r.left,r.height=r.bottom-r.top}o=o.parentElement}let s=a.innerWidth,c=a.innerHeight,l=n*c,u=n*s;return r={top:Math.max(r.top,0-l),right:Math.min(r.right,s+u),bottom:Math.min(r.bottom,c+l),left:Math.max(r.left,0-u),width:0,height:0},r.width=r.right-r.left,r.height=r.bottom-r.top,r.width<0&&(r.width=0),r.height<0&&(r.height=0),r}function kd(e){return{x:e.clientX,y:e.clientY}}var Ad=typeof window<`u`&&window.document!==void 0&&window.document.createElement!==void 0;function jd(e=document,t=new Set){if(t.has(e))return[];t.add(e);let n=[e];for(let r of Array.from(e.querySelectorAll(`iframe, frame`)))try{let e=r.contentDocument;e&&!t.has(e)&&n.push(...jd(e,t))}catch{}try{let r=e.defaultView;if(r&&r!==window.top){let i=r.parent;i&&i.document&&i.document!==e&&n.push(...jd(i.document,t))}}catch{}return n}function Md(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function Nd(e){let t=`input, textarea, select, canvas, [contenteditable]`,n=e.cloneNode(!0),r=Array.from(e.querySelectorAll(t));return Array.from(n.querySelectorAll(t)).forEach((e,t)=>{let n=r[t];Pd(e)&&Pd(n)&&(e.type!==`file`&&(e.value=n.value),e.type===`radio`&&e.name&&(e.name=`Cloned__${e.name}`)),Fd(e)&&Fd(n)&&n.width>0&&n.height>0&&e.getContext(`2d`)?.drawImage(n,0,0)}),n}function Pd(e){return`value`in e}function Fd(e){return e.tagName===`CANVAS`}function Id(e,{x:t,y:n}){let r=e.elementFromPoint(t,n);if(Ld(r)){let{contentDocument:e}=r;if(e){let{left:i,top:a}=r.getBoundingClientRect();return Id(e,{x:t-i,y:n-a})}}return r}function Ld(e){return e?.tagName===`IFRAME`}var Rd=new WeakMap;function zd(e){return!!e.closest(`
      input:not([disabled]),
      select:not([disabled]),
      textarea:not([disabled]),
      button:not([disabled]),
      a[href],
      [contenteditable]:not([contenteditable="false"])
    `)}var Bd=class{constructor(){this.entries=new Set,this.clear=()=>{for(let e of this.entries){let[t,{type:n,listener:r,options:i}]=e;t.removeEventListener(n,r,i)}this.entries.clear()}}bind(e,t){let n=Array.isArray(e)?e:[e],r=Array.isArray(t)?t:[t],i=[];for(let e of n)for(let t of r){let{type:n,listener:r,options:a}=t,o=[e,t];e.addEventListener(n,r,a),this.entries.add(o),i.push(o)}return function(){for(let[e,{type:t,listener:n,options:r}]of i)e.removeEventListener(t,n,r)}}};function Vd(e){let t=e?.ownerDocument.defaultView;if(t&&t.self!==t.parent)return t.frameElement}function Hd(e){let t=new Set,n=Vd(e);for(;n;)t.add(n),n=Vd(n);return t}function Ud(e,t){let n=setTimeout(e,t);return()=>clearTimeout(n)}function Wd(e,t){let n=()=>performance.now(),r,i;return function(...a){let o=this;i?(r?.(),r=Ud(()=>{e.apply(o,a),i=n()},t-(n()-i))):(e.apply(o,a),i=n())}}function Gd(e,t){return e===t?!0:!e||!t?!1:e.top==t.top&&e.left==t.left&&e.right==t.right&&e.bottom==t.bottom}function Kd(e,t=e.getBoundingClientRect()){let{width:n,height:r}=Od(e,t);return n>0&&r>0}var qd=Ad?ResizeObserver:class{observe(){}unobserve(){}disconnect(){}},Jd,Yd=class extends qd{constructor(e){super(t=>{if(!Q(this,Jd)){pd(this,Jd,!0);return}e(t,this)}),fd(this,Jd,!1)}};Jd=new WeakMap;var Xd=Array.from({length:100},(e,t)=>t/100),Zd=75,Qd,$d,ef,tf,nf,rf,af,of,sf,cf,lf,uf=class{constructor(e,t,n={debug:!1,skipInitial:!1}){this.element=e,this.callback=t,fd(this,sf),this.disconnect=()=>{var e,t,n;pd(this,af,!0),(e=Q(this,ef))==null||e.disconnect(),(t=Q(this,tf))==null||t.disconnect(),Q(this,nf).disconnect(),(n=Q(this,rf))==null||n.remove()},fd(this,Qd,!0),fd(this,$d),fd(this,ef),fd(this,tf),fd(this,nf),fd(this,rf),fd(this,af,!1),fd(this,of,Wd(()=>{var e;let{element:t}=this;if((e=Q(this,tf))==null||e.disconnect(),Q(this,af)||!Q(this,Qd)||!t.isConnected)return;let n=t.ownerDocument??document,{innerHeight:r,innerWidth:i}=n.defaultView??window,a=t.getBoundingClientRect(),{top:o,left:s,bottom:c,right:l}=Od(t,a),u=-Math.floor(o),d=-Math.floor(s),f=`${u}px ${-Math.floor(i-l)}px ${-Math.floor(r-c)}px ${d}px`;this.boundingClientRect=a,pd(this,tf,new IntersectionObserver(e=>{let[n]=e,{intersectionRect:r}=n;(n.intersectionRatio===1?Rc.intersectionRatio(r,Od(t)):n.intersectionRatio)!==1&&Q(this,of).call(this)},{threshold:Xd,rootMargin:f,root:n})),Q(this,tf).observe(t),md(this,sf,cf).call(this)},Zd)),this.boundingClientRect=e.getBoundingClientRect(),pd(this,Qd,Kd(e,this.boundingClientRect));let r=!0;this.callback=e=>{r&&(r=!1,n.skipInitial)||t(e)};let i=e.ownerDocument;n?.debug&&(pd(this,rf,document.createElement(`div`)),Q(this,rf).style.background=`rgba(0,0,0,0.15)`,Q(this,rf).style.position=`fixed`,Q(this,rf).style.pointerEvents=`none`,i.body.appendChild(Q(this,rf))),pd(this,nf,new IntersectionObserver(t=>{var n,r;let{boundingClientRect:i,isIntersecting:a}=t[t.length-1],{width:o,height:s}=i,c=Q(this,Qd);pd(this,Qd,a),!(!o&&!s)&&(c&&!a?((n=Q(this,tf))==null||n.disconnect(),this.callback(null),(r=Q(this,ef))==null||r.disconnect(),pd(this,ef,void 0),Q(this,rf)&&(Q(this,rf).style.visibility=`hidden`)):Q(this,of).call(this),a&&!Q(this,ef)&&(pd(this,ef,new Yd(Q(this,of))),Q(this,ef).observe(e)))},{threshold:Xd,root:i})),Q(this,Qd)&&!n.skipInitial&&this.callback(this.boundingClientRect),Q(this,nf).observe(e)}};Qd=new WeakMap,$d=new WeakMap,ef=new WeakMap,tf=new WeakMap,nf=new WeakMap,rf=new WeakMap,af=new WeakMap,of=new WeakMap,sf=new WeakSet,cf=function(){Q(this,af)||(md(this,sf,lf).call(this),!Gd(this.boundingClientRect,Q(this,$d))&&(this.callback(this.boundingClientRect),pd(this,$d,this.boundingClientRect)))},lf=function(){if(Q(this,rf)){let{top:e,left:t,width:n,height:r}=Od(this.element);Q(this,rf).style.overflow=`hidden`,Q(this,rf).style.visibility=`visible`,Q(this,rf).style.top=`${Math.floor(e)}px`,Q(this,rf).style.left=`${Math.floor(t)}px`,Q(this,rf).style.width=`${Math.floor(n)}px`,Q(this,rf).style.height=`${Math.floor(r)}px`}};var df=new WeakMap,ff=new WeakMap;function pf(e,t){let n=df.get(e);return n||={disconnect:new uf(e,t=>{let n=df.get(e);n&&n.callbacks.forEach(e=>e(t))},{skipInitial:!0}).disconnect,callbacks:new Set},n.callbacks.add(t),df.set(e,n),()=>{n.callbacks.delete(t),n.callbacks.size===0&&(df.delete(e),n.disconnect())}}function mf(e,t){let n=new Set;for(let r of e){let e=pf(r,t);n.add(e)}return()=>n.forEach(e=>e())}function hf(e,t){let n=e.ownerDocument;if(!ff.has(n)){let e=new AbortController,t=new Set;document.addEventListener(`scroll`,e=>t.forEach(t=>t(e)),{capture:!0,passive:!0,signal:e.signal}),ff.set(n,{disconnect:()=>e.abort(),listeners:t})}let{listeners:r,disconnect:i}=ff.get(n)??{};return!r||!i?()=>{}:(r.add(t),()=>{r.delete(t),r.size===0&&(i(),ff.delete(n))})}var gf,_f,vf,yf,bf=class{constructor(e,t,n){this.callback=t,fd(this,gf),fd(this,_f,!1),fd(this,vf),fd(this,yf,Wd(e=>{if(!Q(this,_f)&&e.target&&`contains`in e.target&&typeof e.target.contains==`function`){for(let t of Q(this,vf))if(e.target.contains(t)){this.callback(Q(this,gf).boundingClientRect);break}}},Zd));let r=Hd(e),i=mf(r,t),a=hf(e,Q(this,yf));pd(this,vf,r),pd(this,gf,new uf(e,t,n)),this.disconnect=()=>{Q(this,_f)||(pd(this,_f,!0),i(),a(),Q(this,gf).disconnect())}}};gf=new WeakMap,_f=new WeakMap,vf=new WeakMap,yf=new WeakMap;function xf(e){return`showPopover`in e&&`hidePopover`in e&&typeof e.showPopover==`function`&&typeof e.hidePopover==`function`}function Sf(e){try{xf(e)&&e.isConnected&&e.hasAttribute(`popover`)&&!e.matches(`:popover-open`)&&e.showPopover()}catch{}}function Cf(e){return!Ad||!e?!1:e===wd(e).scrollingElement}function wf(e){let t=bd(e),n=Cf(e)?Td(e):_d(e),r=Cf(e)?{height:t.innerHeight,width:t.innerWidth}:{height:e.clientHeight,width:e.clientWidth},i={current:{x:e.scrollLeft,y:e.scrollTop},max:{x:e.scrollWidth-r.width,y:e.scrollHeight-r.height}};return{rect:n,position:i,isTop:i.current.y<=0,isLeft:i.current.x<=0,isBottom:i.current.y>=i.max.y,isRight:i.current.x>=i.max.x}}function Tf(e,t){let{isTop:n,isBottom:r,isLeft:i,isRight:a,position:o}=wf(e),{x:s,y:c}=t??{x:0,y:0},l=!n&&o.current.y+c>0,u=!r&&o.current.y+c<o.max.y,d=!i&&o.current.x+s>0,f=!a&&o.current.x+s<o.max.x;return{top:l,bottom:u,left:d,right:f,x:d||f,y:l||u}}var Ef=class{constructor(e){this.scheduler=e,this.pending=!1,this.tasks=new Set,this.resolvers=new Set,this.flush=()=>{let{tasks:e,resolvers:t}=this;this.pending=!1,this.tasks=new Set,this.resolvers=new Set;for(let t of e)t();for(let e of t)e()}}schedule(e){return this.tasks.add(e),this.pending||(this.pending=!0,this.scheduler(this.flush)),new Promise(e=>this.resolvers.add(e))}},Df=new Ef(e=>{typeof requestAnimationFrame==`function`?requestAnimationFrame(e):e()}),Of=new Ef(e=>setTimeout(e,50)),kf=new Map,Af=kf.clear.bind(kf);function jf(e,t=!1){if(!t)return Mf(e);let n=kf.get(e);return n||(n=Mf(e),kf.set(e,n),Of.schedule(Af),n)}function Mf(e){return bd(e).getComputedStyle(e)}function Nf(e,t=jf(e,!0)){return t.position===`fixed`||t.position===`sticky`}function Pf(e,t=jf(e,!0)){let n=/(auto|scroll|overlay)/;return[`overflow`,`overflowX`,`overflowY`].some(e=>{let r=t[e];return typeof r==`string`?n.test(r):!1})}var Ff={excludeElement:!0};function If(e,t=Ff){let{limit:n,excludeElement:r}=t,i=new Set;function a(t){if(n!=null&&i.size>=n||!t)return i;if(xd(t)&&t.scrollingElement!=null&&!i.has(t.scrollingElement))return i.add(t.scrollingElement),i;if(!Sd(t))return Cd(t)?a(t.parentElement):i;if(i.has(t))return i;let o=jf(t,!0);if(r&&t===e||Pf(t,o)&&i.add(t),Nf(t,o)){let{scrollingElement:e}=t.ownerDocument;return e&&i.add(e),i}return a(t.parentNode)}return e?a(e):i}function Lf(e){let[t]=If(e,{limit:1});return t??null}function Rf(e,t=window.frameElement){let n={x:0,y:0,scaleX:1,scaleY:1};if(!e)return n;let r=Vd(e);for(;r;){if(r===t)return n;let e=_d(r),{x:i,y:a}=zf(r,e);n.x+=e.left,n.y+=e.top,n.scaleX*=i,n.scaleY*=a,r=Vd(r)}return n}function zf(e,t=_d(e)){let n=Math.round(t.width),r=Math.round(t.height);if(Sd(e))return{x:n/e.offsetWidth,y:r/e.offsetHeight};let i=jf(e,!0);return{x:(parseFloat(i.width)||n)/n,y:(parseFloat(i.height)||r)/r}}function Bf(e){if(e===`none`)return null;let t=e.split(` `),n=parseFloat(t[0]),r=parseFloat(t[1]);return isNaN(n)&&isNaN(r)?null:{x:isNaN(n)?r:n,y:isNaN(r)?n:r}}function Vf(e){if(e===`none`)return null;let[t,n,r=`0`]=e.split(` `),i={x:parseFloat(t),y:parseFloat(n),z:parseInt(r,10)};return isNaN(i.x)&&isNaN(i.y)?null:{x:isNaN(i.x)?0:i.x,y:isNaN(i.y)?0:i.y,z:isNaN(i.z)?0:i.z}}function Hf(e){let{scale:t,transform:n,translate:r}=e,i=Bf(t),a=Vf(r),o=Uf(n);if(!o&&!i&&!a)return null;let s={x:i?.x??1,y:i?.y??1},c={x:a?.x??0,y:a?.y??0},l={x:o?.x??0,y:o?.y??0,scaleX:o?.scaleX??1,scaleY:o?.scaleY??1};return{x:c.x+l.x,y:c.y+l.y,z:a?.z??0,scaleX:s.x*l.scaleX,scaleY:s.y*l.scaleY}}function Uf(e){if(e.startsWith(`matrix3d(`)){let t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith(`matrix(`)){let t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}var Wf=(e=>(e[e.Idle=0]=`Idle`,e[e.Forward=1]=`Forward`,e[e.Reverse=-1]=`Reverse`,e))(Wf||{}),Gf={x:.2,y:.2},Kf={x:10,y:10};function qf(e,t,n,r=25,i=Gf,a=Kf){let{x:o,y:s}=t,{rect:c,isTop:l,isBottom:u,isLeft:d,isRight:f}=wf(e),p=Rf(e),m=Hf(jf(e,!0)),h=m===null?!1:m?.scaleX<0,g=m===null?!1:m?.scaleY<0,_=new Rc(c.left*p.scaleX+p.x,c.top*p.scaleY+p.y,c.width*p.scaleX,c.height*p.scaleY),v={x:0,y:0},y={x:0,y:0},b={height:_.height*i.y,width:_.width*i.x};return(!l||g&&!u)&&s<=_.top+b.height&&n?.y!==1&&o>=_.left-a.x&&o<=_.right+a.x?(v.y=g?1:-1,y.y=r*Math.abs((_.top+b.height-s)/b.height)):(!u||g&&!l)&&s>=_.bottom-b.height&&n?.y!==-1&&o>=_.left-a.x&&o<=_.right+a.x&&(v.y=g?-1:1,y.y=r*Math.abs((_.bottom-b.height-s)/b.height)),(!f||h&&!d)&&o>=_.right-b.width&&n?.x!==-1&&s>=_.top-a.y&&s<=_.bottom+a.y?(v.x=h?-1:1,y.x=r*Math.abs((_.right-b.width-o)/b.width)):(!d||h&&!f)&&o<=_.left+b.width&&n?.x!==1&&s>=_.top-a.y&&s<=_.bottom+a.y&&(v.x=h?1:-1,y.x=r*Math.abs((_.left+b.width-o)/b.width)),{direction:v,speed:y}}function Jf(e){return`scrollIntoViewIfNeeded`in e&&typeof e.scrollIntoViewIfNeeded==`function`}function Yf(e,t=!1){if(Jf(e)){e.scrollIntoViewIfNeeded(t);return}if(!Sd(e))return e.scrollIntoView();var n=Lf(e);if(!Sd(n))return;let r=jf(n,!0),i=parseInt(r.getPropertyValue(`border-top-width`)),a=parseInt(r.getPropertyValue(`border-left-width`)),o=e.offsetTop-n.offsetTop<n.scrollTop,s=e.offsetTop-n.offsetTop+e.clientHeight-i>n.scrollTop+n.clientHeight,c=e.offsetLeft-n.offsetLeft<n.scrollLeft,l=e.offsetLeft-n.offsetLeft+e.clientWidth-a>n.scrollLeft+n.clientWidth,u=o&&!s;(o||s)&&t&&(n.scrollTop=e.offsetTop-n.offsetTop-n.clientHeight/2-i+e.clientHeight/2),(c||l)&&t&&(n.scrollLeft=e.offsetLeft-n.offsetLeft-n.clientWidth/2-a+e.clientWidth/2),(o||s||c||l)&&!t&&e.scrollIntoView(u)}function Xf(e,t,n){let{scaleX:r,scaleY:i,x:a,y:o}=t,s=e.left+a+(1-r)*parseFloat(n),c=e.top+o+(1-i)*parseFloat(n.slice(n.indexOf(` `)+1)),l=r?e.width*r:e.width,u=i?e.height*i:e.height;return{width:l,height:u,top:c,right:s+l,bottom:c+u,left:s}}function Zf(e,t,n){let{scaleX:r,scaleY:i,x:a,y:o}=t,s=e.left-a-(1-r)*parseFloat(n),c=e.top-o-(1-i)*parseFloat(n.slice(n.indexOf(` `)+1)),l=r?e.width/r:e.width,u=i?e.height/i:e.height;return{width:l,height:u,top:c,right:s+l,bottom:c+u,left:s}}function Qf({element:e,keyframes:t,options:n}){return e.animate(t,n).finished}function $f(e,t=jf(e).translate,n=!0){if(n){let t=gd(e,e=>`translate`in e);if(t){let{translate:e=``}=t[0];if(typeof e==`string`){let t=Vf(e);if(t)return t}}}if(t){let e=Vf(t);if(e)return e}return{x:0,y:0,z:0}}var ep=new Ef(e=>setTimeout(e,0)),tp=new Map,np=tp.clear.bind(tp);function rp(e){let t=e.ownerDocument,n=tp.get(t);if(n)return n;n=t.getAnimations(),tp.set(t,n),ep.schedule(np);let r=n.filter(t=>hd(t.effect)&&t.effect.target===e);return tp.set(e,r),n}function ip(e,t){let n=rp(e).filter(e=>{if(hd(e.effect)){let{target:n}=e.effect;if((n&&t.isValidTarget?.call(t,n))??!0)return e.effect.getKeyframes().some(e=>{for(let n of t.properties)if(e[n])return!0})}}).map(e=>{let{effect:t,currentTime:n}=e,r=t?.getComputedTiming().duration;if(!(e.pending||e.playState===`finished`)&&typeof r==`number`&&typeof n==`number`&&n<r)return e.currentTime=r,()=>{e.currentTime=n}});if(n.length>0)return()=>n.forEach(e=>e?.())}var ap=class extends Rc{constructor(e,t={}){let{frameTransform:n=Rf(e),ignoreTransforms:r,getBoundingClientRect:i=_d}=t,a=ip(e,{properties:[`transform`,`translate`,`scale`,`width`,`height`],isValidTarget:t=>(t!==e||Md())&&t.contains(e)}),o=i(e),{top:s,left:c,width:l,height:u}=o,d,f=jf(e),p=Hf(f),m={x:p?.scaleX??1,y:p?.scaleY??1},h=op(e,f);a?.(),p&&(d=Zf(o,p,f.transformOrigin),(r||h)&&(s=d.top,c=d.left,l=d.width,u=d.height));let g={width:d?.width??l,height:d?.height??u};if(h&&!r&&d){let e=Xf(d,h,f.transformOrigin);s=e.top,c=e.left,l=e.width,u=e.height,m.x=h.scaleX,m.y=h.scaleY}n&&(r||(c*=n.scaleX,l*=n.scaleX,s*=n.scaleY,u*=n.scaleY),c+=n.x,s+=n.y),super(c,s,l,u),this.scale=m,this.intrinsicWidth=g.width,this.intrinsicHeight=g.height}};function op(e,t){let n=e.getAnimations(),r=null;if(!n.length)return null;for(let e of n){if(e.playState!==`running`)continue;let n=hd(e.effect)?e.effect.getKeyframes():[],i=n[n.length-1];if(!i)continue;let{transform:a,translate:o,scale:s}=i;if(a||o||s){let e=Hf({transform:typeof a==`string`&&a?a:t.transform,translate:typeof o==`string`&&o?o:t.translate,scale:typeof s==`string`&&s?s:t.scale});e&&(r=r?{x:r.x+e.x,y:r.y+e.y,z:r.z??e.z,scaleX:r.scaleX*e.scaleX,scaleY:r.scaleY*e.scaleY}:e)}}return r}function sp(e){return`style`in e&&typeof e.style==`object`&&e.style!==null&&`setProperty`in e.style&&`removeProperty`in e.style&&typeof e.style.setProperty==`function`&&typeof e.style.removeProperty==`function`}var cp=class{constructor(e){this.element=e,this.initial=new Map}set(e,t=``){let{element:n}=this;if(sp(n))for(let[r,i]of Object.entries(e)){let e=`${t}${r}`;this.initial.has(e)||this.initial.set(e,n.style.getPropertyValue(e)),n.style.setProperty(e,typeof i==`string`?i:`${i}px`)}}remove(e,t=``){let{element:n}=this;if(sp(n))for(let r of e){let e=`${t}${r}`;n.style.removeProperty(e)}}reset(){let{element:e}=this;if(sp(e)){for(let[t,n]of this.initial)e.style.setProperty(t,n);e.getAttribute(`style`)===``&&e.removeAttribute(`style`)}}};function lp(e){return e?e instanceof bd(e).Element||yd(e)&&e.nodeType===Node.ELEMENT_NODE:!1}function up(e){if(!e)return!1;let{KeyboardEvent:t}=bd(e.target);return e instanceof t}function dp(e){if(!e)return!1;let{PointerEvent:t}=bd(e.target);return e instanceof t}function fp(e){if(!lp(e))return!1;let{tagName:t}=e;return t===`INPUT`||t===`TEXTAREA`||pp(e)}function pp(e){return e.hasAttribute(`contenteditable`)&&e.getAttribute(`contenteditable`)!==`false`}var mp={};function hp(e){let t=mp[e]==null?0:mp[e]+1;return mp[e]=t,`${e}-${t}`}var gp=({dragOperation:e,droppable:t})=>{let n=e.position.current;if(!n)return null;let{id:r}=t;return t.shape&&t.shape.containsPoint(n)?{id:r,value:1/Lc.distance(t.shape.center,n),type:Vl.PointerIntersection,priority:Bl.High}:null},_p=({dragOperation:e,droppable:t})=>{let{shape:n}=e;if(!t.shape||!n?.current)return null;let r=n.current.intersectionArea(t.shape);if(r){let{position:i}=e,a=Lc.distance(t.shape.center,i.current),o=r/(n.current.area+t.shape.area-r)/a;return{id:t.id,value:o,type:Vl.ShapeIntersection,priority:Bl.Normal}}return null},vp=e=>gp(e)??_p(e),yp=e=>{let{dragOperation:t,droppable:n}=e,{shape:r,position:i}=t;if(!n.shape)return null;let a=r?Rc.from(r.current.boundingRectangle).corners:void 0,o=Rc.from(n.shape.boundingRectangle).corners.reduce((e,t,n)=>e+Lc.distance(Lc.from(t),a?.[n]??i.current),0)/4;return{id:n.id,value:1/o,type:Vl.Collision,priority:Bl.Normal}},bp=Object.create,xp=Object.defineProperty,Sp=Object.defineProperties,Cp=Object.getOwnPropertyDescriptor,wp=Object.getOwnPropertyDescriptors,Tp=Object.getOwnPropertySymbols,Ep=Object.prototype.hasOwnProperty,Dp=Object.prototype.propertyIsEnumerable,Op=(e,t)=>(t=Symbol[e])?t:Symbol.for(`Symbol.`+e),kp=e=>{throw TypeError(e)},Ap=(e,t,n)=>t in e?xp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,jp=(e,t)=>{for(var n in t||={})Ep.call(t,n)&&Ap(e,n,t[n]);if(Tp)for(var n of Tp(t))Dp.call(t,n)&&Ap(e,n,t[n]);return e},Mp=(e,t)=>Sp(e,wp(t)),Np=(e,t)=>xp(e,`name`,{value:t,configurable:!0}),Pp=(e,t)=>{var n={};for(var r in e)Ep.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Tp)for(var r of Tp(e))t.indexOf(r)<0&&Dp.call(e,r)&&(n[r]=e[r]);return n},Fp=e=>[,,,bp(e?.[Op(`metadata`)]??null)],Ip=[`class`,`method`,`getter`,`setter`,`accessor`,`field`,`value`,`get`,`set`],Lp=e=>e!==void 0&&typeof e!=`function`?kp(`Function expected`):e,Rp=(e,t,n,r,i)=>({kind:Ip[e],name:t,metadata:r,addInitializer:e=>n._?kp(`Already initialized`):i.push(Lp(e||null))}),zp=(e,t)=>Ap(t,Op(`metadata`),e[3]),Bp=(e,t,n,r)=>{for(var i=0,a=e[t>>1],o=a&&a.length;i<o;i++)t&1?a[i].call(n):r=a[i].call(n,r);return r},Vp=(e,t,n,r,i,a)=>{var o,s,c,l,u,d=t&7,f=!!(t&8),p=!!(t&16),m=d>3?e.length+1:d?f?1:2:0,h=Ip[d+5],g=d>3&&(e[m-1]=[]),_=e[m]||(e[m]=[]),v=d&&(!p&&!f&&(i=i.prototype),d<5&&(d>3||!p)&&Cp(d<4?i:{get[n](){return $(this,a)},set[n](e){return Gp(this,a,e)}},n));d?p&&d<4&&Np(a,(d>2?`set `:d>1?`get `:``)+n):Np(i,n);for(var y=r.length-1;y>=0;y--)l=Rp(d,n,c={},e[3],_),d&&(l.static=f,l.private=p,u=l.access={has:p?e=>Up(i,e):e=>n in e},d^3&&(u.get=p?e=>(d^1?$:Kp)(e,i,d^4?a:v.get):e=>e[n]),d>2&&(u.set=p?(e,t)=>Gp(e,i,t,d^4?a:v.set):(e,t)=>e[n]=t)),s=(0,r[y])(d?d<4?p?a:v[h]:d>4?void 0:{get:v.get,set:v.set}:i,l),c._=1,d^4||s===void 0?Lp(s)&&(d>4?g.unshift(s):d?p?a=s:v[h]=s:i=s):typeof s!=`object`||!s?kp(`Object expected`):(Lp(o=s.get)&&(v.get=o),Lp(o=s.set)&&(v.set=o),Lp(o=s.init)&&g.unshift(o));return d||zp(e,i),v&&xp(i,n,v),p?d^4?a:v:i},Hp=(e,t,n)=>t.has(e)||kp(`Cannot `+n),Up=(e,t)=>Object(t)===t?e.has(t):kp(`Cannot use the "in" operator on this value`),$=(e,t,n)=>(Hp(e,t,`read from private field`),n?n.call(e):t.get(e)),Wp=(e,t,n)=>t.has(e)?kp(`Cannot add the same private member more than once`):t instanceof WeakSet?t.add(e):t.set(e,n),Gp=(e,t,n,r)=>(Hp(e,t,`write to private field`),r?r.call(e,n):t.set(e,n),n),Kp=(e,t,n)=>(Hp(e,t,`access private method`),n),qp={role:`button`,roleDescription:`draggable`},Jp=`dnd-kit-description`,Yp=`dnd-kit-announcement`,Xp={draggable:`To pick up a draggable item, press the space bar. While dragging, use the arrow keys to move the item in a given direction. Press space again to drop the item in its new position, or press escape to cancel.`},Zp={dragstart({operation:{source:e}}){if(e)return`Picked up draggable item ${e.id}.`},dragover({operation:{source:e,target:t}}){if(!(!e||e.id===t?.id))return t?`Draggable item ${e.id} was moved over droppable target ${t.id}.`:`Draggable item ${e.id} is no longer over a droppable target.`},dragend({operation:{source:e,target:t},canceled:n}){if(e)return n?`Dragging was cancelled. Draggable item ${e.id} was dropped.`:t?`Draggable item ${e.id} was dropped over droppable target ${t.id}`:`Draggable item ${e.id} was dropped.`}};function Qp(e){let t=e.tagName.toLowerCase();return[`input`,`select`,`textarea`,`a`,`button`].includes(t)}function $p(e,t){let n=document.createElement(`div`);return n.id=e,n.style.setProperty(`display`,`none`),n.textContent=t,n}function em(e){let t=document.createElement(`div`);return t.id=e,t.setAttribute(`role`,`status`),t.setAttribute(`aria-live`,`polite`),t.setAttribute(`aria-atomic`,`true`),t.style.setProperty(`position`,`fixed`),t.style.setProperty(`width`,`1px`),t.style.setProperty(`height`,`1px`),t.style.setProperty(`margin`,`-1px`),t.style.setProperty(`border`,`0`),t.style.setProperty(`padding`,`0`),t.style.setProperty(`overflow`,`hidden`),t.style.setProperty(`clip`,`rect(0 0 0 0)`),t.style.setProperty(`clip-path`,`inset(100%)`),t.style.setProperty(`white-space`,`nowrap`),t}var tm=[`dragover`,`dragmove`],nm=class extends Dl{constructor(e,t){super(e);let{id:n,idPrefix:{description:r=Jp,announcement:i=Yp}={},announcements:a=Zp,screenReaderInstructions:o=Xp,debounce:s=500}=t??{},c=n?`${r}-${n}`:hp(r),l=n?`${i}-${n}`:hp(i),u,d,f,p,m=(e=p)=>{!f||!e||f?.nodeValue!==e&&(f.nodeValue=e)},h=()=>Df.schedule(m),g=rm(h,s),_=Object.entries(a).map(([e,t])=>this.manager.monitor.addEventListener(e,(n,r)=>{let i=f;if(!i)return;let a=t?.(n,r);a&&i.nodeValue!==a&&(p=a,tm.includes(e)?g():(h(),g.cancel()))})),v=()=>{let e=[];u?.isConnected||(u=$p(c,o.draggable),e.push(u)),d?.isConnected||(d=em(l),f=document.createTextNode(``),d.appendChild(f),e.push(d)),e.length>0&&document.body.append(...e)},y=new Set;function b(){for(let e of y)e()}this.registerEffect(()=>{y.clear();for(let e of this.manager.registry.draggables.value){let t=e.handle??e.element;if(t){(!u||!d)&&y.add(v),(!Qp(t)||Md())&&!t.hasAttribute(`tabindex`)&&y.add(()=>t.setAttribute(`tabindex`,`0`)),!t.hasAttribute(`role`)&&t.tagName.toLowerCase()!==`button`&&y.add(()=>t.setAttribute(`role`,qp.role)),t.hasAttribute(`aria-roledescription`)||y.add(()=>t.setAttribute(`aria-roledescription`,qp.roleDescription)),t.hasAttribute(`aria-describedby`)||y.add(()=>t.setAttribute(`aria-describedby`,c));for(let n of[`aria-pressed`,`aria-grabbed`]){let r=String(e.isDragging);t.getAttribute(n)!==r&&y.add(()=>t.setAttribute(n,r))}let n=String(e.disabled);t.getAttribute(`aria-disabled`)!==n&&y.add(()=>t.setAttribute(`aria-disabled`,n))}}y.size>0&&Df.schedule(b)}),this.destroy=()=>{super.destroy(),u?.remove(),d?.remove(),_.forEach(e=>e())}}};function rm(e,t){let n,r=()=>{clearTimeout(n),n=setTimeout(e,t)};return r.cancel=()=>clearTimeout(n),r}var im=class extends Dl{constructor(e,t){super(e,t),this.manager=e;let n=Ls(()=>wd(this.manager.dragOperation.source?.element));this.destroy=ls(()=>{let{dragOperation:e}=this.manager,{cursor:t=`grabbing`,nonce:r}=this.options??{};if(e.status.initialized){let e=n.value,i=e.createElement(`style`);return r&&i.setAttribute(`nonce`,r),i.textContent=`* { cursor: ${t} !important; }`,e.head.appendChild(i),()=>i.remove()}})}},am=`data-dnd-`,om=`${am}dropping`,sm=`--dnd-`,cm=`${am}dragging`,lm=`${am}placeholder`,um=[cm,lm,`popover`,`aria-pressed`,`aria-grabbing`],dm=[`view-transition-name`],fm=`
  :root [${cm}] {
    position: fixed !important;
    pointer-events: none !important;
    touch-action: none;
    z-index: calc(infinity);
    will-change: translate;
    top: var(${sm}top, 0px) !important;
    left: var(${sm}left, 0px) !important;
    right: unset !important;
    bottom: unset !important;
    width: var(${sm}width, auto);
    max-width: var(${sm}width, auto);
    height: var(${sm}height, auto);
    max-height: var(${sm}height, auto);
    transition: var(${sm}transition) !important;
  }

  :root [${lm}] {
    transition: none;
  }

  :root [${lm}='hidden'] {
    visibility: hidden;
  }

  [${cm}] * {
    pointer-events: none !important;
  }

  [${cm}]:not([${om}]) {
    translate: var(${sm}translate) !important;
  }

  [${cm}][style*='${sm}scale'] {
    scale: var(${sm}scale) !important;
    transform-origin: var(${sm}transform-origin) !important;
  }

  @layer {
    :where([${cm}][popover]) {
      overflow: visible;
      background: unset;
      border: unset;
      margin: unset;
      padding: unset;
      color: inherit;

      &:is(input, button) {
        border: revert;
        background: revert;
      }
    }
  }
  [${cm}]::backdrop, [${am}overlay]:not([${cm}]) {
    display: none;
    visibility: hidden;
  }
`.replace(/\n+/g,` `).replace(/\s+/g,` `).trim();function pm(e,t=`hidden`){return q(()=>{let{element:n,manager:r}=e;if(!n||!r)return;let i=mm(n,r.registry.droppables),a=[],o=Nd(n),{remove:s}=o;return hm(i,o,a),gm(o,t),o.remove=()=>{a.forEach(e=>e()),s.call(o)},o})}function mm(e,t){let n=new Map;for(let r of t)if(r.element&&(e===r.element||e.contains(r.element))){let e=`${am}${hp(`dom-id`)}`;r.element.setAttribute(e,``),n.set(r,e)}return n}function hm(e,t,n){for(let[r,i]of e){if(!r.element)continue;let e=`[${i}]`,a=t.matches(e)?t:t.querySelector(e);if(r.element.removeAttribute(i),!a)continue;let o=r.element;r.proxy=a,a.removeAttribute(i),Rd.set(o,a),n.push(()=>{Rd.delete(o),r.proxy=void 0})}}function gm(e,t=`hidden`){e.setAttribute(`inert`,`true`),e.setAttribute(`tab-index`,`-1`),e.setAttribute(`aria-hidden`,`true`),e.setAttribute(lm,t)}function _m(e,t){return e===t?!0:Vd(e)===Vd(t)}function vm(e){let{target:t}=e;`newState`in e&&e.newState===`closed`&&lp(t)&&t.hasAttribute(`popover`)&&requestAnimationFrame(()=>Sf(t))}function ym(e){return e.tagName===`TR`}var bm=new Map,xm,Sm,Cm,wm,Tm,Em,Dm,Om=class extends (Sm=Dl,xm=[J],Sm){constructor(e,t){super(e,t),Wp(this,Tm),Wp(this,wm,Bp(Cm,8,this)),Bp(Cm,11,this),this.state={initial:{},current:{}},this.registerEffect(Kp(this,Tm,Dm)),this.registerEffect(Kp(this,Tm,Em))}destroy(){super.destroy();for(let[e,t]of bm.entries())t.instances.has(this)&&(t.instances.delete(this),t.instances.size===0&&(t.cleanup(),bm.delete(e)))}};Cm=Fp(Sm),wm=new WeakMap,Tm=new WeakSet,Em=function(){let{state:e,manager:t,options:n}=this,{dragOperation:r}=t,{position:i,source:a,status:o}=r;if(o.idle){e.current={},e.initial={};return}if(!a)return;let{element:s,feedback:c}=a;if(!s||c===`none`||!o.initialized||o.initializing)return;let{initial:l}=e,u=this.overlay??s,d=Rf(u),f=Rf(s),p=!_m(s,u),m=new ap(s,{frameTransform:p?f:null,ignoreTransforms:!p}),h={x:f.scaleX/d.scaleX,y:f.scaleY/d.scaleY},{width:g,height:_,top:v,left:y}=m;p&&(g/=h.x,_/=h.y);let b,x,S=new cp(u),{transition:C,translate:w,boxSizing:T,paddingBlockStart:E,paddingBlockEnd:D,paddingInlineStart:O,paddingInlineEnd:ee,borderInlineStartWidth:te,borderInlineEndWidth:k,borderBlockStartWidth:ne,borderBlockEndWidth:re}=jf(s),ie=c===`clone`,ae=T===`content-box`,oe=ae?parseInt(O)+parseInt(ee)+parseInt(te)+parseInt(k):0,se=ae?parseInt(E)+parseInt(D)+parseInt(ne)+parseInt(re):0,A=c!==`move`&&!this.overlay?pm(a,ie?`clone`:`hidden`):null,j=q(()=>up(t.dragOperation.activatorEvent));if(w!==`none`){let e=Vf(w);e&&!l.translate&&(l.translate=e)}if(!l.transformOrigin){let e=q(()=>i.current);l.transformOrigin={x:(e.x-y*d.scaleX-d.x)/(g*d.scaleX),y:(e.y-v*d.scaleY-d.y)/(_*d.scaleY)}}let{transformOrigin:M}=l,ce=v*d.scaleY+d.y,N=y*d.scaleX+d.x;if(!l.coordinates&&(l.coordinates={x:N,y:ce},h.x!==1||h.y!==1)){let{scaleX:e,scaleY:t}=f,{x:n,y:r}=M;l.coordinates.x+=(g*e-g)*n,l.coordinates.y+=(_*t-_)*r}l.dimensions||={width:g,height:_},l.frameTransform||=d;let P={x:l.coordinates.x-N,y:l.coordinates.y-ce},le={width:(l.dimensions.width*l.frameTransform.scaleX-g*d.scaleX)*M.x,height:(l.dimensions.height*l.frameTransform.scaleY-_*d.scaleY)*M.y},ue={x:P.x/d.scaleX+le.width,y:P.y/d.scaleY+le.height},de={left:y+ue.x,top:v+ue.y};u.setAttribute(cm,`true`);let fe=q(()=>r.transform),pe=l.translate??{x:0,y:0},me=`${fe.x*d.scaleX+pe.x}px ${fe.y*d.scaleY+pe.y}px 0`,he=C?`${C}, translate 0ms linear`:``;S.set({width:g-oe,height:_-se,top:de.top,left:de.left,translate:me,transition:he,scale:p?`${h.x} ${h.y}`:``,"transform-origin":`${M.x*100}% ${M.y*100}%`},sm),A&&(s.insertAdjacentElement(`afterend`,A),n?.rootElement&&(typeof n.rootElement==`function`?n.rootElement(a):n.rootElement).appendChild(s)),xf(u)&&(u.hasAttribute(`popover`)||u.setAttribute(`popover`,`manual`),Sf(u),u.addEventListener(`beforetoggle`,vm));let ge=new ResizeObserver(()=>{if(!A)return;let e=new ap(A,{frameTransform:d,ignoreTransforms:!0}),t=M??{x:1,y:1},n=(g-e.width)*t.x+ue.x,i=(_-e.height)*t.y+ue.y;if(S.set({width:e.width-oe,height:e.height-se,top:v+i,left:y+n},sm),b?.takeRecords(),ym(s)&&ym(A)){let e=Array.from(s.cells),t=Array.from(A.cells);for(let[n,r]of e.entries()){let e=t[n];r.style.width=`${e.offsetWidth}px`}}r.shape=new ap(u)}),_e=new ap(u);q(()=>r.shape=_e);let ve=bd(u),ye=e=>{this.manager.actions.stop({event:e})};j&&ve.addEventListener(`resize`,ye),q(()=>a.status)===`idle`&&requestAnimationFrame(()=>a.status=`dragging`),A&&(ge.observe(A),b=new MutationObserver(e=>{let t=!1;for(let n of e){if(n.target!==s){t=!0;continue}if(n.type!==`attributes`)continue;let e=n.attributeName;if(e.startsWith(`aria-`)||um.includes(e))continue;let r=s.getAttribute(e);if(e===`style`){if(sp(s)&&sp(A)){let e=s.style;for(let t of Array.from(A.style))e.getPropertyValue(t)===``&&A.style.removeProperty(t);for(let t of Array.from(e)){if(dm.includes(t)||t.startsWith(sm))continue;let n=e.getPropertyValue(t);A.style.setProperty(t,n)}}}else r===null?A.removeAttribute(e):A.setAttribute(e,r)}t&&ie&&(A.innerHTML=s.innerHTML)}),b.observe(s,{attributes:!0,subtree:!0,childList:!0}),x=new MutationObserver(e=>{for(let t of e)if(t.addedNodes.length!==0)for(let e of Array.from(t.addedNodes)){if(e.contains(s)&&s.nextElementSibling!==A){s.insertAdjacentElement(`afterend`,A),Sf(u);return}if(e.contains(A)&&A.previousElementSibling!==s){A.insertAdjacentElement(`beforebegin`,s),Sf(u);return}}}),x.observe(s.ownerDocument.body,{childList:!0,subtree:!0}));let be=t.dragOperation.source?.id,xe=()=>{if(!j||be==null)return;let e=t.registry.draggables.get(be),n=e?.handle??e?.element;Sd(n)&&n.focus()},Se=()=>{b?.disconnect(),x?.disconnect(),ge.disconnect(),ve.removeEventListener(`resize`,ye),xf(u)&&(u.removeEventListener(`beforetoggle`,vm),u.removeAttribute(`popover`)),u.removeAttribute(cm),S.reset(),a.status=`idle`;let t=e.current.translate!=null;A&&(t||A.parentElement!==u.parentElement)&&u.isConnected&&A.replaceWith(u),A?.remove()},Ce=Vs(()=>{let{transform:t,status:n}=r;if(!(!t.x&&!t.y&&!e.current.translate)&&n.dragging){let n=l.translate??{x:0,y:0},i={x:t.x/d.scaleX+n.x,y:t.y/d.scaleY+n.y},a=e.current.translate,o=q(()=>r.modifiers),s=q(()=>r.shape?.current),c=j?`250ms cubic-bezier(0.25, 1, 0.5, 1)`:`0ms linear`;if(S.set({transition:`${C}, translate ${c}`,translate:`${i.x}px ${i.y}px 0`},sm),b?.takeRecords(),s&&s!==_e&&a&&!o.length){let e=Lc.delta(i,a);r.shape=Rc.from(s.boundingRectangle).translate(e.x*d.scaleX,e.y*d.scaleY)}else r.shape=new ap(u);e.current.translate=i}},function(){if(r.status.dropped){this.dispose(),a.status=`dropping`;let n=e.current.translate,r=n!=null;if(!n&&s!==u&&(n={x:0,y:0}),!n){Se();return}t.renderer.rendering.then(()=>{{Sf(u);let[,e]=gd(u,e=>`translate`in e)??[];e?.pause();let t=A??s,i={frameTransform:_m(u,t)?null:void 0},o=new ap(u,i),c=Vf(jf(u).translate)??n,l=new ap(t,i),d=Rc.delta(o,l,a.alignment),f={x:c.x-d.x,y:c.y-d.y},p=Math.round(o.intrinsicHeight)===Math.round(l.intrinsicHeight)?{}:{minHeight:[`${o.intrinsicHeight}px`,`${l.intrinsicHeight}px`],maxHeight:[`${o.intrinsicHeight}px`,`${l.intrinsicHeight}px`]},m=Math.round(o.intrinsicWidth)===Math.round(l.intrinsicWidth)?{}:{minWidth:[`${o.intrinsicWidth}px`,`${l.intrinsicWidth}px`],maxWidth:[`${o.intrinsicWidth}px`,`${l.intrinsicWidth}px`]};S.set({transition:C},sm),u.setAttribute(om,``),b?.takeRecords(),Qf({element:u,keyframes:Mp(jp(jp({},p),m),{translate:[`${c.x}px ${c.y}px 0`,`${f.x}px ${f.y}px 0`]}),options:{duration:r||u!==s?250:0,easing:`ease`}}).then(()=>{u.removeAttribute(om),e?.finish(),Se(),requestAnimationFrame(xe)})}})}});return()=>{Se(),Ce()}},Dm=function(){let{status:e,source:t,target:n}=this.manager.dragOperation,{nonce:r}=this.options??{};if(e.initializing){let e=wd(t?.element??null),i=wd(n?.element??null),a=new Set([e,i]);for(let e of a){let t=bm.get(e);if(!t){let n=document.createElement(`style`);n.textContent=fm,r&&n.setAttribute(`nonce`,r),e.head.prepend(n);let i=new MutationObserver(t=>{for(let r of t)if(r.type===`childList`){let t=Array.from(r.removedNodes);t.length>0&&t.includes(n)&&e.head.prepend(n)}});i.observe(e.head,{childList:!0}),t={cleanup:()=>{i.disconnect(),n.remove()},instances:new Set},bm.set(e,t)}t.instances.add(this)}}},Vp(Cm,4,`overlay`,xm,Om,wm),zp(Cm,Om),Om.configure=xl(Om);var km=Om,Am=!0,jm=!1,Mm,Nm,Pm,Fm=(Pm=[J],Wf.Forward),Im,Lm,Rm;Nm=(Mm=[J],Wf.Reverse);var zm=class{constructor(){Wp(this,Lm,Bp(Im,8,this,Am)),Bp(Im,11,this),Wp(this,Rm,Bp(Im,12,this,Am)),Bp(Im,15,this)}isLocked(e){return e===Wf.Idle?!1:e==null?this[Wf.Forward]===Am&&this[Wf.Reverse]===Am:this[e]===Am}unlock(e){e!==Wf.Idle&&(this[e]=jm)}};Im=Fp(null),Lm=new WeakMap,Rm=new WeakMap,Vp(Im,4,Fm,Pm,zm,Lm),Vp(Im,4,Nm,Mm,zm,Rm),zp(Im,zm);var Bm=[Wf.Forward,Wf.Reverse],Vm=class{constructor(){this.x=new zm,this.y=new zm}isLocked(){return this.x.isLocked()&&this.y.isLocked()}},Hm=class extends Dl{constructor(e){super(e);let t=$o(new Vm),n=null;this.signal=t,ls(()=>{let{status:r}=e.dragOperation;if(!r.initialized){n=null,t.value=new Vm;return}let{delta:i}=e.dragOperation.position;if(n){let e={x:Um(i.x,n.x),y:Um(i.y,n.y)},r=t.peek();Ko(()=>{for(let t of Jc)for(let n of Bm)e[t]===n&&r[t].unlock(n);t.value=r})}n=i})}get current(){return this.signal.peek()}};function Um(e,t){return Math.sign(e-t)}var Wm,Gm,Km,qm,Jm,Ym,Xm=class extends (Gm=Ol,Wm=[J],Gm){constructor(e){super(e),Wp(this,qm,Bp(Km,8,this,!1)),Bp(Km,11,this),Wp(this,Jm),Wp(this,Ym,()=>{if(!$(this,Jm))return;let{element:e,by:t}=$(this,Jm);t.y&&(e.scrollTop+=t.y),t.x&&(e.scrollLeft+=t.x)}),this.scroll=e=>{if(this.disabled)return!1;let t=this.getScrollableElements();if(!t)return Gp(this,Jm,void 0),!1;let{position:n}=this.manager.dragOperation,r=n?.current;if(r){let{by:n}=e??{},i=n?{x:Zm(n.x),y:Zm(n.y)}:void 0,a=i?void 0:this.scrollIntentTracker.current;if(a?.isLocked())return!1;for(let e of t){let t=Tf(e,n);if(t.x||t.y){let{speed:t,direction:o}=qf(e,r,i);if(a)for(let e of Jc)a[e].isLocked(o[e])&&(t[e]=0,o[e]=0);if(o.x||o.y){let{x:r,y:i}=n??o,a=r*t.x,s=i*t.y;if(a||s){let t=$(this,Jm)?.by;if(this.autoScrolling&&t&&(t.x&&!a||t.y&&!s))continue;return Gp(this,Jm,{element:e,by:{x:a,y:s}}),Df.schedule($(this,Ym)),!0}}}}}return Gp(this,Jm,void 0),!1};let t=null,n=null,r=Ls(()=>{let{position:n,source:r}=e.dragOperation;if(!n)return null;let i=Id(wd(r?.element),n.current);return i&&(t=i),i??t}),i=Ls(()=>{let t=r.value,{documentElement:i}=wd(t);if(!t||t===i){let{target:t}=e.dragOperation,r=t?.element;if(r){let e=If(r,{excludeElement:!1});return n=e,e}}if(t){let e=If(t,{excludeElement:!1});return this.autoScrolling&&n&&e.size<n?.size?n:(n=e,e)}return n=null,null},Rs);this.getScrollableElements=()=>i.value,this.scrollIntentTracker=new Hm(e),this.destroy=e.monitor.addEventListener(`dragmove`,t=>{this.disabled||t.defaultPrevented||!up(e.dragOperation.activatorEvent)||!t.by||this.scroll({by:t.by})&&t.preventDefault()})}};Km=Fp(Gm),qm=new WeakMap,Jm=new WeakMap,Ym=new WeakMap,Vp(Km,4,`autoScrolling`,Wm,Xm,qm),zp(Km,Xm);function Zm(e){return e>0?Wf.Forward:e<0?Wf.Reverse:Wf.Idle}var Qm=new class{constructor(e){this.scheduler=e,this.pending=!1,this.tasks=new Set,this.resolvers=new Set,this.flush=()=>{let{tasks:e,resolvers:t}=this;this.pending=!1,this.tasks=new Set,this.resolvers=new Set;for(let t of e)t();for(let e of t)e()}}schedule(e){return this.tasks.add(e),this.pending||(this.pending=!0,this.scheduler(this.flush)),new Promise(e=>this.resolvers.add(e))}}(e=>{typeof requestAnimationFrame==`function`?requestAnimationFrame(e):e()}),$m=10,eh=class extends Dl{constructor(e,t){super(e);let n=e.registry.plugins.get(Xm);if(!n)throw Error(`AutoScroller plugin depends on Scroller plugin`);this.destroy=ls(()=>{if(this.disabled)return;let{position:t,status:r}=e.dragOperation;if(r.dragging)if(n.scroll()){n.autoScrolling=!0;let e=setInterval(()=>Qm.schedule(n.scroll),$m);return()=>{clearInterval(e)}}else n.autoScrolling=!1})}},th={capture:!0,passive:!0},nh,rh=class extends Ol{constructor(e){super(e),Wp(this,nh),this.handleScroll=()=>{$(this,nh)??Gp(this,nh,setTimeout(()=>{this.manager.collisionObserver.forceUpdate(!1),Gp(this,nh,void 0)},50))};let{dragOperation:t}=this.manager;this.destroy=ls(()=>{if(t.status.dragging){let e=t.source?.element?.ownerDocument??document;return e.addEventListener(`scroll`,this.handleScroll,th),()=>{e.removeEventListener(`scroll`,this.handleScroll,th)}}})}};nh=new WeakMap;var ih=class extends Dl{constructor(e,t){super(e,t),this.manager=e,this.destroy=ls(()=>{let{dragOperation:e}=this.manager,{nonce:t}=this.options??{};if(e.status.initialized){let e=document.createElement(`style`);return t&&e.setAttribute(`nonce`,t),e.textContent=`* { user-select: none !important; -webkit-user-select: none !important; }`,document.head.appendChild(e),ah(),document.addEventListener(`selectionchange`,ah,{capture:!0}),()=>{document.removeEventListener(`selectionchange`,ah,{capture:!0}),e.remove()}}})}};function ah(){var e;(e=document.getSelection())==null||e.removeAllRanges()}var oh=Object.freeze({offset:10,keyboardCodes:{start:[`Space`,`Enter`],cancel:[`Escape`],end:[`Space`,`Enter`,`Tab`],up:[`ArrowUp`],down:[`ArrowDown`],left:[`ArrowLeft`],right:[`ArrowRight`]},preventActivation(e,t){let n=t.handle??t.element;return e.target!==n}}),sh,ch=class extends Iu{constructor(e,t){super(e),this.manager=e,this.options=t,Wp(this,sh,[]),this.listeners=new Bd,this.handleSourceKeyDown=(e,t,n)=>{if(this.disabled||e.defaultPrevented||!lp(e.target)||t.disabled)return;let{keyboardCodes:r=oh.keyboardCodes,preventActivation:i=oh.preventActivation}=n??{};r.start.includes(e.code)&&this.manager.dragOperation.status.idle&&(i?.(e,t)||this.handleStart(e,t,n))}}bind(e,t=this.options){return ls(()=>{let n=e.handle??e.element,r=n=>{up(n)&&this.handleSourceKeyDown(n,e,t)};if(n)return n.addEventListener(`keydown`,r),()=>{n.removeEventListener(`keydown`,r)}})}handleStart(e,t,n){let{element:r}=t;if(!r)throw Error(`Source draggable does not have an associated element`);e.preventDefault(),e.stopImmediatePropagation(),Yf(r);let{center:i}=new ap(r);if(this.manager.actions.start({event:e,coordinates:{x:i.x,y:i.y},source:t}).signal.aborted)return this.cleanup();this.sideEffects();let a=wd(r),o=[this.listeners.bind(a,[{type:`keydown`,listener:e=>this.handleKeyDown(e,t,n),options:{capture:!0}}])];$(this,sh).push(...o)}handleKeyDown(e,t,n){let{keyboardCodes:r=oh.keyboardCodes}=n??{};if(uh(e,[...r.end,...r.cancel])){e.preventDefault();let t=uh(e,r.cancel);this.handleEnd(e,t);return}uh(e,r.up)?this.handleMove(`up`,e):uh(e,r.down)&&this.handleMove(`down`,e),uh(e,r.left)?this.handleMove(`left`,e):uh(e,r.right)&&this.handleMove(`right`,e)}handleEnd(e,t){this.manager.actions.stop({event:e,canceled:t}),this.cleanup()}handleMove(e,t){let{shape:n}=this.manager.dragOperation,r=t.shiftKey?5:1,i={x:0,y:0},a=this.options?.offset??oh.offset;if(typeof a==`number`&&(a={x:a,y:a}),n){switch(e){case`up`:i={x:0,y:-a.y*r};break;case`down`:i={x:0,y:a.y*r};break;case`left`:i={x:-a.x*r,y:0};break;case`right`:i={x:a.x*r,y:0};break}(i.x||i.y)&&(t.preventDefault(),this.manager.actions.move({event:t,by:i}))}}sideEffects(){let e=this.manager.registry.plugins.get(eh);e?.disabled===!1&&(e.disable(),$(this,sh).push(()=>{e.enable()}))}cleanup(){$(this,sh).forEach(e=>e()),Gp(this,sh,[])}destroy(){this.cleanup(),this.listeners.clear()}};sh=new WeakMap,ch.configure=xl(ch),ch.defaults=oh;var lh=ch;function uh(e,t){return t.includes(e.code)}var dh,fh=class extends zu{constructor(){super(...arguments),Wp(this,dh)}onEvent(e){switch(e.type){case`pointerdown`:Gp(this,dh,kd(e));break;case`pointermove`:if(!$(this,dh))return;let{x:t,y:n}=kd(e),r={x:t-$(this,dh).x,y:n-$(this,dh).y},{tolerance:i}=this.options;if(i&&Kc(r,i)){this.abort();return}Kc(r,this.options.value)&&this.activate(e);break;case`pointerup`:this.abort();break}}abort(){Gp(this,dh,void 0)}};dh=new WeakMap;var ph,mh,hh=class extends zu{constructor(){super(...arguments),Wp(this,ph),Wp(this,mh)}onEvent(e){switch(e.type){case`pointerdown`:Gp(this,mh,kd(e)),Gp(this,ph,setTimeout(()=>this.activate(e),this.options.value));break;case`pointermove`:if(!$(this,mh))return;let{x:t,y:n}=kd(e);Kc({x:t-$(this,mh).x,y:n-$(this,mh).y},this.options.tolerance)&&this.abort();break;case`pointerup`:this.abort();break}}abort(){$(this,ph)&&(clearTimeout($(this,ph)),Gp(this,mh,void 0),Gp(this,ph,void 0))}};ph=new WeakMap,mh=new WeakMap;var gh=class{};gh.Delay=hh,gh.Distance=fh;var _h=Object.freeze({activationConstraints(e,t){let{pointerType:n,target:r}=e;if(!(n===`mouse`&&lp(r)&&(t.handle===r||t.handle?.contains(r))))return n===`touch`?[new gh.Delay({value:250,tolerance:5})]:fp(r)&&!e.defaultPrevented?[new gh.Delay({value:200,tolerance:0})]:[new gh.Delay({value:200,tolerance:10}),new gh.Distance({value:5})]},preventActivation(e,t){let{target:n}=e;return n===t.element||n===t.handle||!lp(n)||t.handle?.contains(n)?!1:zd(n)}}),vh,yh=class extends Iu{constructor(e,t){super(e),this.manager=e,this.options=t,Wp(this,vh,new Set),this.listeners=new Bd,this.latest={event:void 0,coordinates:void 0},this.handleMove=()=>{let{event:e,coordinates:t}=this.latest;!e||!t||this.manager.actions.move({event:e,to:t})},this.handleCancel=this.handleCancel.bind(this),this.handlePointerUp=this.handlePointerUp.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this)}activationConstraints(e,t,n=this.options){let{activationConstraints:r=_h.activationConstraints}=n??{};return typeof r==`function`?r(e,t):r}bind(e,t=this.options){return ls(()=>{let n=new AbortController,{signal:r}=n,i=n=>{dp(n)&&this.handlePointerDown(n,e,t)},a=[e.handle??e.element];t?.activatorElements&&(a=Array.isArray(t.activatorElements)?t.activatorElements:t.activatorElements(e));for(let e of a)e&&(Th(e.ownerDocument.defaultView),e.addEventListener(`pointerdown`,i,{signal:r}));return()=>n.abort()})}handlePointerDown(e,t,n){if(this.disabled||!e.isPrimary||e.button!==0||!lp(e.target)||t.disabled||xh(e)||!this.manager.dragOperation.status.idle)return;let{preventActivation:r=_h.preventActivation}=n??{};if(r?.(e,t))return;let{target:i}=e,a=Sd(i)&&i.draggable&&i.getAttribute(`draggable`)===`true`,o=Rf(t.element),{x:s,y:c}=kd(e);this.initialCoordinates={x:s*o.scaleX+o.x,y:c*o.scaleY+o.y};let l=this.activationConstraints(e,t,n);e.sensor=this;let u=new Lu(l,e=>this.handleStart(t,e));u.signal.onabort=()=>this.handleCancel(e),u.onEvent(e),this.controller=u;let d=jd(),f=this.listeners.bind(d,[{type:`pointermove`,listener:e=>this.handlePointerMove(e,t)},{type:`pointerup`,listener:this.handlePointerUp,options:{capture:!0}},{type:`dragstart`,listener:a?this.handleCancel:Sh,options:{capture:!0}}]);$(this,vh).add(()=>{f(),this.initialCoordinates=void 0})}handlePointerMove(e,t){var n;if(this.controller?.activated===!1){(n=this.controller)==null||n.onEvent(e);return}if(this.manager.dragOperation.status.dragging){let n=kd(e),r=Rf(t.element);n.x=n.x*r.scaleX+r.x,n.y=n.y*r.scaleY+r.y,e.preventDefault(),e.stopPropagation(),this.latest.event=e,this.latest.coordinates=n,Df.schedule(this.handleMove)}}handlePointerUp(e){let{status:t}=this.manager.dragOperation;if(!t.idle){e.preventDefault(),e.stopPropagation();let n=!t.initialized;this.manager.actions.stop({event:e,canceled:n})}this.cleanup()}handleKeyDown(e){e.key===`Escape`&&(e.preventDefault(),this.handleCancel(e))}handleStart(e,t){let{manager:n,initialCoordinates:r}=this;if(!r||!n.dragOperation.status.idle||t.defaultPrevented)return;if(n.actions.start({coordinates:r,event:t,source:e}).signal.aborted)return this.cleanup();t.preventDefault();let i=wd(t.target);i.body.setPointerCapture(t.pointerId);let a=lp(t.target)?[t.target,i.body]:i.body,o=this.listeners.bind(a,[{type:`touchmove`,listener:Sh,options:{passive:!1}},{type:`click`,listener:Sh},{type:`contextmenu`,listener:Sh},{type:`keydown`,listener:this.handleKeyDown}]);$(this,vh).add(o)}handleCancel(e){let{dragOperation:t}=this.manager;t.status.initialized&&this.manager.actions.stop({event:e,canceled:!0}),this.cleanup()}cleanup(){this.latest={event:void 0,coordinates:void 0},$(this,vh).forEach(e=>e()),$(this,vh).clear()}destroy(){this.cleanup(),this.listeners.clear()}};vh=new WeakMap,yh.configure=xl(yh),yh.defaults=_h;var bh=yh;function xh(e){return`sensor`in e}function Sh(e){e.preventDefault()}function Ch(){}var wh=new WeakSet;function Th(e){!e||wh.has(e)||(e.addEventListener(`touchmove`,Ch,{capture:!1,passive:!1}),wh.add(e))}var Eh={modifiers:[],plugins:[nm,eh,im,km,ih],sensors:[bh,lh]},Dh=class extends ld{constructor(e={}){let{plugins:t=Eh.plugins,sensors:n=Eh.sensors,modifiers:r=[]}=e;super(Mp(jp({},e),{plugins:[rh,Xm,...t],sensors:n,modifiers:r}))}},Oh,kh,Ah,jh,Mh,Nh,Ph,Fh,Ih=class extends (jh=xu,Ah=[J],kh=[J],Oh=[J],jh){constructor(e,t){var n=e,{element:r,effects:i=()=>[],handle:a,feedback:o=`default`}=n,s=Pp(n,[`element`,`effects`,`handle`,`feedback`]);super(jp({effects:()=>[...i(),()=>{let{manager:e}=this;if(!e)return;let t=(this.sensors?.map(Sl)??[...e.sensors]).map(t=>{let n=t instanceof Iu?t:e.registry.register(t.plugin),r=t instanceof Iu?void 0:t.options;return n.bind(this,r)});return function(){t.forEach(e=>e())}}]},s),t),Wp(this,Nh,Bp(Mh,8,this)),Bp(Mh,11,this),Wp(this,Ph,Bp(Mh,12,this)),Bp(Mh,15,this),Wp(this,Fh,Bp(Mh,16,this)),Bp(Mh,19,this),this.element=r,this.handle=a,this.feedback=o}};Mh=Fp(jh),Nh=new WeakMap,Ph=new WeakMap,Fh=new WeakMap,Vp(Mh,4,`handle`,Ah,Ih,Nh),Vp(Mh,4,`element`,kh,Ih,Ph),Vp(Mh,4,`feedback`,Oh,Ih,Fh),zp(Mh,Ih);var Lh,Rh,zh,Bh,Vh,Hh,Uh,Wh,Gh,Kh,qh=class extends (zh=Fu,Rh=[J],Lh=[J],zh){constructor(e,t){var n=e,{element:r,effects:i=()=>[]}=n,a=Pp(n,[`element`,`effects`]);let{collisionDetector:o=vp}=a,s=e=>{let{manager:t,element:n}=this;if(!n||e===null){this.shape=void 0;return}if(!t)return;let r=new ap(n),i=q(()=>this.shape);return r&&i?.equals(r)?i:(this.shape=r,r)},c=$o(!1);super(Mp(jp({},a),{collisionDetector:o,effects:()=>[...i(),()=>{let{element:e,manager:t}=this;if(!t)return;let{dragOperation:n}=t,{source:r}=n;c.value=!!(r&&n.status.initialized&&e&&!this.disabled&&this.accepts(r))},()=>{let{element:e}=this;if(c.value&&e){let t=new bf(e,s);return()=>{t.disconnect(),this.shape=void 0}}},()=>{if(this.manager?.dragOperation.status.initialized)return()=>{this.shape=void 0}}]}),t),Wp(this,Gh),Wp(this,Vh,Bp(Bh,8,this)),Bp(Bh,11,this),Wp(this,Kh,Bp(Bh,12,this)),Bp(Bh,15,this),this.element=r,this.refreshShape=()=>s()}set element(e){Gp(this,Gh,e,Wh)}get element(){return this.proxy??$(this,Gh,Uh)}};Bh=Fp(zh),Vh=new WeakMap,Gh=new WeakSet,Kh=new WeakMap,Hh=Vp(Bh,20,`#element`,Rh,Gh,Vh),Uh=Hh.get,Wh=Hh.set,Vp(Bh,4,`proxy`,Lh,qh,Kh),zp(Bh,qh);var Jh=Object.create,Yh=Object.defineProperty,Xh=Object.defineProperties,Zh=Object.getOwnPropertyDescriptor,Qh=Object.getOwnPropertyDescriptors,$h=Object.getOwnPropertySymbols,eg=Object.prototype.hasOwnProperty,tg=Object.prototype.propertyIsEnumerable,ng=(e,t)=>(t=Symbol[e])?t:Symbol.for(`Symbol.`+e),rg=e=>{throw TypeError(e)},ig=(e,t,n)=>t in e?Yh(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ag=(e,t)=>{for(var n in t||={})eg.call(t,n)&&ig(e,n,t[n]);if($h)for(var n of $h(t))tg.call(t,n)&&ig(e,n,t[n]);return e},og=(e,t)=>Xh(e,Qh(t)),sg=(e,t)=>{var n={};for(var r in e)eg.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&$h)for(var r of $h(e))t.indexOf(r)<0&&tg.call(e,r)&&(n[r]=e[r]);return n},cg=e=>[,,,Jh(null)],lg=[`class`,`method`,`getter`,`setter`,`accessor`,`field`,`value`,`get`,`set`],ug=e=>e!==void 0&&typeof e!=`function`?rg(`Function expected`):e,dg=(e,t,n,r,i)=>({kind:lg[e],name:t,metadata:r,addInitializer:e=>n._?rg(`Already initialized`):i.push(ug(e||null))}),fg=(e,t)=>ig(t,ng(`metadata`),e[3]),pg=(e,t,n,r)=>{for(var i=0,a=e[t>>1],o=a&&a.length;i<o;i++)t&1?a[i].call(n):r=a[i].call(n,r);return r},mg=(e,t,n,r,i,a)=>{for(var o,s,c,l,u,d=t&7,f=!1,p=!1,m=e.length+1,h=lg[d+5],g=e[m-1]=[],_=e[m]||(e[m]=[]),v=(i=i.prototype,Zh({get[n](){return gg(this,a)},set[n](e){return vg(this,a,e)}},n)),y=r.length-1;y>=0;y--)l=dg(d,n,c={},e[3],_),l.static=f,l.private=p,u=l.access={has:e=>n in e},u.get=e=>e[n],u.set=(e,t)=>e[n]=t,s=(0,r[y])({get:v.get,set:v.set},l),c._=1,s===void 0?ug(s)&&(v[h]=s):typeof s!=`object`||!s?rg(`Object expected`):(ug(o=s.get)&&(v.get=o),ug(o=s.set)&&(v.set=o),ug(o=s.init)&&g.unshift(o));return v&&Yh(i,n,v),i},hg=(e,t,n)=>t.has(e)||rg(`Cannot `+n),gg=(e,t,n)=>(hg(e,t,`read from private field`),t.get(e)),_g=(e,t,n)=>t.has(e)?rg(`Cannot add the same private member more than once`):t instanceof WeakSet?t.add(e):t.set(e,n),vg=(e,t,n,r)=>(hg(e,t,`write to private field`),t.set(e,n),n);function yg(e){return e instanceof $g||e instanceof Qg}var bg=10,xg=class extends Dl{constructor(e){super(e);let t=ls(()=>{let{dragOperation:t}=e;if(up(t.activatorEvent)&&yg(t.source)&&t.status.initialized){let t=e.registry.plugins.get(Xm);if(t)return t.disable(),()=>t.enable()}}),n=e.monitor.addEventListener(`dragmove`,(e,t)=>{queueMicrotask(()=>{if(this.disabled||e.defaultPrevented||!e.nativeEvent)return;let{dragOperation:n}=t;if(!up(e.nativeEvent)||!yg(n.source)||!n.shape)return;let{actions:r,collisionObserver:i,registry:a}=t,{by:o}=e;if(!o)return;let s=Sg(o),{source:c,target:l}=n,{center:u}=n.shape.current,d=[],f=[];Ko(()=>{for(let e of a.droppables){let{id:t}=e;if(!e.accepts(c)||t===l?.id&&yg(e)||!e.element)continue;let n=e.shape,r=new ap(e.element,{getBoundingClientRect:e=>Od(e,void 0,.2)});!r.height||!r.width||(s==`down`&&u.y+bg<r.center.y||s==`up`&&u.y-bg>r.center.y||s==`left`&&u.x-bg>r.center.x||s==`right`&&u.x+bg<r.center.x)&&(d.push(e),e.shape=r,f.push(()=>e.shape=n))}}),e.preventDefault(),i.disable();let p=i.computeCollisions(d,yp);Ko(()=>f.forEach(e=>e()));let[m]=p;if(!m)return;let{id:h}=m,{index:g,group:_}=c.sortable;r.setDropTarget(h).then(()=>{let{source:e,target:t,shape:a}=n;if(!e||!yg(e)||!a)return;let{index:o,group:s,target:c}=e.sortable,l=g!==o||_!==s,u=l?c:t?.element;if(!u)return;Yf(u);let d=new ap(u);if(!d)return;let f=Rc.delta(d,Rc.from(a.current.boundingRectangle),e.alignment);r.move({by:f}),l?r.setDropTarget(e.id).then(()=>i.enable()):i.enable()})})});this.destroy=()=>{n(),t()}}};function Sg(e){let{x:t,y:n}=e;if(t>0)return`right`;if(t<0)return`left`;if(n>0)return`down`;if(n<0)return`up`}var Cg=Object.defineProperty,wg=Object.defineProperties,Tg=Object.getOwnPropertyDescriptors,Eg=Object.getOwnPropertySymbols,Dg=Object.prototype.hasOwnProperty,Og=Object.prototype.propertyIsEnumerable,kg=(e,t,n)=>t in e?Cg(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ag=(e,t)=>{for(var n in t||={})Dg.call(t,n)&&kg(e,n,t[n]);if(Eg)for(var n of Eg(t))Og.call(t,n)&&kg(e,n,t[n]);return e},jg=(e,t)=>wg(e,Tg(t));function Mg(e,t,n){if(t===n)return e;let r=e.slice();return r.splice(n,0,r.splice(t,1)[0]),r}function Ng(e,t,n){let{source:r,target:i,canceled:a}=t.operation;if(!r||!i||a)return`preventDefault`in t&&t.preventDefault(),e;let o=(e,t)=>e===t||typeof e==`object`&&`id`in e&&e.id===t;if(Array.isArray(e)){let t=e.findIndex(e=>o(e,r.id)),s=e.findIndex(e=>o(e,i.id));if(t===-1||s===-1)return e;if(!a&&`index`in r&&typeof r.index==`number`){let i=r.index;if(i!==t)return n(e,t,i)}return n(e,t,s)}let s=Object.entries(e),c=-1,l,u=-1,d;for(let[e,t]of s)if(c===-1&&(c=t.findIndex(e=>o(e,r.id)),c!==-1&&(l=e)),u===-1&&(u=t.findIndex(e=>o(e,i.id)),u!==-1&&(d=e)),c!==-1&&u!==-1)break;if(!r.manager)return e;let{dragOperation:f}=r.manager,p=f.shape?.current.center??f.position.current;if(d==null&&i.id in e){let t=i.shape&&p.y>i.shape.center.y?e[i.id].length:0;d=i.id,u=t}if(l==null||d==null||l===d&&c===u)return`preventDefault`in t&&t.preventDefault(),e;if(l===d)return jg(Ag({},e),{[l]:n(e[l],c,u)});let m=i.shape&&Math.round(p.y)>Math.round(i.shape.center.y)?1:0,h=e[l][c];return jg(Ag({},e),{[l]:[...e[l].slice(0,c),...e[l].slice(c+1)],[d]:[...e[d].slice(0,u+m),h,...e[d].slice(u+m)]})}function Pg(e,t){return Ng(e,t,Mg)}var Fg=`__default__`,Ig=class extends Dl{constructor(e){super(e);let t=()=>{let t=new Map;for(let n of e.registry.droppables)if(n instanceof $g){let{sortable:e}=n,{group:r}=e,i=t.get(r);i||(i=new Set,t.set(r,i)),i.add(e)}for(let[e,n]of t)t.set(e,new Set(zg(n)));return t},n=[e.monitor.addEventListener(`dragover`,(e,n)=>{if(this.disabled)return;let{dragOperation:r}=n,{source:i,target:a}=r;if(!yg(i)||!yg(a)||i.sortable===a.sortable)return;let o=t(),s=i.sortable.group===a.sortable.group,c=o.get(i.sortable.group),l=s?c:o.get(a.sortable.group);!c||!l||queueMicrotask(()=>{e.defaultPrevented||n.renderer.rendering.then(()=>{let r=t();for(let[e,t]of o.entries()){let n=Array.from(t).entries();for(let[t,i]of n)if(i.index!==t||i.group!==e||!r.get(e)?.has(i))return}let u=i.sortable.element,d=a.sortable.element;if(!d||!u||!s&&a.id===i.sortable.group)return;let f=zg(c),p=s?f:zg(l),m=i.sortable.group??Fg,h=a.sortable.group??Fg,g={[m]:f,[h]:p},_=Pg(g,e);if(g===_)return;let v=_[h].indexOf(i.sortable),y=_[h].indexOf(a.sortable);n.collisionObserver.disable(),Lg(u,v,d,y),Ko(()=>{for(let[e,t]of _[m].entries())t.index=e;if(!s)for(let[e,t]of _[h].entries())t.group=a.sortable.group,t.index=e}),n.actions.setDropTarget(i.id).then(()=>n.collisionObserver.enable())})})}),e.monitor.addEventListener(`dragend`,(e,n)=>{if(!e.canceled)return;let{dragOperation:r}=n,{source:i}=r;yg(i)&&(i.sortable.initialIndex===i.sortable.index&&i.sortable.initialGroup===i.sortable.group||queueMicrotask(()=>{let e=t(),r=e.get(i.sortable.initialGroup);r&&n.renderer.rendering.then(()=>{for(let[t,n]of e.entries()){let e=Array.from(n).entries();for(let[n,r]of e)if(r.index!==n||r.group!==t)return}let t=zg(r),n=i.sortable.element,a=t[i.sortable.initialIndex],o=a?.element;!a||!o||!n||(Lg(n,a.index,o,i.index),Ko(()=>{for(let[t,n]of e.entries()){let e=Array.from(n).values();for(let t of e)t.index=t.initialIndex,t.group=t.initialGroup}}))})}))})];this.destroy=()=>{for(let e of n)e()}}};function Lg(e,t,n,r){let i=r<t?`afterend`:`beforebegin`;n.insertAdjacentElement(i,e)}function Rg(e,t){return e.index-t.index}function zg(e){return Array.from(e).sort(Rg)}var Bg=[xg,Ig],Vg={duration:250,easing:`cubic-bezier(0.25, 1, 0.5, 1)`,idle:!1},Hg=new dc,Ug,Wg=[J],Gg,Kg,qg,Jg,Yg,Xg;Ug=[J];var Zg=class{constructor(e,t){_g(this,Kg,pg(Gg,8,this)),pg(Gg,11,this),_g(this,qg),_g(this,Jg),_g(this,Yg,pg(Gg,12,this)),pg(Gg,15,this),_g(this,Xg),this.register=()=>(Ko(()=>{var e,t;(e=this.manager)==null||e.registry.register(this.droppable),(t=this.manager)==null||t.registry.register(this.draggable)}),()=>this.unregister()),this.unregister=()=>{Ko(()=>{var e,t;(e=this.manager)==null||e.registry.unregister(this.droppable),(t=this.manager)==null||t.registry.unregister(this.draggable)})},this.destroy=()=>{Ko(()=>{this.droppable.destroy(),this.draggable.destroy()})};var n=e,{effects:r=()=>[],group:i,index:a,sensors:o,type:s,transition:c=Vg,plugins:l=Bg}=n,u=sg(n,[`effects`,`group`,`index`,`sensors`,`type`,`transition`,`plugins`]);this.droppable=new $g(u,t,this),this.draggable=new Qg(og(ag({},u),{effects:()=>[()=>{let e=this.manager?.dragOperation.status;e?.initializing&&this.id===this.manager?.dragOperation.source?.id&&Hg.clear(this.manager),e?.dragging&&Hg.set(this.manager,this.id,q(()=>({initialIndex:this.index,initialGroup:this.group})))},()=>{let{index:e,group:t,manager:n}=this,r=gg(this,Jg),i=gg(this,qg);(e!==r||t!==i)&&(vg(this,Jg,e),vg(this,qg,t),this.animate())},()=>{let{target:e}=this,{feedback:t,isDragSource:n}=this.draggable;t==`move`&&n&&(this.droppable.disabled=!e)},()=>{let{manager:e}=this;for(let t of l)e?.registry.register(t)},...r()],type:s,sensors:o}),t,this),vg(this,Xg,u.element),this.manager=t,this.index=a,vg(this,Jg,a),this.group=i,vg(this,qg,i),this.type=s,this.transition=c}get initialIndex(){return Hg.get(this.manager,this.id)?.initialIndex??this.index}get initialGroup(){return Hg.get(this.manager,this.id)?.initialGroup??this.group}animate(){q(()=>{let{manager:e,transition:t}=this,{shape:n}=this.droppable;if(!e)return;let{idle:r}=e.dragOperation.status;!n||!t||r&&!t.idle||e.renderer.rendering.then(()=>{let{element:r}=this;if(!r)return;let i=this.refreshShape();if(!i)return;let a={x:n.boundingRectangle.left-i.boundingRectangle.left,y:n.boundingRectangle.top-i.boundingRectangle.top},{translate:o}=jf(r),s=$f(r,o,!1),c=$f(r,o);(a.x||a.y)&&Qf({element:r,keyframes:{translate:[`${s.x+a.x}px ${s.y+a.y}px ${s.z}`,`${c.x}px ${c.y}px ${c.z}`]},options:t}).then(()=>{e.dragOperation.status.dragging||(this.droppable.shape=void 0)})})})}get manager(){return this.draggable.manager}set manager(e){Ko(()=>{this.draggable.manager=e,this.droppable.manager=e})}set element(e){Ko(()=>{let t=gg(this,Xg),n=this.droppable.element,r=this.draggable.element;(!n||n===t)&&(this.droppable.element=e),(!r||r===t)&&(this.draggable.element=e),vg(this,Xg,e)})}get element(){let e=gg(this,Xg);if(e)return Rd.get(e)??e??this.droppable.element}set target(e){this.droppable.element=e}get target(){return this.droppable.element}set source(e){this.draggable.element=e}get source(){return this.draggable.element}get disabled(){return this.draggable.disabled&&this.droppable.disabled}set feedback(e){this.draggable.feedback=e}set disabled(e){Ko(()=>{this.droppable.disabled=e,this.draggable.disabled=e})}set data(e){Ko(()=>{this.droppable.data=e,this.draggable.data=e})}set handle(e){this.draggable.handle=e}set id(e){Ko(()=>{this.droppable.id=e,this.draggable.id=e})}get id(){return this.droppable.id}set sensors(e){this.draggable.sensors=e}set modifiers(e){this.draggable.modifiers=e}set collisionPriority(e){this.droppable.collisionPriority=e}set collisionDetector(e){this.droppable.collisionDetector=e??vp}set alignment(e){this.draggable.alignment=e}get alignment(){return this.draggable.alignment}set type(e){Ko(()=>{this.droppable.type=e,this.draggable.type=e})}get type(){return this.draggable.type}set accept(e){this.droppable.accept=e}get accept(){return this.droppable.accept}get isDropTarget(){return this.droppable.isDropTarget}get isDragSource(){return this.draggable.isDragSource}get isDragging(){return this.draggable.isDragging}get isDropping(){return this.draggable.isDropping}get status(){return this.draggable.status}refreshShape(){return this.droppable.refreshShape()}accepts(e){return this.droppable.accepts(e)}};Gg=cg(),Kg=new WeakMap,qg=new WeakMap,Jg=new WeakMap,Yg=new WeakMap,Xg=new WeakMap,mg(Gg,4,`index`,Wg,Zg,Kg),mg(Gg,4,`group`,Ug,Zg,Yg),fg(Gg,Zg);var Qg=class extends Ih{constructor(e,t,n){super(e,t),this.sortable=n}get index(){return this.sortable.index}},$g=class extends qh{constructor(e,t,n){super(e,t),this.sortable=n}},e_=Object.defineProperty,t_=Object.defineProperties,n_=Object.getOwnPropertyDescriptors,r_=Object.getOwnPropertySymbols,i_=Object.prototype.hasOwnProperty,a_=Object.prototype.propertyIsEnumerable,o_=(e,t,n)=>t in e?e_(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,s_=(e,t)=>{for(var n in t||={})i_.call(t,n)&&o_(e,n,t[n]);if(r_)for(var n of r_(t))a_.call(t,n)&&o_(e,n,t[n]);return e},c_=(e,t)=>t_(e,n_(t)),l_=class extends Bu{apply({transform:e}){if(!this.options)return e;let{axis:t,value:n}=this.options;return c_(s_({},e),{[t]:n})}};l_.configure=xl(l_);var u_=l_,d_=u_.configure({axis:`x`,value:0});u_.configure({axis:`y`,value:0});var f_=class extends Bu{apply({transform:e}){let{size:t=20}=this.options??{},n=typeof t==`number`?t:t.x,r=typeof t==`number`?t:t.y;return c_(s_({},e),{x:Math.ceil(e.x/n)*n,y:Math.ceil(e.y/r)*r})}};f_.configure=xl(f_);var p_=t({default:()=>m_}),m_=class extends nt{constructor(...e){super(...e),this.sortables=[],this.onDragEnd=()=>this.updateOrder()}static{this.targets=[`container`,`orderInput`]}connect(){this.manager=new Dh({modifiers:[d_]}),this.manager.monitor.addEventListener(`dragend`,this.onDragEnd),this.refreshSortables()}disconnect(){this.teardownSortables(),this.manager?.monitor.removeEventListener(`dragend`,this.onDragEnd),this.manager?.destroy?.(),this.manager=void 0}containerTargetConnected(){this.refreshSortables()}containerTargetDisconnected(){this.refreshSortables()}refreshSortables(){this.teardownSortables(),this.manager&&this.containerTargets.forEach((e,t)=>{Array.from(e.querySelectorAll(`[data-id]`)).forEach((e,n)=>{let r=new Zg({id:e.dataset.id||hp(`item`),index:n,group:t,element:e,handle:e.querySelector(`[data-handle]`)||void 0},this.manager);this.sortables.push(r)})})}teardownSortables(){this.sortables.forEach(e=>e.destroy()),this.sortables=[]}updateOrder(){if(!this.hasOrderInputTarget){this.dispatch(`update`);return}let e=this.containerTargets.flatMap((e,t)=>Array.from(e.querySelectorAll(`[data-id]`)).map(e=>({id:e.dataset.id,listIndex:t})));e&&(this.orderInputTarget.value=JSON.stringify(e),this.dispatch(`update`))}};window.Stimulus.load(Ce({"./controllers/color-picker-controller.ts":rt,"./controllers/filter-input-controller.ts":yt,"./controllers/form-controller.ts":St,"./controllers/icon-picker-controller.ts":wt,"./controllers/incremental-search-controller.ts":hn,"./controllers/line-chart-controller.ts":Ro,"./controllers/permission-grid-controller.ts":Bo,"./controllers/slugger-controller.ts":Ho,"./controllers/sortable-controller.ts":p_}))})();