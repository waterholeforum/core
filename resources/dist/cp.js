(function(){"use strict";function gs(e){return e.replace(/(?:[_-])([a-z0-9])/g,(t,n)=>n.toUpperCase())}function Xo(e){return gs(e.replace(/--/g,"-").replace(/__/g,"_"))}function il(e){return e.charAt(0).toUpperCase()+e.slice(1)}function ta(e){return e.replace(/([A-Z])/g,(t,n)=>`-${n.toLowerCase()}`)}function vs(e){return e!=null}function ys(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Vl(e,t){const n=bs(e);return Array.from(n.reduce((l,i)=>(na(i,t).forEach(o=>l.add(o)),l),new Set))}function ea(e,t){return bs(e).reduce((l,i)=>(l.push(...la(i,t)),l),[])}function bs(e){const t=[];for(;e;)t.push(e),e=Object.getPrototypeOf(e);return t.reverse()}function na(e,t){const n=e[t];return Array.isArray(n)?n:[]}function la(e,t){const n=e[t];return n?Object.keys(n).map(l=>[l,n[l]]):[]}(()=>{function e(n){function l(){return Reflect.construct(n,arguments,new.target)}return l.prototype=Object.create(n.prototype,{constructor:{value:l}}),Reflect.setPrototypeOf(l,n),l}function t(){const l=e(function(){this.a.call(this)});return l.prototype.a=function(){},new l}try{return t(),e}catch{return l=>class extends l{}}})(),Object.assign(Object.assign({enter:"Enter",tab:"Tab",esc:"Escape",space:" ",up:"ArrowUp",down:"ArrowDown",left:"ArrowLeft",right:"ArrowRight",home:"Home",end:"End",page_up:"PageUp",page_down:"PageDown"},ws("abcdefghijklmnopqrstuvwxyz".split("").map(e=>[e,e]))),ws("0123456789".split("").map(e=>[e,e])));function ws(e){return e.reduce((t,[n,l])=>Object.assign(Object.assign({},t),{[n]:l}),{})}function ia(e){return Vl(e,"classes").reduce((n,l)=>Object.assign(n,sa(l)),{})}function sa(e){return{[`${e}Class`]:{get(){const{classes:t}=this;if(t.has(e))return t.get(e);{const n=t.getAttributeName(e);throw new Error(`Missing attribute "${n}"`)}}},[`${e}Classes`]:{get(){return this.classes.getAll(e)}},[`has${il(e)}Class`]:{get(){return this.classes.has(e)}}}}function ra(e){return Vl(e,"outlets").reduce((n,l)=>Object.assign(n,oa(l)),{})}function Ss(e,t,n){return e.application.getControllerForElementAndIdentifier(t,n)}function xs(e,t,n){let l=Ss(e,t,n);if(l||(e.application.router.proposeToConnectScopeForElementAndIdentifier(t,n),l=Ss(e,t,n),l))return l}function oa(e){const t=Xo(e);return{[`${t}Outlet`]:{get(){const n=this.outlets.find(e),l=this.outlets.getSelectorForOutletName(e);if(n){const i=xs(this,n,e);if(i)return i;throw new Error(`The provided outlet element is missing an outlet controller "${e}" instance for host controller "${this.identifier}"`)}throw new Error(`Missing outlet element "${e}" for host controller "${this.identifier}". Stimulus couldn't find a matching outlet element using selector "${l}".`)}},[`${t}Outlets`]:{get(){const n=this.outlets.findAll(e);return n.length>0?n.map(l=>{const i=xs(this,l,e);if(i)return i;console.warn(`The provided outlet element is missing an outlet controller "${e}" instance for host controller "${this.identifier}"`,l)}).filter(l=>l):[]}},[`${t}OutletElement`]:{get(){const n=this.outlets.find(e),l=this.outlets.getSelectorForOutletName(e);if(n)return n;throw new Error(`Missing outlet element "${e}" for host controller "${this.identifier}". Stimulus couldn't find a matching outlet element using selector "${l}".`)}},[`${t}OutletElements`]:{get(){return this.outlets.findAll(e)}},[`has${il(t)}Outlet`]:{get(){return this.outlets.has(e)}}}}function aa(e){return Vl(e,"targets").reduce((n,l)=>Object.assign(n,ca(l)),{})}function ca(e){return{[`${e}Target`]:{get(){const t=this.targets.find(e);if(t)return t;throw new Error(`Missing target element "${e}" for "${this.identifier}" controller`)}},[`${e}Targets`]:{get(){return this.targets.findAll(e)}},[`has${il(e)}Target`]:{get(){return this.targets.has(e)}}}}function ua(e){const t=ea(e,"values"),n={valueDescriptorMap:{get(){return t.reduce((l,i)=>{const o=Es(i,this.identifier),a=this.data.getAttributeNameForKey(o.key);return Object.assign(l,{[a]:o})},{})}}};return t.reduce((l,i)=>Object.assign(l,fa(i)),n)}function fa(e,t){const n=Es(e,t),{key:l,name:i,reader:o,writer:a}=n;return{[i]:{get(){const f=this.data.get(l);return f!==null?o(f):n.defaultValue},set(f){f===void 0?this.data.delete(l):this.data.set(l,a(f))}},[`has${il(i)}`]:{get(){return this.data.has(l)||n.hasCustomDefaultValue}}}}function Es([e,t],n){return ma({controller:n,token:e,typeDefinition:t})}function sl(e){switch(e){case Array:return"array";case Boolean:return"boolean";case Number:return"number";case Object:return"object";case String:return"string"}}function zn(e){switch(typeof e){case"boolean":return"boolean";case"number":return"number";case"string":return"string"}if(Array.isArray(e))return"array";if(Object.prototype.toString.call(e)==="[object Object]")return"object"}function ha(e){const{controller:t,token:n,typeObject:l}=e,i=vs(l.type),o=vs(l.default),a=i&&o,f=i&&!o,d=!i&&o,p=sl(l.type),b=zn(e.typeObject.default);if(f)return p;if(d)return b;if(p!==b){const g=t?`${t}.${n}`:n;throw new Error(`The specified default value for the Stimulus Value "${g}" must match the defined type "${p}". The provided default value of "${l.default}" is of type "${b}".`)}if(a)return p}function da(e){const{controller:t,token:n,typeDefinition:l}=e,o=ha({controller:t,token:n,typeObject:l}),a=zn(l),f=sl(l),d=o||a||f;if(d)return d;const p=t?`${t}.${l}`:n;throw new Error(`Unknown value type "${p}" for "${n}" value`)}function pa(e){const t=sl(e);if(t)return As[t];const n=ys(e,"default"),l=ys(e,"type"),i=e;if(n)return i.default;if(l){const{type:o}=i,a=sl(o);if(a)return As[a]}return e}function ma(e){const{token:t,typeDefinition:n}=e,l=`${ta(t)}-value`,i=da(e);return{type:i,key:l,name:gs(l),get defaultValue(){return pa(n)},get hasCustomDefaultValue(){return zn(n)!==void 0},reader:ga[i],writer:_s[i]||_s.default}}const As={get array(){return[]},boolean:!1,number:0,get object(){return{}},string:""},ga={array(e){const t=JSON.parse(e);if(!Array.isArray(t))throw new TypeError(`expected value of type "array" but instead got value "${e}" of type "${zn(t)}"`);return t},boolean(e){return!(e=="0"||String(e).toLowerCase()=="false")},number(e){return Number(e.replace(/_/g,""))},object(e){const t=JSON.parse(e);if(t===null||typeof t!="object"||Array.isArray(t))throw new TypeError(`expected value of type "object" but instead got value "${e}" of type "${zn(t)}"`);return t},string(e){return e}},_s={default:va,array:Ts,object:Ts};function Ts(e){return JSON.stringify(e)}function va(e){return`${e}`}class Zt{constructor(t){this.context=t}static get shouldLoad(){return!0}static afterLoad(t,n){}get application(){return this.context.application}get scope(){return this.context.scope}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get targets(){return this.scope.targets}get outlets(){return this.scope.outlets}get classes(){return this.scope.classes}get data(){return this.scope.data}initialize(){}connect(){}disconnect(){}dispatch(t,{target:n=this.element,detail:l={},prefix:i=this.identifier,bubbles:o=!0,cancelable:a=!0}={}){const f=i?`${i}:${t}`:t,d=new CustomEvent(f,{detail:l,bubbles:o,cancelable:a});return n.dispatchEvent(d),d}}Zt.blessings=[ia,aa,ua,ra],Zt.targets=[],Zt.outlets=[],Zt.values={};const Vi=class Vi extends Zt{show(){clearTimeout(this.timeout),this.pickerTarget.hidden=!1}hide(){clearTimeout(this.timeout),this.timeout=window.setTimeout(()=>this.pickerTarget.hidden=!0)}colorChanged(t){this.inputTarget.color=t.detail.value,this.pickerTarget.color=t.detail.value,this.swatchTarget.style.backgroundColor=t.detail.value}};Vi.targets=["input","picker","swatch"];let Nl=Vi;const ya=Object.freeze(Object.defineProperty({__proto__:null,default:Nl},Symbol.toStringTag,{value:"Module"}));class ba{constructor(t,n,{tabInsertsSuggestions:l,defaultFirstOption:i}={}){this.input=t,this.list=n,this.tabInsertsSuggestions=l??!0,this.defaultFirstOption=i??!1,this.isComposing=!1,n.id||(n.id=`combobox-${Math.random().toString().slice(2,6)}`),this.ctrlBindings=!!navigator.userAgent.match(/Macintosh/),this.keyboardEventHandler=o=>wa(o,this),this.compositionEventHandler=o=>Ea(o,this),this.inputHandler=this.clearSelection.bind(this),t.setAttribute("role","combobox"),t.setAttribute("aria-controls",n.id),t.setAttribute("aria-expanded","false"),t.setAttribute("aria-autocomplete","list"),t.setAttribute("aria-haspopup","listbox")}destroy(){this.clearSelection(),this.stop(),this.input.removeAttribute("role"),this.input.removeAttribute("aria-controls"),this.input.removeAttribute("aria-expanded"),this.input.removeAttribute("aria-autocomplete"),this.input.removeAttribute("aria-haspopup")}start(){this.input.setAttribute("aria-expanded","true"),this.input.addEventListener("compositionstart",this.compositionEventHandler),this.input.addEventListener("compositionend",this.compositionEventHandler),this.input.addEventListener("input",this.inputHandler),this.input.addEventListener("keydown",this.keyboardEventHandler),this.list.addEventListener("click",ks),this.indicateDefaultOption()}stop(){this.clearSelection(),this.input.setAttribute("aria-expanded","false"),this.input.removeEventListener("compositionstart",this.compositionEventHandler),this.input.removeEventListener("compositionend",this.compositionEventHandler),this.input.removeEventListener("input",this.inputHandler),this.input.removeEventListener("keydown",this.keyboardEventHandler),this.list.removeEventListener("click",ks)}indicateDefaultOption(){var t;this.defaultFirstOption&&((t=Array.from(this.list.querySelectorAll('[role="option"]:not([aria-disabled="true"])')).filter(Bl)[0])===null||t===void 0||t.setAttribute("data-combobox-option-default","true"))}navigate(t=1){const n=Array.from(this.list.querySelectorAll('[aria-selected="true"]')).filter(Bl)[0],l=Array.from(this.list.querySelectorAll('[role="option"]')).filter(Bl),i=l.indexOf(n);if(i===l.length-1&&t===1||i===0&&t===-1){this.clearSelection(),this.input.focus();return}let o=t===1?0:l.length-1;if(n&&i>=0){const f=i+t;f>=0&&f<l.length&&(o=f)}const a=l[o];if(a)for(const f of l)f.removeAttribute("data-combobox-option-default"),a===f?(this.input.setAttribute("aria-activedescendant",a.id),a.setAttribute("aria-selected","true"),xa(a),Aa(this.list,a)):f.removeAttribute("aria-selected")}clearSelection(){this.input.removeAttribute("aria-activedescendant");for(const t of this.list.querySelectorAll('[aria-selected="true"]'))t.removeAttribute("aria-selected");this.indicateDefaultOption()}}function wa(e,t){if(!(e.shiftKey||e.metaKey||e.altKey)&&!(!t.ctrlBindings&&e.ctrlKey)&&!t.isComposing)switch(e.key){case"Enter":Ms(t.input,t.list)&&e.preventDefault();break;case"Tab":t.tabInsertsSuggestions&&Ms(t.input,t.list)&&e.preventDefault();break;case"Escape":t.clearSelection();break;case"ArrowDown":t.navigate(1),e.preventDefault();break;case"ArrowUp":t.navigate(-1),e.preventDefault();break;case"n":t.ctrlBindings&&e.ctrlKey&&(t.navigate(1),e.preventDefault());break;case"p":t.ctrlBindings&&e.ctrlKey&&(t.navigate(-1),e.preventDefault());break;default:if(e.ctrlKey)break;t.clearSelection()}}function ks(e){if(!(e.target instanceof Element))return;const t=e.target.closest('[role="option"]');t&&t.getAttribute("aria-disabled")!=="true"&&Sa(t,{event:e})}function Ms(e,t){const n=t.querySelector('[aria-selected="true"], [data-combobox-option-default="true"]');return n?(n.getAttribute("aria-disabled")==="true"||n.click(),!0):!1}function Sa(e,t){e.dispatchEvent(new CustomEvent("combobox-commit",{bubbles:!0,detail:t}))}function xa(e){e.dispatchEvent(new Event("combobox-select",{bubbles:!0}))}function Bl(e){return!e.hidden&&!(e instanceof HTMLInputElement&&e.type==="hidden")&&(e.offsetWidth>0||e.offsetHeight>0)}function Ea(e,t){t.isComposing=e.type==="compositionstart",document.getElementById(t.input.getAttribute("aria-controls")||"")&&t.clearSelection()}function Aa(e,t){_a(e,t)||(e.scrollTop=t.offsetTop)}function _a(e,t){const n=e.scrollTop,l=n+e.clientHeight,i=t.offsetTop,o=i+t.clientHeight;return i>=n&&o<=l}function Ta(e){return e===""?document.execCommand("delete"):document.execCommand("insertText",!1,e)}function ka(e,t){e.setRangeText(t,e.selectionStart||0,e.selectionEnd||0,"end"),e.dispatchEvent(new InputEvent("input",{data:t,inputType:"insertText"}))}function Ma(e,t){var n=e.ownerDocument,l=n.activeElement;l!==e&&e.focus(),Ta(t)||ka(e,t),l===n.body?e.blur():l instanceof HTMLElement&&l!==e&&l.focus()}function Oa(e,t){e.select(),Ma(e,t)}const Ca=/([^\s"]*)"([^"]*)(?:"|$)|[^\s"]+/gi,Ni=class Ni extends Zt{connect(){this.combobox=new ba(this.inputTarget,this.listTarget)}focus(){this.combobox?.start(),this.update()}blur(){this.combobox?.stop(),this.listTarget.hidden=!0}tokens(){const t=this.inputTarget.value.matchAll(Ca);return Array.from(t).reverse()}currentToken(){const t=this.inputTarget.selectionStart||0;return this.tokens().find(n=>n.index!==void 0&&n.index<t&&n.index+n[0].length>=t)}update(){const t=this.tokens(),n=this.currentToken(),l=n&&n[0].toLowerCase(),i=Array.from(this.listTarget.children),o=[];i.forEach(a=>{const f=(a.dataset.value||a.textContent)?.trim().toLowerCase()||"";t.some(d=>d[0].toLowerCase()===f)?a.hidden=!0:l?a.hidden=!f.startsWith(l)||l.includes(":")===f.endsWith(":"):(a.hidden=o.some(d=>f.startsWith(d)),o.push(f))}),this.listTarget.hidden=!i.some(a=>!a.hidden)}commit(t){const n=t.target,l=this.currentToken(),i=(n.dataset.value||n.textContent)?.trim()||"";Oa(this.inputTarget,this.inputTarget.value.slice(0,l?.index)+i+(i.endsWith(":")?"":" "))}preventBlur(t){t.preventDefault()}};Ni.targets=["input","list"];let Wl=Ni;const La=Object.freeze(Object.defineProperty({__proto__:null,default:Wl},Symbol.toStringTag,{value:"Module"})),Bi=class Bi extends Zt{submit(){setTimeout(()=>{this.formTarget.requestSubmit()})}};Bi.targets=["form"];let Gl=Bi;const Da=Object.freeze(Object.defineProperty({__proto__:null,default:Gl},Symbol.toStringTag,{value:"Module"})),Wi=class Wi extends Zt{change(){this.previewTarget.hidden=!0,this.formTarget.hidden=!1}emojiTargetConnected(t){const n=t.querySelector("input"),l=t.querySelector("ui-popup"),i=t.querySelector("button"),o=t.querySelector("emoji-picker");n.type="hidden",l.hidden=!1,o.addEventListener("emoji-click",a=>{n.value=a.detail.unicode||"",i.innerHTML=n.value,l.open=!1})}};Wi.targets=["preview","form","emoji"];let ql=Wi;const Pa=Object.freeze(Object.defineProperty({__proto__:null,default:ql},Symbol.toStringTag,{value:"Module"}));var Ia=typeof global=="object"&&global&&global.Object===Object&&global,$a=typeof self=="object"&&self&&self.Object===Object&&self,Os=Ia||$a||Function("return this")(),rl=Os.Symbol,Cs=Object.prototype,ja=Cs.hasOwnProperty,Ha=Cs.toString,Fn=rl?rl.toStringTag:void 0;function Ra(e){var t=ja.call(e,Fn),n=e[Fn];try{e[Fn]=void 0;var l=!0}catch{}var i=Ha.call(e);return l&&(t?e[Fn]=n:delete e[Fn]),i}var za=Object.prototype,Fa=za.toString;function Va(e){return Fa.call(e)}var Na="[object Null]",Ba="[object Undefined]",Ls=rl?rl.toStringTag:void 0;function Wa(e){return e==null?e===void 0?Ba:Na:Ls&&Ls in Object(e)?Ra(e):Va(e)}function Ga(e){return e!=null&&typeof e=="object"}var qa="[object Symbol]";function Ya(e){return typeof e=="symbol"||Ga(e)&&Wa(e)==qa}var Ua=/\s/;function Ka(e){for(var t=e.length;t--&&Ua.test(e.charAt(t)););return t}var Ja=/^\s+/;function Za(e){return e&&e.slice(0,Ka(e)+1).replace(Ja,"")}function Yl(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Ds=NaN,Qa=/^[-+]0x[0-9a-f]+$/i,Xa=/^0b[01]+$/i,tc=/^0o[0-7]+$/i,ec=parseInt;function Ps(e){if(typeof e=="number")return e;if(Ya(e))return Ds;if(Yl(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Yl(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Za(e);var n=Xa.test(e);return n||tc.test(e)?ec(e.slice(2),n?2:8):Qa.test(e)?Ds:+e}var Ul=function(){return Os.Date.now()},nc="Expected a function",lc=Math.max,ic=Math.min;function sc(e,t,n){var l,i,o,a,f,d,p=0,b=!1,g=!1,v=!0;if(typeof e!="function")throw new TypeError(nc);t=Ps(t)||0,Yl(n)&&(b=!!n.leading,g="maxWait"in n,o=g?lc(Ps(n.maxWait)||0,t):o,v="trailing"in n?!!n.trailing:v);function _(A){var W=l,B=i;return l=i=void 0,p=A,a=e.apply(B,W),a}function T(A){return p=A,f=setTimeout(M,t),b?_(A):a}function I(A){var W=A-d,B=A-p,J=t-W;return g?ic(J,o-B):J}function $(A){var W=A-d,B=A-p;return d===void 0||W>=t||W<0||g&&B>=o}function M(){var A=Ul();if($(A))return w(A);f=setTimeout(M,I(A))}function w(A){return f=void 0,v&&l?_(A):(l=i=void 0,a)}function L(){f!==void 0&&clearTimeout(f),p=0,l=d=i=f=void 0}function x(){return f===void 0?a:w(Ul())}function V(){var A=Ul(),W=$(A);if(l=arguments,i=this,d=A,W){if(f===void 0)return T(d);if(g)return clearTimeout(f),f=setTimeout(M,t),_(d)}return f===void 0&&(f=setTimeout(M,t)),a}return V.cancel=L,V.flush=x,V}class rc extends Zt{constructor(){super(...arguments),this.debouncedSubmit=sc(this.submit,250)}input(t){t.target.value?this.debouncedSubmit():this.submit()}submit(){this.element.form?.requestSubmit()}}const oc=Object.freeze(Object.defineProperty({__proto__:null,default:rc},Symbol.toStringTag,{value:"Module"})),ac=!0,Tt="u-",cc="uplot",uc=Tt+"hz",fc=Tt+"vt",hc=Tt+"title",dc=Tt+"wrap",pc=Tt+"under",mc=Tt+"over",gc=Tt+"axis",We=Tt+"off",vc=Tt+"select",yc=Tt+"cursor-x",bc=Tt+"cursor-y",wc=Tt+"cursor-pt",Sc=Tt+"legend",xc=Tt+"live",Ec=Tt+"inline",Ac=Tt+"series",_c=Tt+"marker",Is=Tt+"label",Tc=Tt+"value",Vn="width",Nn="height",Bn="top",$s="bottom",on="left",Kl="right",Jl="#000",js=Jl+"0",Zl="mousemove",Hs="mousedown",Ql="mouseup",Rs="mouseenter",zs="mouseleave",Fs="dblclick",kc="resize",Mc="scroll",Vs="change",ol="dppxchange",Xl="--",an=typeof window<"u",ti=an?document:null,cn=an?window:null,Oc=an?navigator:null;let st,al;function ei(){let e=devicePixelRatio;st!=e&&(st=e,al&&ii(Vs,al,ei),al=matchMedia(`(min-resolution: ${st-.001}dppx) and (max-resolution: ${st+.001}dppx)`),Ge(Vs,al,ei),cn.dispatchEvent(new CustomEvent(ol)))}function Qt(e,t){if(t!=null){let n=e.classList;!n.contains(t)&&n.add(t)}}function ni(e,t){let n=e.classList;n.contains(t)&&n.remove(t)}function pt(e,t,n){e.style[t]=n+"px"}function pe(e,t,n,l){let i=ti.createElement(e);return t!=null&&Qt(i,t),n?.insertBefore(i,l),i}function re(e,t){return pe("div",e,t)}const Ns=new WeakMap;function xe(e,t,n,l,i){let o="translate("+t+"px,"+n+"px)",a=Ns.get(e);o!=a&&(e.style.transform=o,Ns.set(e,o),t<0||n<0||t>l||n>i?Qt(e,We):ni(e,We))}const Bs=new WeakMap;function Ws(e,t,n){let l=t+n,i=Bs.get(e);l!=i&&(Bs.set(e,l),e.style.background=t,e.style.borderColor=n)}const Gs=new WeakMap;function qs(e,t,n,l){let i=t+""+n,o=Gs.get(e);i!=o&&(Gs.set(e,i),e.style.height=n+"px",e.style.width=t+"px",e.style.marginLeft=l?-t/2+"px":0,e.style.marginTop=l?-n/2+"px":0)}const li={passive:!0},Cc={...li,capture:!0};function Ge(e,t,n,l){t.addEventListener(e,n,l?Cc:li)}function ii(e,t,n,l){t.removeEventListener(e,n,li)}an&&ei();function me(e,t,n,l){let i;n=n||0,l=l||t.length-1;let o=l<=2147483647;for(;l-n>1;)i=o?n+l>>1:te((n+l)/2),t[i]<e?n=i:l=i;return e-t[n]<=t[l]-e?n:l}function Ys(e){return(n,l,i)=>{let o=-1,a=-1;for(let f=l;f<=i;f++)if(e(n[f])){o=f;break}for(let f=i;f>=l;f--)if(e(n[f])){a=f;break}return[o,a]}}const Us=e=>e!=null,Ks=e=>e!=null&&e>0,cl=Ys(Us),Lc=Ys(Ks);function Dc(e,t,n,l=0,i=!1){let o=i?Lc:cl,a=i?Ks:Us;[t,n]=o(e,t,n);let f=e[t],d=e[t];if(t>-1)if(l==1)f=e[t],d=e[n];else if(l==-1)f=e[n],d=e[t];else for(let p=t;p<=n;p++){let b=e[p];a(b)&&(b<f?f=b:b>d&&(d=b))}return[f??ft,d??-ft]}function ul(e,t,n,l){let i=Qs(e),o=Qs(t);e==t&&(i==-1?(e*=n,t/=n):(e/=n,t*=n));let a=n==10?Ce:Xs,f=i==1?te:oe,d=o==1?oe:te,p=f(a(kt(e))),b=d(a(kt(t))),g=un(n,p),v=un(n,b);return n==10&&(p<0&&(g=ht(g,-p)),b<0&&(v=ht(v,-b))),l||n==2?(e=g*i,t=v*o):(e=rr(e,g),t=dl(t,v)),[e,t]}function si(e,t,n,l){let i=ul(e,t,n,l);return e==0&&(i[0]=0),t==0&&(i[1]=0),i}const ri=.1,Js={mode:3,pad:ri},Wn={pad:0,soft:null,mode:0},Pc={min:Wn,max:Wn};function fl(e,t,n,l){return pl(n)?Zs(e,t,n):(Wn.pad=n,Wn.soft=l?0:null,Wn.mode=l?3:0,Zs(e,t,Pc))}function nt(e,t){return e??t}function Ic(e,t,n){for(t=nt(t,0),n=nt(n,e.length-1);t<=n;){if(e[t]!=null)return!0;t++}return!1}function Zs(e,t,n){let l=n.min,i=n.max,o=nt(l.pad,0),a=nt(i.pad,0),f=nt(l.hard,-ft),d=nt(i.hard,ft),p=nt(l.soft,ft),b=nt(i.soft,-ft),g=nt(l.mode,0),v=nt(i.mode,0),_=t-e,T=Ce(_),I=Nt(kt(e),kt(t)),$=Ce(I),M=kt($-T);(_<1e-24||M>10)&&(_=0,(e==0||t==0)&&(_=1e-24,g==2&&p!=ft&&(o=0),v==2&&b!=-ft&&(a=0)));let w=_||I||1e3,L=Ce(w),x=un(10,te(L)),V=w*(_==0?e==0?.1:1:o),A=ht(rr(e-V,x/10),24),W=e>=p&&(g==1||g==3&&A<=p||g==2&&A>=p)?p:ft,B=Nt(f,A<W&&e>=W?W:ge(W,A)),J=w*(_==0?t==0?.1:1:a),Y=ht(dl(t+J,x/10),24),k=t<=b&&(v==1||v==3&&Y>=b||v==2&&Y<=b)?b:-ft,K=ge(d,Y>k&&t<=k?k:Nt(k,Y));return B==K&&B==0&&(K=100),[B,K]}const $c=new Intl.NumberFormat(an?Oc.language:"en-US"),oi=e=>$c.format(e),Xt=Math,hl=Xt.PI,kt=Xt.abs,te=Xt.floor,Mt=Xt.round,oe=Xt.ceil,ge=Xt.min,Nt=Xt.max,un=Xt.pow,Qs=Xt.sign,Ce=Xt.log10,Xs=Xt.log2,jc=(e,t=1)=>Xt.sinh(e)*t,ai=(e,t=1)=>Xt.asinh(e/t),ft=1/0;function tr(e){return(Ce((e^e>>31)-(e>>31))|0)+1}function ci(e,t,n){return ge(Nt(e,t),n)}function er(e){return typeof e=="function"}function X(e){return er(e)?e:()=>e}const Hc=()=>{},nr=e=>e,lr=(e,t)=>t,Rc=e=>null,ir=e=>!0,sr=(e,t)=>e==t,zc=/\.\d*?(?=9{6,}|0{6,})/gm,qe=e=>{if(ar(e)||je.has(e))return e;const t=`${e}`,n=t.match(zc);if(n==null)return e;let l=n[0].length-1;if(t.indexOf("e-")!=-1){let[i,o]=t.split("e");return+`${qe(i)}e${o}`}return ht(e,l)};function Ye(e,t){return qe(ht(qe(e/t))*t)}function dl(e,t){return qe(oe(qe(e/t))*t)}function rr(e,t){return qe(te(qe(e/t))*t)}function ht(e,t=0){if(ar(e))return e;let n=10**t,l=e*n*(1+Number.EPSILON);return Mt(l)/n}const je=new Map;function or(e){return((""+e).split(".")[1]||"").length}function Gn(e,t,n,l){let i=[],o=l.map(or);for(let a=t;a<n;a++){let f=kt(a),d=ht(un(e,a),f);for(let p=0;p<l.length;p++){let b=e==10?+`${l[p]}e${a}`:l[p]*d,g=(a>=0?0:f)+(a>=o[p]?0:o[p]),v=e==10?b:ht(b,g);i.push(v),je.set(v,g)}}return i}const qn={},ui=[],fn=[null,null],He=Array.isArray,ar=Number.isInteger,Fc=e=>e===void 0;function cr(e){return typeof e=="string"}function pl(e){let t=!1;if(e!=null){let n=e.constructor;t=n==null||n==Object}return t}function Vc(e){return e!=null&&typeof e=="object"}const Nc=Object.getPrototypeOf(Uint8Array),ur="__proto__";function hn(e,t=pl){let n;if(He(e)){let l=e.find(i=>i!=null);if(He(l)||t(l)){n=Array(e.length);for(let i=0;i<e.length;i++)n[i]=hn(e[i],t)}else n=e.slice()}else if(e instanceof Nc)n=e.slice();else if(t(e)){n={};for(let l in e)l!=ur&&(n[l]=hn(e[l],t))}else n=e;return n}function At(e){let t=arguments;for(let n=1;n<t.length;n++){let l=t[n];for(let i in l)i!=ur&&(pl(e[i])?At(e[i],hn(l[i])):e[i]=hn(l[i]))}return e}const Bc=0,Wc=1,Gc=2;function qc(e,t,n){for(let l=0,i,o=-1;l<t.length;l++){let a=t[l];if(a>o){for(i=a-1;i>=0&&e[i]==null;)e[i--]=null;for(i=a+1;i<n&&e[i]==null;)e[o=i++]=null}}}function Yc(e,t){if(Jc(e)){let a=e[0].slice();for(let f=1;f<e.length;f++)a.push(...e[f].slice(1));return Zc(a[0])||(a=Kc(a)),a}let n=new Set;for(let a=0;a<e.length;a++){let d=e[a][0],p=d.length;for(let b=0;b<p;b++)n.add(d[b])}let l=[Array.from(n).sort((a,f)=>a-f)],i=l[0].length,o=new Map;for(let a=0;a<i;a++)o.set(l[0][a],a);for(let a=0;a<e.length;a++){let f=e[a],d=f[0];for(let p=1;p<f.length;p++){let b=f[p],g=Array(i).fill(void 0),v=t?t[a][p]:Wc,_=[];for(let T=0;T<b.length;T++){let I=b[T],$=o.get(d[T]);I===null?v!=Bc&&(g[$]=I,v==Gc&&_.push($)):g[$]=I}qc(g,_,i),l.push(g)}}return l}const Uc=typeof queueMicrotask>"u"?e=>Promise.resolve().then(e):queueMicrotask;function Kc(e){let t=e[0],n=t.length,l=Array(n);for(let o=0;o<l.length;o++)l[o]=o;l.sort((o,a)=>t[o]-t[a]);let i=[];for(let o=0;o<e.length;o++){let a=e[o],f=Array(n);for(let d=0;d<n;d++)f[d]=a[l[d]];i.push(f)}return i}function Jc(e){let t=e[0][0],n=t.length;for(let l=1;l<e.length;l++){let i=e[l][0];if(i.length!=n)return!1;if(i!=t){for(let o=0;o<n;o++)if(i[o]!=t[o])return!1}}return!0}function Zc(e,t=100){const n=e.length;if(n<=1)return!0;let l=0,i=n-1;for(;l<=i&&e[l]==null;)l++;for(;i>=l&&e[i]==null;)i--;if(i<=l)return!0;const o=Nt(1,te((i-l+1)/t));for(let a=e[l],f=l+o;f<=i;f+=o){const d=e[f];if(d!=null){if(d<=a)return!1;a=d}}return!0}const fr=["January","February","March","April","May","June","July","August","September","October","November","December"],hr=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function dr(e){return e.slice(0,3)}const Qc=hr.map(dr),Xc=fr.map(dr),tu={MMMM:fr,MMM:Xc,WWWW:hr,WWW:Qc};function Yn(e){return(e<10?"0":"")+e}function eu(e){return(e<10?"00":e<100?"0":"")+e}const nu={YYYY:e=>e.getFullYear(),YY:e=>(e.getFullYear()+"").slice(2),MMMM:(e,t)=>t.MMMM[e.getMonth()],MMM:(e,t)=>t.MMM[e.getMonth()],MM:e=>Yn(e.getMonth()+1),M:e=>e.getMonth()+1,DD:e=>Yn(e.getDate()),D:e=>e.getDate(),WWWW:(e,t)=>t.WWWW[e.getDay()],WWW:(e,t)=>t.WWW[e.getDay()],HH:e=>Yn(e.getHours()),H:e=>e.getHours(),h:e=>{let t=e.getHours();return t==0?12:t>12?t-12:t},AA:e=>e.getHours()>=12?"PM":"AM",aa:e=>e.getHours()>=12?"pm":"am",a:e=>e.getHours()>=12?"p":"a",mm:e=>Yn(e.getMinutes()),m:e=>e.getMinutes(),ss:e=>Yn(e.getSeconds()),s:e=>e.getSeconds(),fff:e=>eu(e.getMilliseconds())};function fi(e,t){t=t||tu;let n=[],l=/\{([a-z]+)\}|[^{]+/gi,i;for(;i=l.exec(e);)n.push(i[0][0]=="{"?nu[i[1]]:i[0]);return o=>{let a="";for(let f=0;f<n.length;f++)a+=typeof n[f]=="string"?n[f]:n[f](o,t);return a}}const lu=new Intl.DateTimeFormat().resolvedOptions().timeZone;function iu(e,t){let n;return t=="UTC"||t=="Etc/UTC"?n=new Date(+e+e.getTimezoneOffset()*6e4):t==lu?n=e:(n=new Date(e.toLocaleString("en-US",{timeZone:t})),n.setMilliseconds(e.getMilliseconds())),n}const pr=e=>e%1==0,ml=[1,2,2.5,5],su=Gn(10,-32,0,ml),mr=Gn(10,0,32,ml),ru=mr.filter(pr),Ue=su.concat(mr),hi=`
`,gr="{YYYY}",vr=hi+gr,yr="{M}/{D}",Un=hi+yr,gl=Un+"/{YY}",br="{aa}",dn="{h}:{mm}"+br,wr=hi+dn,Sr=":{ss}",ot=null;function xr(e){let t=e*1e3,n=t*60,l=n*60,i=l*24,o=i*30,a=i*365,d=(e==1?Gn(10,0,3,ml).filter(pr):Gn(10,-3,0,ml)).concat([t,t*5,t*10,t*15,t*30,n,n*5,n*10,n*15,n*30,l,l*2,l*3,l*4,l*6,l*8,l*12,i,i*2,i*3,i*4,i*5,i*6,i*7,i*8,i*9,i*10,i*15,o,o*2,o*3,o*4,o*6,a,a*2,a*5,a*10,a*25,a*50,a*100]);const p=[[a,gr,ot,ot,ot,ot,ot,ot,1],[i*28,"{MMM}",vr,ot,ot,ot,ot,ot,1],[i,yr,vr,ot,ot,ot,ot,ot,1],[l,"{h}"+br,gl,ot,Un,ot,ot,ot,1],[n,dn,gl,ot,Un,ot,ot,ot,1],[t,Sr,gl+" "+dn,ot,Un+" "+dn,ot,wr,ot,1],[e,Sr+".{fff}",gl+" "+dn,ot,Un+" "+dn,ot,wr,ot,1]];function b(g){return(v,_,T,I,$,M)=>{let w=[],L=$>=a,x=$>=o&&$<a,V=g(T),A=ht(V*e,3),W=di(V.getFullYear(),L?0:V.getMonth(),x||L?1:V.getDate()),B=ht(W*e,3);if(x||L){let J=x?$/o:0,Y=L?$/a:0,k=A==B?A:ht(di(W.getFullYear()+Y,W.getMonth()+J,1)*e,3),K=new Date(Mt(k/e)),j=K.getFullYear(),G=K.getMonth();for(let F=0;k<=I;F++){let tt=di(j+Y*F,G+J*F,1),z=tt-g(ht(tt*e,3));k=ht((+tt+z)*e,3),k<=I&&w.push(k)}}else{let J=$>=i?i:$,Y=te(T)-te(A),k=B+Y+dl(A-B,J);w.push(k);let K=g(k),j=K.getHours()+K.getMinutes()/n+K.getSeconds()/l,G=$/l,F=v.axes[_]._space,tt=M/F;for(;k=ht(k+$,e==1?0:3),!(k>I);)if(G>1){let z=te(ht(j+G,6))%24,lt=g(k).getHours()-z;lt>1&&(lt=-1),k-=lt*l,j=(j+G)%24;let ct=w[w.length-1];ht((k-ct)/$,3)*tt>=.7&&w.push(k)}else w.push(k)}return w}}return[d,p,b]}const[ou,au,cu]=xr(1),[uu,fu,hu]=xr(.001);Gn(2,-53,53,[1]);function Er(e,t){return e.map(n=>n.map((l,i)=>i==0||i==8||l==null?l:t(i==1||n[8]==0?l:n[1]+l)))}function Ar(e,t){return(n,l,i,o,a)=>{let f=t.find(T=>a>=T[0])||t[t.length-1],d,p,b,g,v,_;return l.map(T=>{let I=e(T),$=I.getFullYear(),M=I.getMonth(),w=I.getDate(),L=I.getHours(),x=I.getMinutes(),V=I.getSeconds(),A=$!=d&&f[2]||M!=p&&f[3]||w!=b&&f[4]||L!=g&&f[5]||x!=v&&f[6]||V!=_&&f[7]||f[1];return d=$,p=M,b=w,g=L,v=x,_=V,A(I)})}}function du(e,t){let n=fi(t);return(l,i,o,a,f)=>i.map(d=>n(e(d)))}function di(e,t,n){return new Date(e,t,n)}function _r(e,t){return t(e)}const pu="{YYYY}-{MM}-{DD} {h}:{mm}{aa}";function Tr(e,t){return(n,l,i,o)=>o==null?Xl:t(e(l))}function mu(e,t){let n=e.series[t];return n.width?n.stroke(e,t):n.points.width?n.points.stroke(e,t):null}function gu(e,t){return e.series[t].fill(e,t)}const vu={show:!0,live:!0,isolate:!1,mount:Hc,markers:{show:!0,width:2,stroke:mu,fill:gu,dash:"solid"},idx:null,idxs:null,values:[]};function yu(e,t){let n=e.cursor.points,l=re(),i=n.size(e,t);pt(l,Vn,i),pt(l,Nn,i);let o=i/-2;pt(l,"marginLeft",o),pt(l,"marginTop",o);let a=n.width(e,t,i);return a&&pt(l,"borderWidth",a),l}function bu(e,t){let n=e.series[t].points;return n._fill||n._stroke}function wu(e,t){let n=e.series[t].points;return n._stroke||n._fill}function Su(e,t){return e.series[t].points.size}const pi=[0,0];function xu(e,t,n){return pi[0]=t,pi[1]=n,pi}function vl(e,t,n,l=!0){return i=>{i.button==0&&(!l||i.target==t)&&n(i)}}function mi(e,t,n,l=!0){return i=>{(!l||i.target==t)&&n(i)}}const Eu={show:!0,x:!0,y:!0,lock:!1,move:xu,points:{one:!1,show:yu,size:Su,width:0,stroke:wu,fill:bu},bind:{mousedown:vl,mouseup:vl,click:vl,dblclick:vl,mousemove:mi,mouseleave:mi,mouseenter:mi},drag:{setScale:!0,x:!0,y:!1,dist:0,uni:null,click:(e,t)=>{t.stopPropagation(),t.stopImmediatePropagation()},_x:!1,_y:!1},focus:{dist:(e,t,n,l,i)=>l-i,prox:-1,bias:0},hover:{skip:[void 0],prox:null,bias:0},left:-10,top:-10,idx:null,dataIdx:null,idxs:null,event:null},kr={show:!0,stroke:"rgba(0,0,0,0.07)",width:2},gi=At({},kr,{filter:lr}),Mr=At({},gi,{size:10}),Or=At({},kr,{show:!1}),vi='12px system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"',Cr="bold "+vi,Lr=1.5,Dr={show:!0,scale:"x",stroke:Jl,space:50,gap:5,alignTo:1,size:50,labelGap:0,labelSize:30,labelFont:Cr,side:2,grid:gi,ticks:Mr,border:Or,font:vi,lineGap:Lr,rotate:0},Au="Value",_u="Time",Pr={show:!0,scale:"x",auto:!1,sorted:1,min:ft,max:-ft,idxs:[]};function Tu(e,t,n,l,i){return t.map(o=>o==null?"":oi(o))}function ku(e,t,n,l,i,o,a){let f=[],d=je.get(i)||0;n=a?n:ht(dl(n,i),d);for(let p=n;p<=l;p=ht(p+i,d))f.push(Object.is(p,-0)?0:p);return f}function yi(e,t,n,l,i,o,a){const f=[],d=e.scales[e.axes[t].scale].log,p=d==10?Ce:Xs,b=te(p(n));i=un(d,b),d==10&&(i=Ue[me(i,Ue)]);let g=n,v=i*d;d==10&&(v=Ue[me(v,Ue)]);do f.push(g),g=g+i,d==10&&!je.has(g)&&(g=ht(g,je.get(i))),g>=v&&(i=g,v=i*d,d==10&&(v=Ue[me(v,Ue)]));while(g<=l);return f}function Mu(e,t,n,l,i,o,a){let d=e.scales[e.axes[t].scale].asinh,p=l>d?yi(e,t,Nt(d,n),l,i):[d],b=l>=0&&n<=0?[0]:[];return(n<-d?yi(e,t,Nt(d,-l),-n,i):[d]).reverse().map(v=>-v).concat(b,p)}const Ir=/./,Ou=/[12357]/,Cu=/[125]/,$r=/1/,bi=(e,t,n,l)=>e.map((i,o)=>t==4&&i==0||o%l==0&&n.test(i.toExponential()[i<0?1:0])?i:null);function Lu(e,t,n,l,i){let o=e.axes[n],a=o.scale,f=e.scales[a],d=e.valToPos,p=o._space,b=d(10,a),g=d(9,a)-b>=p?Ir:d(7,a)-b>=p?Ou:d(5,a)-b>=p?Cu:$r;if(g==$r){let v=kt(d(1,a)-b);if(v<p)return bi(t.slice().reverse(),f.distr,g,oe(p/v)).reverse()}return bi(t,f.distr,g,1)}function Du(e,t,n,l,i){let o=e.axes[n],a=o.scale,f=o._space,d=e.valToPos,p=kt(d(1,a)-d(2,a));return p<f?bi(t.slice().reverse(),3,Ir,oe(f/p)).reverse():t}function Pu(e,t,n,l){return l==null?Xl:t==null?"":oi(t)}const jr={show:!0,scale:"y",stroke:Jl,space:30,gap:5,alignTo:1,size:50,labelGap:0,labelSize:30,labelFont:Cr,side:3,grid:gi,ticks:Mr,border:Or,font:vi,lineGap:Lr,rotate:0};function Iu(e,t){let n=3+(e||1)*2;return ht(n*t,3)}function $u(e,t){let{scale:n,idxs:l}=e.series[0],i=e._data[0],o=e.valToPos(i[l[0]],n,!0),a=e.valToPos(i[l[1]],n,!0),f=kt(a-o),d=e.series[t],p=f/(d.points.space*st);return l[1]-l[0]<=p}const Hr={scale:null,auto:!0,sorted:0,min:ft,max:-ft},Rr=(e,t,n,l,i)=>i,zr={show:!0,auto:!0,sorted:0,gaps:Rr,alpha:1,facets:[At({},Hr,{scale:"x"}),At({},Hr,{scale:"y"})]},Fr={scale:"y",auto:!0,sorted:0,show:!0,spanGaps:!1,gaps:Rr,alpha:1,points:{show:$u,filter:null},values:null,min:ft,max:-ft,idxs:[],path:null,clip:null};function ju(e,t,n,l,i){return n/10}const Vr={time:ac,auto:!0,distr:1,log:10,asinh:1,min:null,max:null,dir:1,ori:0},Hu=At({},Vr,{time:!1,ori:1}),Nr={};function Br(e,t){let n=Nr[e];return n||(n={key:e,plots:[],sub(l){n.plots.push(l)},unsub(l){n.plots=n.plots.filter(i=>i!=l)},pub(l,i,o,a,f,d,p){for(let b=0;b<n.plots.length;b++)n.plots[b]!=i&&n.plots[b].pub(l,i,o,a,f,d,p)}},e!=null&&(Nr[e]=n)),n}const pn=1,wi=2;function Ke(e,t,n){const l=e.mode,i=e.series[t],o=l==2?e._data[t]:e._data,a=e.scales,f=e.bbox;let d=o[0],p=l==2?o[1]:o[t],b=l==2?a[i.facets[0].scale]:a[e.series[0].scale],g=l==2?a[i.facets[1].scale]:a[i.scale],v=f.left,_=f.top,T=f.width,I=f.height,$=e.valToPosH,M=e.valToPosV;return b.ori==0?n(i,d,p,b,g,$,M,v,_,T,I,bl,mn,Sl,qr,Ur):n(i,d,p,b,g,M,$,_,v,I,T,wl,gn,Ei,Yr,Kr)}function Si(e,t){let n=0,l=0,i=nt(e.bands,ui);for(let o=0;o<i.length;o++){let a=i[o];a.series[0]==t?n=a.dir:a.series[1]==t&&(a.dir==1?l|=1:l|=2)}return[n,l==1?-1:l==2?1:l==3?2:0]}function Ru(e,t,n,l,i){let o=e.mode,a=e.series[t],f=o==2?a.facets[1].scale:a.scale,d=e.scales[f];return i==-1?d.min:i==1?d.max:d.distr==3?d.dir==1?d.min:d.max:0}function Le(e,t,n,l,i,o){return Ke(e,t,(a,f,d,p,b,g,v,_,T,I,$)=>{let M=a.pxRound;const w=p.dir*(p.ori==0?1:-1),L=p.ori==0?mn:gn;let x,V;w==1?(x=n,V=l):(x=l,V=n);let A=M(g(f[x],p,I,_)),W=M(v(d[x],b,$,T)),B=M(g(f[V],p,I,_)),J=M(v(o==1?b.max:b.min,b,$,T)),Y=new Path2D(i);return L(Y,B,J),L(Y,A,J),L(Y,A,W),Y})}function yl(e,t,n,l,i,o){let a=null;if(e.length>0){a=new Path2D;const f=t==0?Sl:Ei;let d=n;for(let g=0;g<e.length;g++){let v=e[g];if(v[1]>v[0]){let _=v[0]-d;_>0&&f(a,d,l,_,l+o),d=v[1]}}let p=n+i-d,b=10;p>0&&f(a,d,l-b/2,p,l+o+b)}return a}function zu(e,t,n){let l=e[e.length-1];l&&l[0]==t?l[1]=n:e.push([t,n])}function xi(e,t,n,l,i,o,a){let f=[],d=e.length;for(let p=i==1?n:l;p>=n&&p<=l;p+=i)if(t[p]===null){let g=p,v=p;if(i==1)for(;++p<=l&&t[p]===null;)v=p;else for(;--p>=n&&t[p]===null;)v=p;let _=o(e[g]),T=v==g?_:o(e[v]),I=g-i;_=a<=0&&I>=0&&I<d?o(e[I]):_;let M=v+i;T=a>=0&&M>=0&&M<d?o(e[M]):T,T>=_&&f.push([_,T])}return f}function Wr(e){return e==0?nr:e==1?Mt:t=>Ye(t,e)}function Gr(e){let t=e==0?bl:wl,n=e==0?(i,o,a,f,d,p)=>{i.arcTo(o,a,f,d,p)}:(i,o,a,f,d,p)=>{i.arcTo(a,o,d,f,p)},l=e==0?(i,o,a,f,d)=>{i.rect(o,a,f,d)}:(i,o,a,f,d)=>{i.rect(a,o,d,f)};return(i,o,a,f,d,p=0,b=0)=>{p==0&&b==0?l(i,o,a,f,d):(p=ge(p,f/2,d/2),b=ge(b,f/2,d/2),t(i,o+p,a),n(i,o+f,a,o+f,a+d,p),n(i,o+f,a+d,o,a+d,b),n(i,o,a+d,o,a,b),n(i,o,a,o+f,a,p),i.closePath())}}const bl=(e,t,n)=>{e.moveTo(t,n)},wl=(e,t,n)=>{e.moveTo(n,t)},mn=(e,t,n)=>{e.lineTo(t,n)},gn=(e,t,n)=>{e.lineTo(n,t)},Sl=Gr(0),Ei=Gr(1),qr=(e,t,n,l,i,o)=>{e.arc(t,n,l,i,o)},Yr=(e,t,n,l,i,o)=>{e.arc(n,t,l,i,o)},Ur=(e,t,n,l,i,o,a)=>{e.bezierCurveTo(t,n,l,i,o,a)},Kr=(e,t,n,l,i,o,a)=>{e.bezierCurveTo(n,t,i,l,a,o)};function Jr(e){return(t,n,l,i,o)=>Ke(t,n,(a,f,d,p,b,g,v,_,T,I,$)=>{let{pxRound:M,points:w}=a,L,x;p.ori==0?(L=bl,x=qr):(L=wl,x=Yr);const V=ht(w.width*st,3);let A=(w.size-w.width)/2*st,W=ht(A*2,3),B=new Path2D,J=new Path2D,{left:Y,top:k,width:K,height:j}=t.bbox;Sl(J,Y-W,k-W,K+W*2,j+W*2);const G=F=>{if(d[F]!=null){let tt=M(g(f[F],p,I,_)),z=M(v(d[F],b,$,T));L(B,tt+A,z),x(B,tt,z,A,0,hl*2)}};if(o)o.forEach(G);else for(let F=l;F<=i;F++)G(F);return{stroke:V>0?B:null,fill:B,clip:J,flags:pn|wi}})}function Zr(e){return(t,n,l,i,o,a)=>{l!=i&&(o!=l&&a!=l&&e(t,n,l),o!=i&&a!=i&&e(t,n,i),e(t,n,a))}}const Fu=Zr(mn),Vu=Zr(gn);function Qr(e){const t=nt(e?.alignGaps,0);return(n,l,i,o)=>Ke(n,l,(a,f,d,p,b,g,v,_,T,I,$)=>{[i,o]=cl(d,i,o);let M=a.pxRound,w=j=>M(g(j,p,I,_)),L=j=>M(v(j,b,$,T)),x,V;p.ori==0?(x=mn,V=Fu):(x=gn,V=Vu);const A=p.dir*(p.ori==0?1:-1),W={stroke:new Path2D,fill:null,clip:null,band:null,gaps:null,flags:pn},B=W.stroke;let J=!1;if(o-i>=I*4){let j=H=>n.posToVal(H,p.key,!0),G=null,F=null,tt,z,Ut,yt=w(f[A==1?i:o]),lt=w(f[i]),ct=w(f[o]),Z=j(A==1?lt+1:ct-1);for(let H=A==1?i:o;H>=i&&H<=o;H+=A){let Ot=f[H],bt=(A==1?Ot<Z:Ot>Z)?yt:w(Ot),at=d[H];bt==yt?at!=null?(z=at,G==null?(x(B,bt,L(z)),tt=G=F=z):z<G?G=z:z>F&&(F=z)):at===null&&(J=!0):(G!=null&&V(B,yt,L(G),L(F),L(tt),L(z)),at!=null?(z=at,x(B,bt,L(z)),G=F=tt=z):(G=F=null,at===null&&(J=!0)),yt=bt,Z=j(yt+A))}G!=null&&G!=F&&Ut!=yt&&V(B,yt,L(G),L(F),L(tt),L(z))}else for(let j=A==1?i:o;j>=i&&j<=o;j+=A){let G=d[j];G===null?J=!0:G!=null&&x(B,w(f[j]),L(G))}let[k,K]=Si(n,l);if(a.fill!=null||k!=0){let j=W.fill=new Path2D(B),G=a.fillTo(n,l,a.min,a.max,k),F=L(G),tt=w(f[i]),z=w(f[o]);A==-1&&([z,tt]=[tt,z]),x(j,z,F),x(j,tt,F)}if(!a.spanGaps){let j=[];J&&j.push(...xi(f,d,i,o,A,w,t)),W.gaps=j=a.gaps(n,l,i,o,j),W.clip=yl(j,p.ori,_,T,I,$)}return K!=0&&(W.band=K==2?[Le(n,l,i,o,B,-1),Le(n,l,i,o,B,1)]:Le(n,l,i,o,B,K)),W})}function Nu(e){const t=nt(e.align,1),n=nt(e.ascDesc,!1),l=nt(e.alignGaps,0),i=nt(e.extend,!1);return(o,a,f,d)=>Ke(o,a,(p,b,g,v,_,T,I,$,M,w,L)=>{[f,d]=cl(g,f,d);let x=p.pxRound,{left:V,width:A}=o.bbox,W=lt=>x(T(lt,v,w,$)),B=lt=>x(I(lt,_,L,M)),J=v.ori==0?mn:gn;const Y={stroke:new Path2D,fill:null,clip:null,band:null,gaps:null,flags:pn},k=Y.stroke,K=v.dir*(v.ori==0?1:-1);let j=B(g[K==1?f:d]),G=W(b[K==1?f:d]),F=G,tt=G;i&&t==-1&&(tt=V,J(k,tt,j)),J(k,G,j);for(let lt=K==1?f:d;lt>=f&&lt<=d;lt+=K){let ct=g[lt];if(ct==null)continue;let Z=W(b[lt]),H=B(ct);t==1?J(k,Z,j):J(k,F,H),J(k,Z,H),j=H,F=Z}let z=F;i&&t==1&&(z=V+A,J(k,z,j));let[Ut,yt]=Si(o,a);if(p.fill!=null||Ut!=0){let lt=Y.fill=new Path2D(k),ct=p.fillTo(o,a,p.min,p.max,Ut),Z=B(ct);J(lt,z,Z),J(lt,tt,Z)}if(!p.spanGaps){let lt=[];lt.push(...xi(b,g,f,d,K,W,l));let ct=p.width*st/2,Z=n||t==1?ct:-ct,H=n||t==-1?-ct:ct;lt.forEach(Ot=>{Ot[0]+=Z,Ot[1]+=H}),Y.gaps=lt=p.gaps(o,a,f,d,lt),Y.clip=yl(lt,v.ori,$,M,w,L)}return yt!=0&&(Y.band=yt==2?[Le(o,a,f,d,k,-1),Le(o,a,f,d,k,1)]:Le(o,a,f,d,k,yt)),Y})}function Xr(e,t,n,l,i,o,a=ft){if(e.length>1){let f=null;for(let d=0,p=1/0;d<e.length;d++)if(t[d]!==void 0){if(f!=null){let b=kt(e[d]-e[f]);b<p&&(p=b,a=kt(n(e[d],l,i,o)-n(e[f],l,i,o)))}f=d}}return a}function Bu(e){e=e||qn;const t=nt(e.size,[.6,ft,1]),n=e.align||0,l=e.gap||0;let i=e.radius;i=i==null?[0,0]:typeof i=="number"?[i,0]:i;const o=X(i),a=1-t[0],f=nt(t[1],ft),d=nt(t[2],1),p=nt(e.disp,qn),b=nt(e.each,_=>{}),{fill:g,stroke:v}=p;return(_,T,I,$)=>Ke(_,T,(M,w,L,x,V,A,W,B,J,Y,k)=>{let K=M.pxRound,j=n,G=l*st,F=f*st,tt=d*st,z,Ut;x.ori==0?[z,Ut]=o(_,T):[Ut,z]=o(_,T);const yt=x.dir*(x.ori==0?1:-1);let lt=x.ori==0?Sl:Ei,ct=x.ori==0?b:(D,dt,Ct,En,Qe,Ae,Xe)=>{b(D,dt,Ct,Qe,En,Xe,Ae)},Z=nt(_.bands,ui).find(D=>D.series[0]==T),H=Z!=null?Z.dir:0,Ot=M.fillTo(_,T,M.min,M.max,H),Bt=K(W(Ot,V,k,J)),bt,at,ve,ee=Y,St=K(M.width*st),Ee=!1,Pe=null,ae=null,Re=null,wn=null;g!=null&&(St==0||v!=null)&&(Ee=!0,Pe=g.values(_,T,I,$),ae=new Map,new Set(Pe).forEach(D=>{D!=null&&ae.set(D,new Path2D)}),St>0&&(Re=v.values(_,T,I,$),wn=new Map,new Set(Re).forEach(D=>{D!=null&&wn.set(D,new Path2D)})));let{x0:Sn,size:Jn}=p;if(Sn!=null&&Jn!=null){j=1,w=Sn.values(_,T,I,$),Sn.unit==2&&(w=w.map(Ct=>_.posToVal(B+Ct*Y,x.key,!0)));let D=Jn.values(_,T,I,$);Jn.unit==2?at=D[0]*Y:at=A(D[0],x,Y,B)-A(0,x,Y,B),ee=Xr(w,L,A,x,Y,B,ee),ve=ee-at+G}else ee=Xr(w,L,A,x,Y,B,ee),ve=ee*a+G,at=ee-ve;ve<1&&(ve=0),St>=at/2&&(St=0),ve<5&&(K=nr);let Ll=ve>0,Je=ee-ve-(Ll?St:0);at=K(ci(Je,tt,F)),bt=(j==0?at/2:j==yt?0:at)-j*yt*((j==0?G/2:0)+(Ll?St/2:0));const Wt={stroke:null,fill:null,clip:null,band:null,gaps:null,flags:0},xn=Ee?null:new Path2D;let Ie=null;if(Z!=null)Ie=_.data[Z.series[1]];else{let{y0:D,y1:dt}=p;D!=null&&dt!=null&&(L=dt.values(_,T,I,$),Ie=D.values(_,T,I,$))}let Ze=z*at,U=Ut*at;for(let D=yt==1?I:$;D>=I&&D<=$;D+=yt){let dt=L[D];if(dt==null)continue;if(Ie!=null){let Kt=Ie[D]??0;if(dt-Kt==0)continue;Bt=W(Kt,V,k,J)}let Ct=x.distr!=2||p!=null?w[D]:D,En=A(Ct,x,Y,B),Qe=W(nt(dt,Ot),V,k,J),Ae=K(En-bt),Xe=K(Nt(Qe,Bt)),ne=K(ge(Qe,Bt)),ce=Xe-ne;if(dt!=null){let Kt=dt<0?U:Ze,ye=dt<0?Ze:U;Ee?(St>0&&Re[D]!=null&&lt(wn.get(Re[D]),Ae,ne+te(St/2),at,Nt(0,ce-St),Kt,ye),Pe[D]!=null&&lt(ae.get(Pe[D]),Ae,ne+te(St/2),at,Nt(0,ce-St),Kt,ye)):lt(xn,Ae,ne+te(St/2),at,Nt(0,ce-St),Kt,ye),ct(_,T,D,Ae-St/2,ne,at+St,ce)}}return St>0?Wt.stroke=Ee?wn:xn:Ee||(Wt._fill=M.width==0?M._fill:M._stroke??M._fill,Wt.width=0),Wt.fill=Ee?ae:xn,Wt})}function Wu(e,t){const n=nt(t?.alignGaps,0);return(l,i,o,a)=>Ke(l,i,(f,d,p,b,g,v,_,T,I,$,M)=>{[o,a]=cl(p,o,a);let w=f.pxRound,L=z=>w(v(z,b,$,T)),x=z=>w(_(z,g,M,I)),V,A,W;b.ori==0?(V=bl,W=mn,A=Ur):(V=wl,W=gn,A=Kr);const B=b.dir*(b.ori==0?1:-1);let J=L(d[B==1?o:a]),Y=J,k=[],K=[];for(let z=B==1?o:a;z>=o&&z<=a;z+=B)if(p[z]!=null){let yt=d[z],lt=L(yt);k.push(Y=lt),K.push(x(p[z]))}const j={stroke:e(k,K,V,W,A,w),fill:null,clip:null,band:null,gaps:null,flags:pn},G=j.stroke;let[F,tt]=Si(l,i);if(f.fill!=null||F!=0){let z=j.fill=new Path2D(G),Ut=f.fillTo(l,i,f.min,f.max,F),yt=x(Ut);W(z,Y,yt),W(z,J,yt)}if(!f.spanGaps){let z=[];z.push(...xi(d,p,o,a,B,L,n)),j.gaps=z=f.gaps(l,i,o,a,z),j.clip=yl(z,b.ori,T,I,$,M)}return tt!=0&&(j.band=tt==2?[Le(l,i,o,a,G,-1),Le(l,i,o,a,G,1)]:Le(l,i,o,a,G,tt)),j})}function Gu(e){return Wu(qu,e)}function qu(e,t,n,l,i,o){const a=e.length;if(a<2)return null;const f=new Path2D;if(n(f,e[0],t[0]),a==2)l(f,e[1],t[1]);else{let d=Array(a),p=Array(a-1),b=Array(a-1),g=Array(a-1);for(let v=0;v<a-1;v++)b[v]=t[v+1]-t[v],g[v]=e[v+1]-e[v],p[v]=b[v]/g[v];d[0]=p[0];for(let v=1;v<a-1;v++)p[v]===0||p[v-1]===0||p[v-1]>0!=p[v]>0?d[v]=0:(d[v]=3*(g[v-1]+g[v])/((2*g[v]+g[v-1])/p[v-1]+(g[v]+2*g[v-1])/p[v]),isFinite(d[v])||(d[v]=0));d[a-1]=p[a-2];for(let v=0;v<a-1;v++)i(f,e[v]+g[v]/3,t[v]+d[v]*g[v]/3,e[v+1]-g[v]/3,t[v+1]-d[v+1]*g[v]/3,e[v+1],t[v+1])}return f}const Ai=new Set;function to(){for(let e of Ai)e.syncRect(!0)}an&&(Ge(kc,cn,to),Ge(Mc,cn,to,!0),Ge(ol,cn,()=>{Rt.pxRatio=st}));const Yu=Qr(),Uu=Jr();function eo(e,t,n,l){return(l?[e[0],e[1]].concat(e.slice(2)):[e[0]].concat(e.slice(1))).map((o,a)=>_i(o,a,t,n))}function Ku(e,t){return e.map((n,l)=>l==0?{}:At({},t,n))}function _i(e,t,n,l){return At({},t==0?n:l,e)}function no(e,t,n){return t==null?fn:[t,n]}const Ju=no;function Zu(e,t,n){return t==null?fn:fl(t,n,ri,!0)}function lo(e,t,n,l){return t==null?fn:ul(t,n,e.scales[l].log,!1)}const Qu=lo;function io(e,t,n,l){return t==null?fn:si(t,n,e.scales[l].log,!1)}const Xu=io;function tf(e,t,n,l,i){let o=Nt(tr(e),tr(t)),a=t-e,f=me(i/l*a,n);do{let d=n[f],p=l*d/a;if(p>=i&&o+(d<5?je.get(d):0)<=17)return[d,p]}while(++f<n.length);return[0,0]}function so(e){let t,n;return e=e.replace(/(\d+)px/,(l,i)=>(t=Mt((n=+i)*st))+"px"),[e,t,n]}function ef(e){e.show&&[e.font,e.labelFont].forEach(t=>{let n=ht(t[2]*st,1);t[0]=t[0].replace(/[0-9.]+px/,n+"px"),t[1]=n})}function Rt(e,t,n){const l={mode:nt(e.mode,1)},i=l.mode;function o(s,r,c,u){let h=r.valToPct(s);return u+c*(r.dir==-1?1-h:h)}function a(s,r,c,u){let h=r.valToPct(s);return u+c*(r.dir==-1?h:1-h)}function f(s,r,c,u){return r.ori==0?o(s,r,c,u):a(s,r,c,u)}l.valToPosH=o,l.valToPosV=a;let d=!1;l.status=0;const p=l.root=re(cc);if(e.id!=null&&(p.id=e.id),Qt(p,e.class),e.title){let s=re(hc,p);s.textContent=e.title}const b=pe("canvas"),g=l.ctx=b.getContext("2d"),v=re(dc,p);Ge("click",v,s=>{s.target===T&&(mt!=In||wt!=$n)&&Ft.click(l,s)},!0);const _=l.under=re(pc,v);v.appendChild(b);const T=l.over=re(mc,v);e=hn(e);const I=+nt(e.pxAlign,1),$=Wr(I);(e.plugins||[]).forEach(s=>{s.opts&&(e=s.opts(l,e)||e)});const M=e.ms||.001,w=l.series=i==1?eo(e.series||[],Pr,Fr,!1):Ku(e.series||[null],zr),L=l.axes=eo(e.axes||[],Dr,jr,!0),x=l.scales={},V=l.bands=e.bands||[];V.forEach(s=>{s.fill=X(s.fill||null),s.dir=nt(s.dir,-1)});const A=i==2?w[1].facets[0].scale:w[0].scale,W={axes:dh,series:ah},B=(e.drawOrder||["axes","series"]).map(s=>W[s]);function J(s){const r=s.distr==3?c=>Ce(c>0?c:s.clamp(l,c,s.min,s.max,s.key)):s.distr==4?c=>ai(c,s.asinh):s.distr==100?c=>s.fwd(c):c=>c;return c=>{let u=r(c),{_min:h,_max:m}=s,y=m-h;return(u-h)/y}}function Y(s){let r=x[s];if(r==null){let c=(e.scales||qn)[s]||qn;if(c.from!=null){Y(c.from);let u=At({},x[c.from],c,{key:s});u.valToPct=J(u),x[s]=u}else{r=x[s]=At({},s==A?Vr:Hu,c),r.key=s;let u=r.time,h=r.range,m=He(h);if((s!=A||i==2&&!u)&&(m&&(h[0]==null||h[1]==null)&&(h={min:h[0]==null?Js:{mode:1,hard:h[0],soft:h[0]},max:h[1]==null?Js:{mode:1,hard:h[1],soft:h[1]}},m=!1),!m&&pl(h))){let y=h;h=(S,E,O)=>E==null?fn:fl(E,O,y)}r.range=X(h||(u?Ju:s==A?r.distr==3?Qu:r.distr==4?Xu:no:r.distr==3?lo:r.distr==4?io:Zu)),r.auto=X(m?!1:r.auto),r.clamp=X(r.clamp||ju),r._min=r._max=null,r.valToPct=J(r)}}}Y("x"),Y("y"),i==1&&w.forEach(s=>{Y(s.scale)}),L.forEach(s=>{Y(s.scale)});for(let s in e.scales)Y(s);const k=x[A],K=k.distr;let j,G;k.ori==0?(Qt(p,uc),j=o,G=a):(Qt(p,fc),j=a,G=o);const F={};for(let s in x){let r=x[s];(r.min!=null||r.max!=null)&&(F[s]={min:r.min,max:r.max},r.min=r.max=null)}const tt=e.tzDate||(s=>new Date(Mt(s/M))),z=e.fmtDate||fi,Ut=M==1?cu(tt):hu(tt),yt=Ar(tt,Er(M==1?au:fu,z)),lt=Tr(tt,_r(pu,z)),ct=[],Z=l.legend=At({},vu,e.legend),H=l.cursor=At({},Eu,{drag:{y:i==2}},e.cursor),Ot=Z.show,Bt=H.show,bt=Z.markers;Z.idxs=ct,bt.width=X(bt.width),bt.dash=X(bt.dash),bt.stroke=X(bt.stroke),bt.fill=X(bt.fill);let at,ve,ee,St=[],Ee=[],Pe,ae=!1,Re={};if(Z.live){const s=w[1]?w[1].values:null;ae=s!=null,Pe=ae?s(l,1,0):{_:0};for(let r in Pe)Re[r]=Xl}if(Ot)if(at=pe("table",Sc,p),ee=pe("tbody",null,at),Z.mount(l,at),ae){ve=pe("thead",null,at,ee);let s=pe("tr",null,ve);pe("th",null,s);for(var wn in Pe)pe("th",Is,s).textContent=wn}else Qt(at,Ec),Z.live&&Qt(at,xc);const Sn={show:!0},Jn={show:!1};function Ll(s,r){if(r==0&&(ae||!Z.live||i==2))return fn;let c=[],u=pe("tr",Ac,ee,ee.childNodes[r]);Qt(u,s.class),s.show||Qt(u,We);let h=pe("th",null,u);if(bt.show){let S=re(_c,h);if(r>0){let E=bt.width(l,r);E&&(S.style.border=E+"px "+bt.dash(l,r)+" "+bt.stroke(l,r)),S.style.background=bt.fill(l,r)}}let m=re(Is,h);s.label instanceof HTMLElement?m.appendChild(s.label):m.textContent=s.label,r>0&&(bt.show||(m.style.color=s.width>0?bt.stroke(l,r):bt.fill(l,r)),Wt("click",h,S=>{if(H._lock)return;en(S);let E=w.indexOf(s);if((S.ctrlKey||S.metaKey)!=Z.isolate){let O=w.some((C,P)=>P>0&&P!=E&&C.show);w.forEach((C,P)=>{P>0&&Te(P,O?P==E?Sn:Jn:Sn,!0,_t.setSeries)})}else Te(E,{show:!s.show},!0,_t.setSeries)},!1),_n&&Wt(Rs,h,S=>{H._lock||(en(S),Te(w.indexOf(s),Hn,!0,_t.setSeries))},!1));for(var y in Pe){let S=pe("td",Tc,u);S.textContent="--",c.push(S)}return[u,c]}const Je=new Map;function Wt(s,r,c,u=!0){const h=Je.get(r)||{},m=H.bind[s](l,r,c,u);m&&(Ge(s,r,h[s]=m),Je.set(r,h))}function xn(s,r,c){const u=Je.get(r)||{};for(let h in u)(s==null||h==s)&&(ii(h,r,u[h]),delete u[h]);s==null&&Je.delete(r)}let Ie=0,Ze=0,U=0,D=0,dt=0,Ct=0,En=dt,Qe=Ct,Ae=U,Xe=D,ne=0,ce=0,Kt=0,ye=0;l.bbox={};let Yi=!1,Dl=!1,An=!1,tn=!1,Pl=!1,ue=!1;function Ui(s,r,c){(c||s!=l.width||r!=l.height)&&Eo(s,r),Cn(!1),An=!0,Dl=!0,Ln()}function Eo(s,r){l.width=Ie=U=s,l.height=Ze=D=r,dt=Ct=0,eh(),nh();let c=l.bbox;ne=c.left=Ye(dt*st,.5),ce=c.top=Ye(Ct*st,.5),Kt=c.width=Ye(U*st,.5),ye=c.height=Ye(D*st,.5)}const Qf=3;function Xf(){let s=!1,r=0;for(;!s;){r++;let c=fh(r),u=hh(r);s=r==Qf||c&&u,s||(Eo(l.width,l.height),Dl=!0)}}function th({width:s,height:r}){Ui(s,r)}l.setSize=th;function eh(){let s=!1,r=!1,c=!1,u=!1;L.forEach((h,m)=>{if(h.show&&h._show){let{side:y,_size:S}=h,E=y%2,O=h.label!=null?h.labelSize:0,C=S+O;C>0&&(E?(U-=C,y==3?(dt+=C,u=!0):c=!0):(D-=C,y==0?(Ct+=C,s=!0):r=!0))}}),nn[0]=s,nn[1]=c,nn[2]=r,nn[3]=u,U-=ze[1]+ze[3],dt+=ze[3],D-=ze[2]+ze[0],Ct+=ze[0]}function nh(){let s=dt+U,r=Ct+D,c=dt,u=Ct;function h(m,y){switch(m){case 1:return s+=y,s-y;case 2:return r+=y,r-y;case 3:return c-=y,c+y;case 0:return u-=y,u+y}}L.forEach((m,y)=>{if(m.show&&m._show){let S=m.side;m._pos=h(S,m._size),m.label!=null&&(m._lpos=h(S,m.labelSize))}})}if(H.dataIdx==null){let s=H.hover,r=s.skip=new Set(s.skip??[]);r.add(void 0);let c=s.prox=X(s.prox),u=s.bias??=0;H.dataIdx=(h,m,y,S)=>{if(m==0)return y;let E=y,O=c(h,m,y,S)??ft,C=O>=0&&O<ft,P=k.ori==0?U:D,q=H.left,rt=t[0],it=t[m];if(r.has(it[y])){E=null;let Q=null,N=null,R;if(u==0||u==-1)for(R=y;Q==null&&R-- >0;)r.has(it[R])||(Q=R);if(u==0||u==1)for(R=y;N==null&&R++<it.length;)r.has(it[R])||(N=R);if(Q!=null||N!=null)if(C){let vt=Q==null?-1/0:j(rt[Q],k,P,0),xt=N==null?1/0:j(rt[N],k,P,0),Ht=q-vt,ut=xt-q;Ht<=ut?Ht<=O&&(E=Q):ut<=O&&(E=N)}else E=N==null?Q:Q==null?N:y-Q<=N-y?Q:N}else C&&kt(q-j(rt[y],k,P,0))>O&&(E=null);return E}}const en=s=>{H.event=s};H.idxs=ct,H._lock=!1;let Vt=H.points;Vt.show=X(Vt.show),Vt.size=X(Vt.size),Vt.stroke=X(Vt.stroke),Vt.width=X(Vt.width),Vt.fill=X(Vt.fill);const _e=l.focus=At({},e.focus||{alpha:.3},H.focus),_n=_e.prox>=0,Tn=_n&&Vt.one;let fe=[],kn=[],Mn=[];function Ao(s,r){let c=Vt.show(l,r);if(c instanceof HTMLElement)return Qt(c,wc),Qt(c,s.class),xe(c,-10,-10,U,D),T.insertBefore(c,fe[r]),c}function _o(s,r){if(i==1||r>0){let c=i==1&&x[s.scale].time,u=s.value;s.value=c?cr(u)?Tr(tt,_r(u,z)):u||lt:u||Pu,s.label=s.label||(c?_u:Au)}if(Tn||r>0){s.width=s.width==null?1:s.width,s.paths=s.paths||Yu||Rc,s.fillTo=X(s.fillTo||Ru),s.pxAlign=+nt(s.pxAlign,I),s.pxRound=Wr(s.pxAlign),s.stroke=X(s.stroke||null),s.fill=X(s.fill||null),s._stroke=s._fill=s._paths=s._focus=null;let c=Iu(Nt(1,s.width),1),u=s.points=At({},{size:c,width:Nt(1,c*.2),stroke:s.stroke,space:c*2,paths:Uu,_stroke:null,_fill:null},s.points);u.show=X(u.show),u.filter=X(u.filter),u.fill=X(u.fill),u.stroke=X(u.stroke),u.paths=X(u.paths),u.pxAlign=s.pxAlign}if(Ot){let c=Ll(s,r);St.splice(r,0,c[0]),Ee.splice(r,0,c[1]),Z.values.push(null)}if(Bt){ct.splice(r,0,null);let c=null;Tn?r==0&&(c=Ao(s,r)):r>0&&(c=Ao(s,r)),fe.splice(r,0,c),kn.splice(r,0,0),Mn.splice(r,0,0)}jt("addSeries",r)}function lh(s,r){r=r??w.length,s=i==1?_i(s,r,Pr,Fr):_i(s,r,{},zr),w.splice(r,0,s),_o(w[r],r)}l.addSeries=lh;function ih(s){if(w.splice(s,1),Ot){Z.values.splice(s,1),Ee.splice(s,1);let r=St.splice(s,1)[0];xn(null,r.firstChild),r.remove()}Bt&&(ct.splice(s,1),fe.splice(s,1)[0].remove(),kn.splice(s,1),Mn.splice(s,1)),jt("delSeries",s)}l.delSeries=ih;const nn=[!1,!1,!1,!1];function sh(s,r){if(s._show=s.show,s.show){let c=s.side%2,u=x[s.scale];u==null&&(s.scale=c?w[1].scale:A,u=x[s.scale]);let h=u.time;s.size=X(s.size),s.space=X(s.space),s.rotate=X(s.rotate),He(s.incrs)&&s.incrs.forEach(y=>{!je.has(y)&&je.set(y,or(y))}),s.incrs=X(s.incrs||(u.distr==2?ru:h?M==1?ou:uu:Ue)),s.splits=X(s.splits||(h&&u.distr==1?Ut:u.distr==3?yi:u.distr==4?Mu:ku)),s.stroke=X(s.stroke),s.grid.stroke=X(s.grid.stroke),s.ticks.stroke=X(s.ticks.stroke),s.border.stroke=X(s.border.stroke);let m=s.values;s.values=He(m)&&!He(m[0])?X(m):h?He(m)?Ar(tt,Er(m,z)):cr(m)?du(tt,m):m||yt:m||Tu,s.filter=X(s.filter||(u.distr>=3&&u.log==10?Lu:u.distr==3&&u.log==2?Du:lr)),s.font=so(s.font),s.labelFont=so(s.labelFont),s._size=s.size(l,null,r,0),s._space=s._rotate=s._incrs=s._found=s._splits=s._values=null,s._size>0&&(nn[r]=!0,s._el=re(gc,v))}}function Zn(s,r,c,u){let[h,m,y,S]=c,E=r%2,O=0;return E==0&&(S||m)&&(O=r==0&&!h||r==2&&!y?Mt(Dr.size/3):0),E==1&&(h||y)&&(O=r==1&&!m||r==3&&!S?Mt(jr.size/2):0),O}const To=l.padding=(e.padding||[Zn,Zn,Zn,Zn]).map(s=>X(nt(s,Zn))),ze=l._padding=To.map((s,r)=>s(l,r,nn,0));let zt,Dt=null,Pt=null;const Il=i==1?w[0].idxs:null;let be=null,Qn=!1;function ko(s,r){if(t=s??[],l.data=l._data=t,i==2){zt=0;for(let c=1;c<w.length;c++)zt+=t[c][0].length}else{t.length==0&&(l.data=l._data=t=[[]]),be=t[0],zt=be.length;let c=t;if(K==2){c=t.slice();let u=c[0]=Array(zt);for(let h=0;h<zt;h++)u[h]=h}l._data=t=c}if(Cn(!0),jt("setData"),K==2&&(An=!0),r!==!1){let c=k;c.auto(l,Qn)?Ki():Ve(A,c.min,c.max),tn=tn||H.left>=0,ue=!0,Ln()}}l.setData=ko;function Ki(){Qn=!0;let s,r;i==1&&(zt>0?(Dt=Il[0]=0,Pt=Il[1]=zt-1,s=t[0][Dt],r=t[0][Pt],K==2?(s=Dt,r=Pt):s==r&&(K==3?[s,r]=ul(s,s,k.log,!1):K==4?[s,r]=si(s,s,k.log,!1):k.time?r=s+Mt(86400/M):[s,r]=fl(s,r,ri,!0))):(Dt=Il[0]=s=null,Pt=Il[1]=r=null)),Ve(A,s,r)}let $l,On,Ji,Zi,Qi,Xi,ts,es,ns,Jt;function Mo(s,r,c,u,h,m){s??=js,c??=ui,u??="butt",h??=js,m??="round",s!=$l&&(g.strokeStyle=$l=s),h!=On&&(g.fillStyle=On=h),r!=Ji&&(g.lineWidth=Ji=r),m!=Qi&&(g.lineJoin=Qi=m),u!=Xi&&(g.lineCap=Xi=u),c!=Zi&&g.setLineDash(Zi=c)}function Oo(s,r,c,u){r!=On&&(g.fillStyle=On=r),s!=ts&&(g.font=ts=s),c!=es&&(g.textAlign=es=c),u!=ns&&(g.textBaseline=ns=u)}function ls(s,r,c,u,h=0){if(u.length>0&&s.auto(l,Qn)&&(r==null||r.min==null)){let m=nt(Dt,0),y=nt(Pt,u.length-1),S=c.min==null?Dc(u,m,y,h,s.distr==3):[c.min,c.max];s.min=ge(s.min,c.min=S[0]),s.max=Nt(s.max,c.max=S[1])}}const Co={min:null,max:null};function rh(){for(let u in x){let h=x[u];F[u]==null&&(h.min==null||F[A]!=null&&h.auto(l,Qn))&&(F[u]=Co)}for(let u in x){let h=x[u];F[u]==null&&h.from!=null&&F[h.from]!=null&&(F[u]=Co)}F[A]!=null&&Cn(!0);let s={};for(let u in F){let h=F[u];if(h!=null){let m=s[u]=hn(x[u],Vc);if(h.min!=null)At(m,h);else if(u!=A||i==2)if(zt==0&&m.from==null){let y=m.range(l,null,null,u);m.min=y[0],m.max=y[1]}else m.min=ft,m.max=-ft}}if(zt>0){w.forEach((u,h)=>{if(i==1){let m=u.scale,y=F[m];if(y==null)return;let S=s[m];if(h==0){let E=S.range(l,S.min,S.max,m);S.min=E[0],S.max=E[1],Dt=me(S.min,t[0]),Pt=me(S.max,t[0]),Pt-Dt>1&&(t[0][Dt]<S.min&&Dt++,t[0][Pt]>S.max&&Pt--),u.min=be[Dt],u.max=be[Pt]}else u.show&&u.auto&&ls(S,y,u,t[h],u.sorted);u.idxs[0]=Dt,u.idxs[1]=Pt}else if(h>0&&u.show&&u.auto){let[m,y]=u.facets,S=m.scale,E=y.scale,[O,C]=t[h],P=s[S],q=s[E];P!=null&&ls(P,F[S],m,O,m.sorted),q!=null&&ls(q,F[E],y,C,y.sorted),u.min=y.min,u.max=y.max}});for(let u in s){let h=s[u],m=F[u];if(h.from==null&&(m==null||m.min==null)){let y=h.range(l,h.min==ft?null:h.min,h.max==-ft?null:h.max,u);h.min=y[0],h.max=y[1]}}}for(let u in s){let h=s[u];if(h.from!=null){let m=s[h.from];if(m.min==null)h.min=h.max=null;else{let y=h.range(l,m.min,m.max,u);h.min=y[0],h.max=y[1]}}}let r={},c=!1;for(let u in s){let h=s[u],m=x[u];if(m.min!=h.min||m.max!=h.max){m.min=h.min,m.max=h.max;let y=m.distr;m._min=y==3?Ce(m.min):y==4?ai(m.min,m.asinh):y==100?m.fwd(m.min):m.min,m._max=y==3?Ce(m.max):y==4?ai(m.max,m.asinh):y==100?m.fwd(m.max):m.max,r[u]=c=!0}}if(c){w.forEach((u,h)=>{i==2?h>0&&r.y&&(u._paths=null):r[u.scale]&&(u._paths=null)});for(let u in r)An=!0,jt("setScale",u);Bt&&H.left>=0&&(tn=ue=!0)}for(let u in F)F[u]=null}function oh(s){let r=ci(Dt-1,0,zt-1),c=ci(Pt+1,0,zt-1);for(;s[r]==null&&r>0;)r--;for(;s[c]==null&&c<zt-1;)c++;return[r,c]}function ah(){if(zt>0){let s=w.some(r=>r._focus)&&Jt!=_e.alpha;s&&(g.globalAlpha=Jt=_e.alpha),w.forEach((r,c)=>{if(c>0&&r.show&&(Lo(c,!1),Lo(c,!0),r._paths==null)){let u=Jt;Jt!=r.alpha&&(g.globalAlpha=Jt=r.alpha);let h=i==2?[0,t[c][0].length-1]:oh(t[c]);r._paths=r.paths(l,c,h[0],h[1]),Jt!=u&&(g.globalAlpha=Jt=u)}}),w.forEach((r,c)=>{if(c>0&&r.show){let u=Jt;Jt!=r.alpha&&(g.globalAlpha=Jt=r.alpha),r._paths!=null&&Do(c,!1);{let h=r._paths!=null?r._paths.gaps:null,m=r.points.show(l,c,Dt,Pt,h),y=r.points.filter(l,c,m,h);(m||y)&&(r.points._paths=r.points.paths(l,c,Dt,Pt,y),Do(c,!0))}Jt!=u&&(g.globalAlpha=Jt=u),jt("drawSeries",c)}}),s&&(g.globalAlpha=Jt=1)}}function Lo(s,r){let c=r?w[s].points:w[s];c._stroke=c.stroke(l,s),c._fill=c.fill(l,s)}function Do(s,r){let c=r?w[s].points:w[s],{stroke:u,fill:h,clip:m,flags:y,_stroke:S=c._stroke,_fill:E=c._fill,_width:O=c.width}=c._paths;O=ht(O*st,3);let C=null,P=O%2/2;r&&E==null&&(E=O>0?"#fff":S);let q=c.pxAlign==1&&P>0;if(q&&g.translate(P,P),!r){let rt=ne-O/2,it=ce-O/2,Q=Kt+O,N=ye+O;C=new Path2D,C.rect(rt,it,Q,N)}r?is(S,O,c.dash,c.cap,E,u,h,y,m):ch(s,S,O,c.dash,c.cap,E,u,h,y,C,m),q&&g.translate(-P,-P)}function ch(s,r,c,u,h,m,y,S,E,O,C){let P=!1;E!=0&&V.forEach((q,rt)=>{if(q.series[0]==s){let it=w[q.series[1]],Q=t[q.series[1]],N=(it._paths||qn).band;He(N)&&(N=q.dir==1?N[0]:N[1]);let R,vt=null;it.show&&N&&Ic(Q,Dt,Pt)?(vt=q.fill(l,rt)||m,R=it._paths.clip):N=null,is(r,c,u,h,vt,y,S,E,O,C,R,N),P=!0}}),P||is(r,c,u,h,m,y,S,E,O,C)}const Po=pn|wi;function is(s,r,c,u,h,m,y,S,E,O,C,P){Mo(s,r,c,u,h),(E||O||P)&&(g.save(),E&&g.clip(E),O&&g.clip(O)),P?(S&Po)==Po?(g.clip(P),C&&g.clip(C),Hl(h,y),jl(s,m,r)):S&wi?(Hl(h,y),g.clip(P),jl(s,m,r)):S&pn&&(g.save(),g.clip(P),C&&g.clip(C),Hl(h,y),g.restore(),jl(s,m,r)):(Hl(h,y),jl(s,m,r)),(E||O||P)&&g.restore()}function jl(s,r,c){c>0&&(r instanceof Map?r.forEach((u,h)=>{g.strokeStyle=$l=h,g.stroke(u)}):r!=null&&s&&g.stroke(r))}function Hl(s,r){r instanceof Map?r.forEach((c,u)=>{g.fillStyle=On=u,g.fill(c)}):r!=null&&s&&g.fill(r)}function uh(s,r,c,u){let h=L[s],m;if(u<=0)m=[0,0];else{let y=h._space=h.space(l,s,r,c,u),S=h._incrs=h.incrs(l,s,r,c,u,y);m=tf(r,c,S,u,y)}return h._found=m}function ss(s,r,c,u,h,m,y,S,E,O){let C=y%2/2;I==1&&g.translate(C,C),Mo(S,y,E,O,S),g.beginPath();let P,q,rt,it,Q=h+(u==0||u==3?-m:m);c==0?(q=h,it=Q):(P=h,rt=Q);for(let N=0;N<s.length;N++)r[N]!=null&&(c==0?P=rt=s[N]:q=it=s[N],g.moveTo(P,q),g.lineTo(rt,it));g.stroke(),I==1&&g.translate(-C,-C)}function fh(s){let r=!0;return L.forEach((c,u)=>{if(!c.show)return;let h=x[c.scale];if(h.min==null){c._show&&(r=!1,c._show=!1,Cn(!1));return}else c._show||(r=!1,c._show=!0,Cn(!1));let m=c.side,y=m%2,{min:S,max:E}=h,[O,C]=uh(u,S,E,y==0?U:D);if(C==0)return;let P=h.distr==2,q=c._splits=c.splits(l,u,S,E,O,C,P),rt=h.distr==2?q.map(R=>be[R]):q,it=h.distr==2?be[q[1]]-be[q[0]]:O,Q=c._values=c.values(l,c.filter(l,rt,u,C,it),u,C,it);c._rotate=m==2?c.rotate(l,Q,u,C):0;let N=c._size;c._size=oe(c.size(l,Q,u,s)),N!=null&&c._size!=N&&(r=!1)}),r}function hh(s){let r=!0;return To.forEach((c,u)=>{let h=c(l,u,nn,s);h!=ze[u]&&(r=!1),ze[u]=h}),r}function dh(){for(let s=0;s<L.length;s++){let r=L[s];if(!r.show||!r._show)continue;let c=r.side,u=c%2,h,m,y=r.stroke(l,s),S=c==0||c==3?-1:1,[E,O]=r._found;if(r.label!=null){let qt=r.labelGap*S,se=Mt((r._lpos+qt)*st);Oo(r.labelFont[0],y,"center",c==2?Bn:$s),g.save(),u==1?(h=m=0,g.translate(se,Mt(ce+ye/2)),g.rotate((c==3?-hl:hl)/2)):(h=Mt(ne+Kt/2),m=se);let rn=er(r.label)?r.label(l,s,E,O):r.label;g.fillText(rn,h,m),g.restore()}if(O==0)continue;let C=x[r.scale],P=u==0?Kt:ye,q=u==0?ne:ce,rt=r._splits,it=C.distr==2?rt.map(qt=>be[qt]):rt,Q=C.distr==2?be[rt[1]]-be[rt[0]]:E,N=r.ticks,R=r.border,vt=N.show?N.size:0,xt=Mt(vt*st),Ht=Mt((r.alignTo==2?r._size-vt-r.gap:r.gap)*st),ut=r._rotate*-hl/180,Et=$(r._pos*st),le=(xt+Ht)*S,Gt=Et+le;m=u==0?Gt:0,h=u==1?Gt:0;let he=r.font[0],we=r.align==1?on:r.align==2?Kl:ut>0?on:ut<0?Kl:u==0?"center":c==3?Kl:on,Me=ut||u==1?"middle":c==2?Bn:$s;Oo(he,y,we,Me);let ie=r.font[1]*r.lineGap,de=rt.map(qt=>$(f(qt,C,P,q))),Se=r._values;for(let qt=0;qt<Se.length;qt++){let se=Se[qt];if(se!=null){u==0?h=de[qt]:m=de[qt],se=""+se;let rn=se.indexOf(`
`)==-1?[se]:se.split(/\n/gm);for(let Yt=0;Yt<rn.length;Yt++){let Qo=rn[Yt];ut?(g.save(),g.translate(h,m+Yt*ie),g.rotate(ut),g.fillText(Qo,0,0),g.restore()):g.fillText(Qo,h,m+Yt*ie)}}}N.show&&ss(de,N.filter(l,it,s,O,Q),u,c,Et,xt,ht(N.width*st,3),N.stroke(l,s),N.dash,N.cap);let Oe=r.grid;Oe.show&&ss(de,Oe.filter(l,it,s,O,Q),u,u==0?2:1,u==0?ce:ne,u==0?ye:Kt,ht(Oe.width*st,3),Oe.stroke(l,s),Oe.dash,Oe.cap),R.show&&ss([Et],[1],u==0?1:0,u==0?1:2,u==1?ce:ne,u==1?ye:Kt,ht(R.width*st,3),R.stroke(l,s),R.dash,R.cap)}jt("drawAxes")}function Cn(s){w.forEach((r,c)=>{c>0&&(r._paths=null,s&&(i==1?(r.min=null,r.max=null):r.facets.forEach(u=>{u.min=null,u.max=null})))})}let Rl=!1,rs=!1,Xn=[];function ph(){rs=!1;for(let s=0;s<Xn.length;s++)jt(...Xn[s]);Xn.length=0}function Ln(){Rl||(Uc(Io),Rl=!0)}function mh(s,r=!1){Rl=!0,rs=r,s(l),Io(),r&&Xn.length>0&&queueMicrotask(ph)}l.batch=mh;function Io(){if(Yi&&(rh(),Yi=!1),An&&(Xf(),An=!1),Dl){if(pt(_,on,dt),pt(_,Bn,Ct),pt(_,Vn,U),pt(_,Nn,D),pt(T,on,dt),pt(T,Bn,Ct),pt(T,Vn,U),pt(T,Nn,D),pt(v,Vn,Ie),pt(v,Nn,Ze),b.width=Mt(Ie*st),b.height=Mt(Ze*st),L.forEach(({_el:s,_show:r,_size:c,_pos:u,side:h})=>{if(s!=null)if(r){let m=h===3||h===0?c:0,y=h%2==1;pt(s,y?"left":"top",u-m),pt(s,y?"width":"height",c),pt(s,y?"top":"left",y?Ct:dt),pt(s,y?"height":"width",y?D:U),ni(s,We)}else Qt(s,We)}),$l=On=Ji=Qi=Xi=ts=es=ns=Zi=null,Jt=1,nl(!0),dt!=En||Ct!=Qe||U!=Ae||D!=Xe){Cn(!1);let s=U/Ae,r=D/Xe;if(Bt&&!tn&&H.left>=0){H.left*=s,H.top*=r,Dn&&xe(Dn,Mt(H.left),0,U,D),Pn&&xe(Pn,0,Mt(H.top),U,D);for(let c=0;c<fe.length;c++){let u=fe[c];u!=null&&(kn[c]*=s,Mn[c]*=r,xe(u,oe(kn[c]),oe(Mn[c]),U,D))}}if(gt.show&&!Pl&&gt.left>=0&&gt.width>0){gt.left*=s,gt.width*=s,gt.top*=r,gt.height*=r;for(let c in hs)pt(jn,c,gt[c])}En=dt,Qe=Ct,Ae=U,Xe=D}jt("setSize"),Dl=!1}Ie>0&&Ze>0&&(g.clearRect(0,0,b.width,b.height),jt("drawClear"),B.forEach(s=>s()),jt("draw")),gt.show&&Pl&&(zl(gt),Pl=!1),Bt&&tn&&(sn(null,!0,!1),tn=!1),Z.show&&Z.live&&ue&&(us(),ue=!1),d||(d=!0,l.status=1,jt("ready")),Qn=!1,Rl=!1}l.redraw=(s,r)=>{An=r||!1,s!==!1?Ve(A,k.min,k.max):Ln()};function os(s,r){let c=x[s];if(c.from==null){if(zt==0){let u=c.range(l,r.min,r.max,s);r.min=u[0],r.max=u[1]}if(r.min>r.max){let u=r.min;r.min=r.max,r.max=u}if(zt>1&&r.min!=null&&r.max!=null&&r.max-r.min<1e-16)return;s==A&&c.distr==2&&zt>0&&(r.min=me(r.min,t[0]),r.max=me(r.max,t[0]),r.min==r.max&&r.max++),F[s]=r,Yi=!0,Ln()}}l.setScale=os;let as,cs,Dn,Pn,$o,jo,In,$n,Ho,Ro,mt,wt,Fe=!1;const Ft=H.drag;let It=Ft.x,$t=Ft.y;Bt&&(H.x&&(as=re(yc,T)),H.y&&(cs=re(bc,T)),k.ori==0?(Dn=as,Pn=cs):(Dn=cs,Pn=as),mt=H.left,wt=H.top);const gt=l.select=At({show:!0,over:!0,left:0,width:0,top:0,height:0},e.select),jn=gt.show?re(vc,gt.over?T:_):null;function zl(s,r){if(gt.show){for(let c in s)gt[c]=s[c],c in hs&&pt(jn,c,s[c]);r!==!1&&jt("setSelect")}}l.setSelect=zl;function gh(s){if(w[s].show)Ot&&ni(St[s],We);else if(Ot&&Qt(St[s],We),Bt){let c=Tn?fe[0]:fe[s];c!=null&&xe(c,-10,-10,U,D)}}function Ve(s,r,c){os(s,{min:r,max:c})}function Te(s,r,c,u){r.focus!=null&&Sh(s),r.show!=null&&w.forEach((h,m)=>{m>0&&(s==m||s==null)&&(h.show=r.show,gh(m),i==2?(Ve(h.facets[0].scale,null,null),Ve(h.facets[1].scale,null,null)):Ve(h.scale,null,null),Ln())}),c!==!1&&jt("setSeries",s,r),u&&ll("setSeries",l,s,r)}l.setSeries=Te;function vh(s,r){At(V[s],r)}function yh(s,r){s.fill=X(s.fill||null),s.dir=nt(s.dir,-1),r=r??V.length,V.splice(r,0,s)}function bh(s){s==null?V.length=0:V.splice(s,1)}l.addBand=yh,l.setBand=vh,l.delBand=bh;function wh(s,r){w[s].alpha=r,Bt&&fe[s]!=null&&(fe[s].style.opacity=r),Ot&&St[s]&&(St[s].style.opacity=r)}let $e,Ne,ln;const Hn={focus:!0};function Sh(s){if(s!=ln){let r=s==null,c=_e.alpha!=1;w.forEach((u,h)=>{if(i==1||h>0){let m=r||h==0||h==s;u._focus=r?null:m,c&&wh(h,m?1:_e.alpha)}}),ln=s,c&&Ln()}}Ot&&_n&&Wt(zs,at,s=>{H._lock||(en(s),ln!=null&&Te(null,Hn,!0,_t.setSeries))});function ke(s,r,c){let u=x[r];c&&(s=s/st-(u.ori==1?Ct:dt));let h=U;u.ori==1&&(h=D,s=h-s),u.dir==-1&&(s=h-s);let m=u._min,y=u._max,S=s/h,E=m+(y-m)*S,O=u.distr;return O==3?un(10,E):O==4?jc(E,u.asinh):O==100?u.bwd(E):E}function xh(s,r){let c=ke(s,A,r);return me(c,t[0],Dt,Pt)}l.valToIdx=s=>me(s,t[0]),l.posToIdx=xh,l.posToVal=ke,l.valToPos=(s,r,c)=>x[r].ori==0?o(s,x[r],c?Kt:U,c?ne:0):a(s,x[r],c?ye:D,c?ce:0),l.setCursor=(s,r,c)=>{mt=s.left,wt=s.top,sn(null,r,c)};function zo(s,r){pt(jn,on,gt.left=s),pt(jn,Vn,gt.width=r)}function Fo(s,r){pt(jn,Bn,gt.top=s),pt(jn,Nn,gt.height=r)}let tl=k.ori==0?zo:Fo,el=k.ori==1?zo:Fo;function Eh(){if(Ot&&Z.live)for(let s=i==2?1:0;s<w.length;s++){if(s==0&&ae)continue;let r=Z.values[s],c=0;for(let u in r)Ee[s][c++].firstChild.nodeValue=r[u]}}function us(s,r){if(s!=null&&(s.idxs?s.idxs.forEach((c,u)=>{ct[u]=c}):Fc(s.idx)||ct.fill(s.idx),Z.idx=ct[0]),Ot&&Z.live){for(let c=0;c<w.length;c++)(c>0||i==1&&!ae)&&Ah(c,ct[c]);Eh()}ue=!1,r!==!1&&jt("setLegend")}l.setLegend=us;function Ah(s,r){let c=w[s],u=s==0&&K==2?be:t[s],h;ae?h=c.values(l,s,r)??Re:(h=c.value(l,r==null?null:u[r],s,r),h=h==null?Re:{_:h}),Z.values[s]=h}function sn(s,r,c){Ho=mt,Ro=wt,[mt,wt]=H.move(l,mt,wt),H.left=mt,H.top=wt,Bt&&(Dn&&xe(Dn,Mt(mt),0,U,D),Pn&&xe(Pn,0,Mt(wt),U,D));let u,h=Dt>Pt;$e=ft,Ne=null;let m=k.ori==0?U:D,y=k.ori==1?U:D;if(mt<0||zt==0||h){u=H.idx=null;for(let S=0;S<w.length;S++){let E=fe[S];E!=null&&xe(E,-10,-10,U,D)}_n&&Te(null,Hn,!0,s==null&&_t.setSeries),Z.live&&(ct.fill(u),ue=!0)}else{let S,E,O;i==1&&(S=k.ori==0?mt:wt,E=ke(S,A),u=H.idx=me(E,t[0],Dt,Pt),O=j(t[0][u],k,m,0));let C=-10,P=-10,q=0,rt=0,it=!0,Q="",N="";for(let R=i==2?1:0;R<w.length;R++){let vt=w[R],xt=ct[R],Ht=xt==null?null:i==1?t[R][xt]:t[R][1][xt],ut=H.dataIdx(l,R,u,E),Et=ut==null?null:i==1?t[R][ut]:t[R][1][ut];if(ue=ue||Et!=Ht||ut!=xt,ct[R]=ut,R>0&&vt.show){let le=ut==null?-10:ut==u?O:j(i==1?t[0][ut]:t[R][0][ut],k,m,0),Gt=Et==null?-10:G(Et,i==1?x[vt.scale]:x[vt.facets[1].scale],y,0);if(_n&&Et!=null){let he=k.ori==1?mt:wt,we=kt(_e.dist(l,R,ut,Gt,he));if(we<$e){let Me=_e.bias;if(Me!=0){let ie=ke(he,vt.scale),de=Et>=0?1:-1,Se=ie>=0?1:-1;Se==de&&(Se==1?Me==1?Et>=ie:Et<=ie:Me==1?Et<=ie:Et>=ie)&&($e=we,Ne=R)}else $e=we,Ne=R}}if(ue||Tn){let he,we;k.ori==0?(he=le,we=Gt):(he=Gt,we=le);let Me,ie,de,Se,Oe,qt,se=!0,rn=Vt.bbox;if(rn!=null){se=!1;let Yt=rn(l,R);de=Yt.left,Se=Yt.top,Me=Yt.width,ie=Yt.height}else de=he,Se=we,Me=ie=Vt.size(l,R);if(qt=Vt.fill(l,R),Oe=Vt.stroke(l,R),Tn)R==Ne&&$e<=_e.prox&&(C=de,P=Se,q=Me,rt=ie,it=se,Q=qt,N=Oe);else{let Yt=fe[R];Yt!=null&&(kn[R]=de,Mn[R]=Se,qs(Yt,Me,ie,se),Ws(Yt,qt,Oe),xe(Yt,oe(de),oe(Se),U,D))}}}}if(Tn){let R=_e.prox,vt=ln==null?$e<=R:$e>R||Ne!=ln;if(ue||vt){let xt=fe[0];xt!=null&&(kn[0]=C,Mn[0]=P,qs(xt,q,rt,it),Ws(xt,Q,N),xe(xt,oe(C),oe(P),U,D))}}}if(gt.show&&Fe)if(s!=null){let[S,E]=_t.scales,[O,C]=_t.match,[P,q]=s.cursor.sync.scales,rt=s.cursor.drag;if(It=rt._x,$t=rt._y,It||$t){let{left:it,top:Q,width:N,height:R}=s.select,vt=s.scales[P].ori,xt=s.posToVal,Ht,ut,Et,le,Gt,he=S!=null&&O(S,P),we=E!=null&&C(E,q);he&&It?(vt==0?(Ht=it,ut=N):(Ht=Q,ut=R),Et=x[S],le=j(xt(Ht,P),Et,m,0),Gt=j(xt(Ht+ut,P),Et,m,0),tl(ge(le,Gt),kt(Gt-le))):tl(0,m),we&&$t?(vt==1?(Ht=it,ut=N):(Ht=Q,ut=R),Et=x[E],le=G(xt(Ht,q),Et,y,0),Gt=G(xt(Ht+ut,q),Et,y,0),el(ge(le,Gt),kt(Gt-le))):el(0,y)}else ds()}else{let S=kt(Ho-$o),E=kt(Ro-jo);if(k.ori==1){let q=S;S=E,E=q}It=Ft.x&&S>=Ft.dist,$t=Ft.y&&E>=Ft.dist;let O=Ft.uni;O!=null?It&&$t&&(It=S>=O,$t=E>=O,!It&&!$t&&(E>S?$t=!0:It=!0)):Ft.x&&Ft.y&&(It||$t)&&(It=$t=!0);let C,P;It&&(k.ori==0?(C=In,P=mt):(C=$n,P=wt),tl(ge(C,P),kt(P-C)),$t||el(0,y)),$t&&(k.ori==1?(C=In,P=mt):(C=$n,P=wt),el(ge(C,P),kt(P-C)),It||tl(0,m)),!It&&!$t&&(tl(0,0),el(0,0))}if(Ft._x=It,Ft._y=$t,s==null){if(c){if(Zo!=null){let[S,E]=_t.scales;_t.values[0]=S!=null?ke(k.ori==0?mt:wt,S):null,_t.values[1]=E!=null?ke(k.ori==1?mt:wt,E):null}ll(Zl,l,mt,wt,U,D,u)}if(_n){let S=c&&_t.setSeries,E=_e.prox;ln==null?$e<=E&&Te(Ne,Hn,!0,S):$e>E?Te(null,Hn,!0,S):Ne!=ln&&Te(Ne,Hn,!0,S)}}ue&&(Z.idx=u,us()),r!==!1&&jt("setCursor")}let Be=null;Object.defineProperty(l,"rect",{get(){return Be==null&&nl(!1),Be}});function nl(s=!1){s?Be=null:(Be=T.getBoundingClientRect(),jt("syncRect",Be))}function Vo(s,r,c,u,h,m,y){H._lock||Fe&&s!=null&&s.movementX==0&&s.movementY==0||(fs(s,r,c,u,h,m,y,!1,s!=null),s!=null?sn(null,!0,!0):sn(r,!0,!1))}function fs(s,r,c,u,h,m,y,S,E){if(Be==null&&nl(!1),en(s),s!=null)c=s.clientX-Be.left,u=s.clientY-Be.top;else{if(c<0||u<0){mt=-10,wt=-10;return}let[O,C]=_t.scales,P=r.cursor.sync,[q,rt]=P.values,[it,Q]=P.scales,[N,R]=_t.match,vt=r.axes[0].side%2==1,xt=k.ori==0?U:D,Ht=k.ori==1?U:D,ut=vt?m:h,Et=vt?h:m,le=vt?u:c,Gt=vt?c:u;if(it!=null?c=N(O,it)?f(q,x[O],xt,0):-10:c=xt*(le/ut),Q!=null?u=R(C,Q)?f(rt,x[C],Ht,0):-10:u=Ht*(Gt/Et),k.ori==1){let he=c;c=u,u=he}}E&&(r==null||r.cursor.event.type==Zl)&&((c<=1||c>=U-1)&&(c=Ye(c,U)),(u<=1||u>=D-1)&&(u=Ye(u,D))),S?($o=c,jo=u,[In,$n]=H.move(l,c,u)):(mt=c,wt=u)}const hs={width:0,height:0,left:0,top:0};function ds(){zl(hs,!1)}let No,Bo,Wo,Go;function qo(s,r,c,u,h,m,y){Fe=!0,It=$t=Ft._x=Ft._y=!1,fs(s,r,c,u,h,m,y,!0,!1),s!=null&&(Wt(Ql,ti,Yo,!1),ll(Hs,l,In,$n,U,D,null));let{left:S,top:E,width:O,height:C}=gt;No=S,Bo=E,Wo=O,Go=C}function Yo(s,r,c,u,h,m,y){Fe=Ft._x=Ft._y=!1,fs(s,r,c,u,h,m,y,!1,!0);let{left:S,top:E,width:O,height:C}=gt,P=O>0||C>0,q=No!=S||Bo!=E||Wo!=O||Go!=C;if(P&&q&&zl(gt),Ft.setScale&&P&&q){let rt=S,it=O,Q=E,N=C;if(k.ori==1&&(rt=E,it=C,Q=S,N=O),It&&Ve(A,ke(rt,A),ke(rt+it,A)),$t)for(let R in x){let vt=x[R];R!=A&&vt.from==null&&vt.min!=ft&&Ve(R,ke(Q+N,R),ke(Q,R))}ds()}else H.lock&&(H._lock=!H._lock,sn(r,!0,s!=null));s!=null&&(xn(Ql,ti),ll(Ql,l,mt,wt,U,D,null))}function _h(s,r,c,u,h,m,y){if(H._lock)return;en(s);let S=Fe;if(Fe){let E=!0,O=!0,C=10,P,q;k.ori==0?(P=It,q=$t):(P=$t,q=It),P&&q&&(E=mt<=C||mt>=U-C,O=wt<=C||wt>=D-C),P&&E&&(mt=mt<In?0:U),q&&O&&(wt=wt<$n?0:D),sn(null,!0,!0),Fe=!1}mt=-10,wt=-10,ct.fill(null),sn(null,!0,!0),S&&(Fe=S)}function Uo(s,r,c,u,h,m,y){H._lock||(en(s),Ki(),ds(),s!=null&&ll(Fs,l,mt,wt,U,D,null))}function Ko(){L.forEach(ef),Ui(l.width,l.height,!0)}Ge(ol,cn,Ko);const Rn={};Rn.mousedown=qo,Rn.mousemove=Vo,Rn.mouseup=Yo,Rn.dblclick=Uo,Rn.setSeries=(s,r,c,u)=>{let h=_t.match[2];c=h(l,r,c),c!=-1&&Te(c,u,!0,!1)},Bt&&(Wt(Hs,T,qo),Wt(Zl,T,Vo),Wt(Rs,T,s=>{en(s),nl(!1)}),Wt(zs,T,_h),Wt(Fs,T,Uo),Ai.add(l),l.syncRect=nl);const Fl=l.hooks=e.hooks||{};function jt(s,r,c){rs?Xn.push([s,r,c]):s in Fl&&Fl[s].forEach(u=>{u.call(null,l,r,c)})}(e.plugins||[]).forEach(s=>{for(let r in s.hooks)Fl[r]=(Fl[r]||[]).concat(s.hooks[r])});const Jo=(s,r,c)=>c,_t=At({key:null,setSeries:!1,filters:{pub:ir,sub:ir},scales:[A,w[1]?w[1].scale:null],match:[sr,sr,Jo],values:[null,null]},H.sync);_t.match.length==2&&_t.match.push(Jo),H.sync=_t;const Zo=_t.key,ps=Br(Zo);function ll(s,r,c,u,h,m,y){_t.filters.pub(s,r,c,u,h,m,y)&&ps.pub(s,r,c,u,h,m,y)}ps.sub(l);function Th(s,r,c,u,h,m,y){_t.filters.sub(s,r,c,u,h,m,y)&&Rn[s](null,r,c,u,h,m,y)}l.pub=Th;function kh(){ps.unsub(l),Ai.delete(l),Je.clear(),ii(ol,cn,Ko),p.remove(),at?.remove(),jt("destroy")}l.destroy=kh;function ms(){jt("init",e,t),ko(t||e.data,!1),F[A]?os(A,F[A]):Ki(),Pl=gt.show&&(gt.width>0||gt.height>0),tn=ue=!0,Ui(e.width,e.height)}return w.forEach(_o),L.forEach(sh),n?n instanceof HTMLElement?(n.appendChild(p),ms()):n(l,ms):ms(),l}Rt.assign=At,Rt.fmtNum=oi,Rt.rangeNum=fl,Rt.rangeLog=ul,Rt.rangeAsinh=si,Rt.orient=Ke,Rt.pxRatio=st,Rt.join=Yc,Rt.fmtDate=fi,Rt.tzDate=iu,Rt.sync=Br;{Rt.addGap=zu,Rt.clipGaps=yl;let e=Rt.paths={points:Jr};e.linear=Qr,e.stepped=Nu,e.bars=Bu,e.spline=Gu}const Gi=class Gi extends Zt{getSize(){return{width:this.chartTarget.offsetWidth,height:this.chartTarget.offsetHeight}}connect(){this.tableTarget.hidden=!0,this.chartTarget.hidden=!1,this.axisTarget.hidden=!1,this.observer=new ResizeObserver(()=>{this.uplot?.setSize(this.getSize())}),this.observer.observe(this.chartTarget);const t=getComputedStyle(document.documentElement),n={...this.getSize(),padding:[1,1,1,1],series:[{},{stroke:t.getPropertyValue("--color-stroke"),width:2,points:{show:!1}},{stroke:t.getPropertyValue("--color-accent"),width:2,points:{show:!1}}],cursor:{y:!1},axes:[{show:!1},{show:!1}],scales:{y:{range:(o,a,f)=>[a,f]}},select:{show:!1},legend:{show:!1},hooks:{init:[o=>{o.over.addEventListener("mouseenter",()=>{this.summaryTarget.hidden=!0,this.legendTarget.hidden=!1}),o.over.addEventListener("mouseleave",()=>{this.summaryTarget.hidden=!1,this.legendTarget.hidden=!0})}],setCursor:[o=>{const{idx:a}=o.cursor;this.legendAmountTarget.textContent=typeof a=="number"?Rt.fmtNum(o.data[2][a]||0):"",this.legendPeriodTarget.textContent=typeof a=="number"?l[a].textContent:""}]}},l=Array.from(this.tableTarget.querySelectorAll("thead th")).slice(1),i=[l.map(o=>Number(o.dataset.timestamp)),...Array.from(this.tableTarget.querySelectorAll("tbody tr")).reverse().map(o=>Array.from(o.querySelectorAll("td")).map(a=>Number(a.textContent)))];this.uplot=new Rt(n,i,this.chartTarget)}disconnect(){this.observer?.disconnect(),this.uplot?.destroy()}};Gi.targets=["table","chart","summary","legend","legendAmount","legendPeriod","axis"];let Ti=Gi;const nf=Object.freeze(Object.defineProperty({__proto__:null,default:Ti},Symbol.toStringTag,{value:"Module"}));class lf extends Zt{constructor(){super(...arguments),this.mouseover=t=>{const n=t.target;if(n.closest("thead th")){const l=Array.from(n.parentElement.children).indexOf(n);this.element.querySelector("colgroup").children[l].classList.add("is-highlighted"),this.element.style.cursor="pointer"}n.closest("tbody th")&&(n.closest("tr").classList.add("is-highlighted"),this.element.style.cursor="pointer")},this.reset=()=>{this.element.querySelectorAll("col, tr").forEach(t=>t.classList.remove("is-highlighted")),this.element.style.cursor=""},this.click=t=>{const n=t.target;if(n.closest("thead th")){const l=Array.from(n.parentElement.children).indexOf(n),i=Array.from(this.element.querySelectorAll(`tbody tr td:nth-child(${l+1}) input[type="checkbox"]`)).filter(a=>!this.disabled?.includes(a)),o=!i.find(a=>!a.disabled&&a.getAttribute("aria-disabled")!=="true")?.checked;i.forEach(a=>a.checked=o)}if(n.closest("tbody th")){const l=Array.from(n.closest("tr").querySelectorAll('td input[type="checkbox"]')).filter(o=>!this.disabled?.includes(o)),i=!l.find(o=>!o.disabled&&o.getAttribute("aria-disabled")!=="true")?.checked;l.forEach(o=>o.checked=i)}this.update()}}connect(){this.disabled=Array.from(this.element.querySelectorAll("input:disabled")),this.update(),this.element.addEventListener("click",this.click),this.element.addEventListener("mouseover",this.mouseover),this.element.addEventListener("mouseout",this.reset)}disconnect(){this.element.removeEventListener("click",this.click),this.element.removeEventListener("mouseover",this.mouseover),this.element.removeEventListener("mouseout",this.reset)}update(){this.element.querySelectorAll('tbody td input[type="checkbox"]').forEach(t=>{this.disabled?.includes(t)||(t.disabled=!1)}),this.element.querySelectorAll("[data-implied-by], [data-depends-on]").forEach(t=>{t.dataset.impliedBy?.trim().split(/\s+/).filter(Boolean).forEach(n=>{const l=document.querySelector(`[name="${n}"]:last-of-type`);l&&l.checked&&(t.checked=!0,t.disabled=!0)}),t.dataset.dependsOn?.trim().split(/\s+/).filter(Boolean).forEach(n=>{const l=document.querySelector(`[name="${n}"]:last-of-type`);l&&!l.checked&&(t.checked=!1,t.disabled=!0)})})}}const sf=Object.freeze(Object.defineProperty({__proto__:null,default:lf},Symbol.toStringTag,{value:"Module"}));function rf(e){return e.toLowerCase().replace(/[^a-z0-9]/gi,"-").replace(/-+/g,"-").replace(/-$|^-/g,"")}const qi=class qi extends Zt{constructor(){super(...arguments),this.locked=!1}updateName(t){const n=t.target;this.locked||(this.slugTarget.value=rf(n.value),this.mirror())}updateSlug(t){const n=t.target;this.mirror(),this.locked=!!n.value}mirror(){this.mirrorTargets.forEach(t=>{t.textContent=this.slugTarget.value})}};qi.targets=["slug","mirror"];let ki=qi;const of=Object.freeze(Object.defineProperty({__proto__:null,default:ki},Symbol.toStringTag,{value:"Module"}));var af=Object.defineProperty,cf=(e,t,n)=>t in e?af(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,et=(e,t,n)=>(cf(e,typeof t!="symbol"?t+"":t,n),n);function ro(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function vn(e){return new DOMPoint(e.left+e.width/2,e.top+e.height/2)}const uf=(e,t)=>{var n;const l=Array.from(t.entries()),i=vn(e);return l.sort(([,o],[,a])=>ro(i,vn(o))-ro(i,vn(a))),(n=l[0])==null?void 0:n[0]};class xl{constructor(t){et(this,"listeners",[]),et(this,"removeAll",()=>{this.listeners.forEach(n=>{var l;return(l=this.target)==null?void 0:l.removeEventListener(...n)})}),this.target=t}add(t,n,l){var i;(i=this.target)==null||i.addEventListener(t,n,l),this.listeners.push([t,n,l])}}function oo(e){return/auto|scroll/.test(getComputedStyle(e).overflow)||e===document.scrollingElement}function ff(e){let t=e;const n=[];for(;t=t.parentElement;)!oo(t)||n.push(t);return n}function ao(e){return e===document.documentElement?new DOMRect(0,0,window.innerWidth,window.innerHeight):e.getBoundingClientRect()}const co=.2,El=20;class uo{constructor(){et(this,"scrollInterval"),et(this,"scrollAmounts",new Map),et(this,"documentListeners",new xl(document)),et(this,"onPointerMove",(t,n)=>{n.preventDefault(),t.onMove(new DOMPoint(n.clientX,n.clientY),!0),this.scrollAmounts.clear(),document.elementsFromPoint(n.clientX,n.clientY).forEach(l=>{if(!oo(l))return;const i=ao(l),o=co*i.width,a=co*i.height;let f=0,d=0;n.clientX>i.right-o?f=(n.clientX-i.right+o)/o*El:n.clientX<i.left+o&&(f=(n.clientX-i.left-o)/o*El),n.clientY>i.bottom-a?d=(n.clientY-i.bottom+a)/a*El:n.clientY<i.top+a&&(d=(n.clientY-i.top-a)/a*El),(f!==0||d!==0)&&this.scrollAmounts.set(l,[f,d])}),this.scrollAmounts.size?this.scrollInterval||(this.scrollInterval=window.setInterval(()=>{this.scrollAmounts.forEach(([l,i],o)=>o.scrollBy(l,i))},1e3/60)):this.clearScrollInterval()}),et(this,"onPointerUp",(t,n)=>{n.preventDefault(),t.onDrop()})}attach(t,n){const l=i=>{if(i.button!==0)return;const o=n(new DOMPoint(i.clientX,i.clientY));!o||(i.preventDefault(),this.documentListeners.add("pointermove",this.onPointerMove.bind(this,o)),this.documentListeners.add("pointerup",this.onPointerUp.bind(this,o)))};return t.addEventListener("pointerdown",l),t.style.touchAction="none",()=>{t.removeEventListener("pointerdown",l),t.style.touchAction=""}}deactivate(){this.clearScrollInterval(),this.documentListeners.removeAll()}destroy(){}clearScrollInterval(){clearInterval(this.scrollInterval),this.scrollInterval=void 0}}class hf{constructor(t){et(this,"originalAttributes",new Map),this.target=t}set(t,n){this.saveOriginal(t),this.target.setAttribute(t,n)}add(t,n){this.target.hasAttribute(t)||this.set(t,n)}remove(t){this.saveOriginal(t),this.target.removeAttribute(t)}saveOriginal(t){this.originalAttributes.has(t)||this.originalAttributes.set(t,this.target.getAttribute(t))}revertAll(){for(let[t,n]of this.originalAttributes)n===null?this.target.removeAttribute(t):this.target.setAttribute(t,n);this.originalAttributes.clear()}}const df={instructions:"To pick up a sortable item, press space or enter. While dragging, use the arrow keys to move the item. Press space or enter again to drop the item in its new position, or press escape to cancel."};let pf=0;class fo{constructor(t={}){et(this,"options"),et(this,"instructionsElement"),et(this,"documentListeners",new xl(document)),this.options=Object.assign({},df,t),this.instructionsElement=this.createInstructionsElement()}attach(t,n){const l=o=>{if(!["Enter","Space"].includes(o.code))return;const a=n();!a||(o.preventDefault(),setTimeout(()=>this.documentListeners.add("keydown",this.onKeyDown.bind(this,a))))},i=new hf(t);return i.add("tabindex","0"),i.add("role","button"),i.add("aria-roledescription","sortable"),this.instructionsElement&&i.add("aria-describedby",this.instructionsElement.id),t.addEventListener("keydown",l),()=>{i.revertAll(),t.removeEventListener("keydown",l)}}deactivate(){this.documentListeners.removeAll()}destroy(){var t;(t=this.instructionsElement)==null||t.remove()}onKeyDown(t,n){if(["Enter","Space"].includes(n.code)){n.preventDefault(),t.onDrop(),t.activator.focus();return}if(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(n.code)){n.preventDefault();const{options:{collisionDetection:l,strategy:i},rects:o,itemsByContainer:a,pointer:f,position:d,activeItem:p,onMove:b,container:g}=t,v=new Map;for(let[M,w]of a)for(let L of w.size?w:[M]){const x=o.get(L);(n.key==="ArrowUp"&&x.bottom<f.y||n.key==="ArrowDown"&&x.top>f.y||n.key==="ArrowLeft"&&x.right<f.x||n.key==="ArrowRight"&&x.left>f.x)&&v.set(L,x)}const _=l(d,v);if(!_)return;b(vn(o.get(_)));let T=vn(o.get(p));for(let[,M]of a){if(!M.has(p))continue;const w=Array.from(M),L=w.indexOf(p);let x=w.indexOf(_);n.key==="ArrowUp"&&g!==t.container&&x++;const V=i({rects:w.map(A=>o.get(A)),activeIndex:L,overIndex:x===-1?L:x,index:L});T.x+=V?.x||0,T.y+=V?.y||0}let I=0,$=0;for(let M of ff(p)){const w=ao(M),L=Math.min(M.scrollWidth-M.clientWidth-M.scrollLeft,Math.max(-M.scrollLeft,T.x-w.x-w.width/2)),x=Math.min(M.scrollHeight-M.clientHeight-M.scrollTop,Math.max(-M.scrollTop,T.y-w.y-w.height/2));M.scrollBy({left:L,top:x,behavior:"smooth"}),I+=L,$+=x}b(new DOMPoint(T.x-I,T.y-$))}}createInstructionsElement(){if(!this.options.instructions)return;const t=document.createElement("div");return t.id="SortableInstructions-"+pf++,t.style.display="none",t.textContent=this.options.instructions,document.body.appendChild(t),t}}function mf(e){let t=e.getBoundingClientRect();const{transform:n,transformOrigin:l}=window.getComputedStyle(e);return n&&(t=gf(t,n,l)),t}function gf(e,t,n){const l=vf(t);if(!l)return e;const{scaleX:i,scaleY:o,x:a,y:f}=l,d=e.left-a-(1-i)*parseFloat(n),p=e.top-f-(1-o)*parseFloat(n.slice(n.indexOf(" ")+1)),b=i?e.width/i:e.width,g=o?e.height/o:e.height;return new DOMRect(d,p,b,g)}function vf(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}class yf{constructor(t,n,l,i,o,a){et(this,"overItem"),et(this,"overlay"),et(this,"pointer",new DOMPoint(0,0)),et(this,"pointerOffset",new DOMPoint(0,0)),et(this,"position"),et(this,"itemsByContainer"),et(this,"rects",new Map),et(this,"originalContainer"),et(this,"originalIndex",-1),et(this,"documentListeners",new xl(document)),et(this,"windowListeners",new xl(window)),et(this,"onMove",(f,d)=>{this.pointer=f,this.position.x=f.x+this.pointerOffset.x,this.position.y=f.y+this.pointerOffset.y;const p=new CustomEvent("dragmove",{detail:this});this.instance.dispatchEvent(p),this.updateOverlay(d);let b=new Map;this.itemsByContainer.forEach((v,_)=>{const T=this.rects.get(_);f.x>T.left&&f.x<T.right&&f.y>T.top&&f.y<T.bottom&&(v.size?v.forEach(I=>b.set(I,this.rects.get(I))):b.set(_,this.rects.get(_)))}),b.size||(b=this.rects);const g=this.options.collisionDetection(this.position,b);if(g!==this.overItem){const v=new CustomEvent("dragover",{cancelable:!0,detail:{...this,overItem:g}});if(this.instance.dispatchEvent(v),v.defaultPrevented)return;this.overItem=g}this.itemsByContainer.forEach((v,_)=>{v.has(this.activeItem)&&!_.contains(g)?v.delete(this.activeItem):_.contains(g)&&!v.has(this.activeItem)&&(v.add(this.activeItem),_.appendChild(this.activeItem),this.updateRects())}),this.instance.announce(this.instance.options.announcements.onDragOver(this)),this.itemsByContainer.forEach(v=>{const _=Array.from(v),T=_.indexOf(this.activeItem),I=_.indexOf(g),$=_.map(M=>this.rects.get(M));_.forEach((M,w)=>{if(M.style.transform="none",I===-1)return;const L=this.options.strategy({rects:$,activeIndex:T,overIndex:I,index:w});if(!L)return;const x=Math.round(L.x),V=Math.round(L.y);M.style.transform=`translate(${x}px, ${V}px)`})})}),et(this,"onDrop",()=>{const{activeItem:f,overItem:d}=this;if(f&&d){const p=new CustomEvent("drop",{cancelable:!0,detail:this});this.instance.dispatchEvent(p),p.defaultPrevented||(this.instance.containers.has(d)?d.appendChild(f):f.compareDocumentPosition(d)===Node.DOCUMENT_POSITION_PRECEDING?d.before(f):d.after(f),this.instance.announce(this.instance.options.announcements.onDrop(this)))}this.destroy()}),et(this,"onCancel",()=>{this.activeItem&&this.originalContainer&&this.originalIndex!==-1&&this.originalContainer.insertBefore(this.activeItem,this.originalContainer.children[this.originalIndex]);const f=new CustomEvent("dragcancel",{cancelable:!1,detail:this});this.instance.dispatchEvent(f),this.instance.announce(this.instance.options.announcements.onDragCancel(this)),this.activator.focus(),setTimeout(()=>this.destroy())}),et(this,"onScroll",()=>{this.updateRects(),this.onMove(this.pointer)}),et(this,"onKeyDown",f=>{f.key==="Escape"&&(f.preventDefault(),this.onCancel())}),this.instance=t,this.sensor=n,this.activeItem=l,this.activator=i,this.onFinished=o,this.itemsByContainer=new Map;for(let f of t.containers){const d=Array.from(f.children).filter(this.instance.options.filter),p=d.indexOf(l);p!==-1&&(this.originalContainer=f,this.originalIndex=p),this.itemsByContainer.set(f,new Set(d))}this.updateRects(),this.position=DOMRect.fromRect(this.rects.get(this.activeItem)),this.pointer=a||vn(this.position),this.pointerOffset=new DOMPoint(this.position.x-this.pointer.x,this.position.y-this.pointer.y),this.overlay=this.createOverlay(l),this.updateOverlay(),document.body.appendChild(this.overlay),this.windowListeners.add("scroll",this.onScroll,{capture:!0,passive:!0}),this.documentListeners.add("keydown",this.onKeyDown),this.instance.announce(this.instance.options.announcements.onDragStart(this))}get options(){return this.instance.options}get container(){for(let[t,n]of this.itemsByContainer)if(n.has(this.activeItem))return t;return Array.from(this.itemsByContainer.keys())[0]}get activeIndex(){for(let[,t]of this.itemsByContainer)if(t.has(this.activeItem))return Array.from(t).indexOf(this.activeItem);return-1}get overIndex(){if(this.overItem){for(let[,t]of this.itemsByContainer)if(t.has(this.overItem))return Array.from(t).indexOf(this.overItem)}return-1}destroy(){this.sensor.deactivate(),this.itemsByContainer.forEach(l=>{l.forEach(i=>{i.style.transition="none",i.style.transform="none",i.offsetWidth,i.style.transition=""})});const{activeItem:t,overlay:n}=this;if(t&&n){const l=t.getBoundingClientRect();n.style.transform=`translate(${l.x}px, ${l.y}px)`,Promise.all(n.getAnimations().map(i=>i.finished)).then(()=>{n.remove();const i=new CustomEvent("dragend",{cancelable:!1,detail:this});this.instance.dispatchEvent(i)})}this.windowListeners.removeAll(),this.documentListeners.removeAll(),this.onFinished()}updateRects(){this.rects.clear(),this.itemsByContainer.forEach((t,n)=>{[n,...t].forEach(l=>{this.rects.set(l,mf(l))})})}createOverlay(t){const n=t.cloneNode(!0);return Object.assign(n.style,{position:"fixed",top:0,left:0,margin:0}),n}updateOverlay(t){if(Object.assign(this.overlay.style,{transform:`translate(${this.position.x}px, ${this.position.y}px)`,width:this.position.width+"px",height:this.position.height+"px"}),t){const n=this.overlay.style.transition;this.overlay.style.transition="none",this.overlay.offsetWidth,this.overlay.style.transition=n}}}function bf(e,t,n){const l=e.slice();return l.splice(n<0?l.length+n:n,0,l.splice(t,1)[0]),l}const wf=({rects:e,index:t,overIndex:n,activeIndex:l})=>{const i=bf(e,n,l),o=e[t],a=i[t];return!a||!o?null:{x:a.left-o.left,y:a.top-o.top}},Sf=({rects:e,index:t,overIndex:n,activeIndex:l})=>{const i=e[l];if(t===l){const a=e[n];return{x:0,y:l<n?a.top+a.height-(i.top+i.height):a.top-i.top}}const o=xf(e,t,l);return t>l&&t<=n?{x:0,y:-i.height-o}:t<l&&t>=n?{x:0,y:i.height+o}:{x:0,y:0}};function xf(e,t,n){const l=e[t],i=e[t-1],o=e[t+1];return l?n<t?i?l.top-(i.top+i.height):o?o.top-(l.top+l.height):0:o?o.top-(l.top+l.height):i?l.top-(i.top+i.height):0:0}function De(e){var t;const n=e.getAttribute("aria-labelledby");return n&&((t=document.getElementById(n))==null?void 0:t.textContent)||e.getAttribute("aria-label")}const Ef={filter:()=>!0,activator:e=>e,sensors:[new uo,new fo],collisionDetection:uf,strategy:wf,announcements:{onDragStart({activeItem:e,activeIndex:t,container:n}){const l=De(e)||`item ${t+1}`,i=De(n);return`Picked up ${l}`+(i?` in ${i}`:"")},onDragOver({activeItem:e,activeIndex:t,container:n,overIndex:l}){const i=De(e)||`item ${t+1}`,o=De(n);return`${i} was moved to position ${l+1}`+(o?` in ${o}`:"")},onDrop({activeItem:e,activeIndex:t,container:n,overIndex:l}){const i=De(e)||`item ${t+1}`,o=De(n);return`${i} was dropped in position ${l+1}`+(o?` in ${o}`:"")},onDragCancel({activeItem:e,activeIndex:t}){return`Sorting was cancelled. ${De(e)||`item ${t+1}`} was dropped.`}}},Af=EventTarget;class _f extends Af{constructor(t={}){var n;super(),et(this,"containers",new Set),et(this,"options"),et(this,"context"),et(this,"containerObservers",new Map),et(this,"itemDetachers",new Map),et(this,"liveRegion"),this.options=Object.assign({},Ef,t),this.liveRegion=this.createLiveRegion(),(n=t.containers)==null||n.forEach(l=>this.addContainer(l))}announce(t){this.liveRegion.textContent=t}destroy(){var t;(t=this.context)==null||t.onCancel(),this.liveRegion.remove(),this.containers.forEach(n=>this.removeContainer(n)),this.options.sensors.forEach(n=>n.destroy())}addContainer(t){if(this.containers.has(t))return;this.containers.add(t),Array.from(t.children).forEach(l=>this.attachItem(l));const n=new MutationObserver(l=>{l.forEach(i=>{i.addedNodes.forEach(o=>{o instanceof HTMLElement&&setTimeout(()=>this.attachItem(o))}),i.removedNodes.forEach(o=>{o instanceof HTMLElement&&this.detachItem(o)})})});n.observe(t,{childList:!0}),this.containerObservers.set(t,n)}removeContainer(t){var n;!this.containers.has(t)||(this.containers.delete(t),Array.from(t.children).forEach(l=>this.detachItem(l)),(n=this.containerObservers.get(t))==null||n.disconnect(),this.containerObservers.delete(t))}attachItem(t){if(!this.options.filter(t))return;const n=[];for(let l of this.options.sensors){const i=this.options.activator(t);if(!i)continue;const o=l.attach(i,a=>this.start(l,t,i,a));n.push(o)}this.itemDetachers.set(t,n)}detachItem(t){var n;(n=this.itemDetachers.get(t))==null||n.forEach(l=>l()),this.itemDetachers.delete(t)}start(t,n,l,i){if(this.context)return;const o=new yf(this,t,n,l,()=>this.context=void 0,i),a=new CustomEvent("dragstart",{cancelable:!0,detail:o});if(this.dispatchEvent(a),!a.defaultPrevented)return this.context=o}createLiveRegion(){const t=document.createElement("div");return Object.assign(t.style,{clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:"1px",overflow:"hidden",position:"absolute",top:0,whiteSpace:"nowrap",width:"1px"}),t.setAttribute("role","status"),t.setAttribute("aria-live","assertive"),t.setAttribute("aria-atomic",""),document.body.appendChild(t),t}}function Al(e,{activeItem:t,overIndex:n,container:l}){const i=De(t)||"",o=De(l)||"";return e.replace("{$activeLabel}",i).replace("{$overPosition}",String(n+1)).replace("{$containerLabel}",o)}const Cl=class Cl extends Zt{constructor(){super(...arguments),this.start=t=>{t.detail.activeItem.style.opacity="0",t.detail.overlay.classList.add("drag-overlay","drag-overlay-active")},this.beforeEnd=t=>{t.detail.overlay.classList.remove("drag-overlay-active")},this.end=t=>{t.detail.activeItem.style.opacity="";const n=this.containerTargets.flatMap((l,i)=>Array.from(l.querySelectorAll("[data-id]")).map(o=>({id:o.dataset.id,listIndex:i})));n&&(this.orderInputTarget.value=JSON.stringify(n),this.dispatch("update"))}}initialize(){this.sortable=new _f({filter:t=>!!t.querySelector("[data-handle]"),activator:t=>t.querySelector("[data-handle]"),strategy:Sf,sensors:[new uo,new fo({instructions:this.instructionsValue})],announcements:{onDragStart:Al.bind(void 0,this.dragStartAnnouncementValue),onDragOver:Al.bind(void 0,this.dragOverAnnouncementValue),onDrop:Al.bind(void 0,this.dropAnnouncementValue),onDragCancel:Al.bind(void 0,this.dragCancelAnnouncementValue)}}),this.sortable.addEventListener("dragstart",this.start),this.sortable.addEventListener("drop",this.beforeEnd),this.sortable.addEventListener("dragcancel",this.beforeEnd),this.sortable.addEventListener("dragend",this.end)}containerTargetConnected(t){this.sortable?.addContainer(t)}containerTargetDisconnected(t){this.sortable?.removeContainer(t)}};Cl.targets=["container","orderInput"],Cl.values={instructions:String,dragStartAnnouncement:String,dragOverAnnouncement:String,dropAnnouncement:String,dragCancelAnnouncement:String};let Mi=Cl;const Tf=Object.freeze(Object.defineProperty({__proto__:null,default:Mi},Symbol.toStringTag,{value:"Module"})),yn=(e,t=0,n=1)=>e>n?n:e<t?t:e,Lt=(e,t=0,n=Math.pow(10,t))=>Math.round(n*e)/n,kf=e=>Lf(Oi(e)),Oi=e=>(e[0]==="#"&&(e=e.substring(1)),e.length<6?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:e.length===4?Lt(parseInt(e[3]+e[3],16)/255,2):1}:{r:parseInt(e.substring(0,2),16),g:parseInt(e.substring(2,4),16),b:parseInt(e.substring(4,6),16),a:e.length===8?Lt(parseInt(e.substring(6,8),16)/255,2):1}),Mf=e=>Cf(Of(e)),ho=({h:e,s:t,v:n,a:l})=>{const i=(200-t)*n/100;return{h:Lt(e),s:Lt(i>0&&i<200?t*n/100/(i<=100?i:200-i)*100:0),l:Lt(i/2),a:Lt(l,2)}},Ci=e=>{const{h:t,s:n,l}=ho(e);return`hsl(${t}, ${n}%, ${l}%)`},Li=e=>{const{h:t,s:n,l,a:i}=ho(e);return`hsla(${t}, ${n}%, ${l}%, ${i})`},Of=({h:e,s:t,v:n,a:l})=>{e=e/360*6,t=t/100,n=n/100;const i=Math.floor(e),o=n*(1-t),a=n*(1-(e-i)*t),f=n*(1-(1-e+i)*t),d=i%6;return{r:Lt([n,a,o,o,f,n][d]*255),g:Lt([f,n,n,a,o,o][d]*255),b:Lt([o,o,f,n,n,a][d]*255),a:Lt(l,2)}},_l=e=>{const t=e.toString(16);return t.length<2?"0"+t:t},Cf=({r:e,g:t,b:n,a:l})=>{const i=l<1?_l(Lt(l*255)):"";return"#"+_l(e)+_l(t)+_l(n)+i},Lf=({r:e,g:t,b:n,a:l})=>{const i=Math.max(e,t,n),o=i-Math.min(e,t,n),a=o?i===e?(t-n)/o:i===t?2+(n-e)/o:4+(e-t)/o:0;return{h:Lt(60*(a<0?a+6:a)),s:Lt(i?o/i*100:0),v:Lt(i/255*100),a:l}},po=(e,t)=>{if(e===t)return!0;for(const n in e)if(e[n]!==t[n])return!1;return!0},Df=(e,t)=>e.toLowerCase()===t.toLowerCase()?!0:po(Oi(e),Oi(t)),mo={},Di=e=>{let t=mo[e];return t||(t=document.createElement("template"),t.innerHTML=e,mo[e]=t),t},Pi=(e,t,n)=>{e.dispatchEvent(new CustomEvent(t,{bubbles:!0,detail:n}))};let bn=!1;const Ii=e=>"touches"in e,Pf=e=>bn&&!Ii(e)?!1:(bn||(bn=Ii(e)),!0),go=(e,t)=>{const n=Ii(t)?t.touches[0]:t,l=e.el.getBoundingClientRect();Pi(e.el,"move",e.getMove({x:yn((n.pageX-(l.left+window.pageXOffset))/l.width),y:yn((n.pageY-(l.top+window.pageYOffset))/l.height)}))},If=(e,t)=>{const n=t.keyCode;n>40||e.xy&&n<37||n<33||(t.preventDefault(),Pi(e.el,"move",e.getMove({x:n===39?.01:n===37?-.01:n===34?.05:n===33?-.05:n===35?1:n===36?-1:0,y:n===40?.01:n===38?-.01:0},!0)))};class $i{constructor(t,n,l,i){const o=Di(`<div role="slider" tabindex="0" part="${n}" ${l}><div part="${n}-pointer"></div></div>`);t.appendChild(o.content.cloneNode(!0));const a=t.querySelector(`[part=${n}]`);a.addEventListener("mousedown",this),a.addEventListener("touchstart",this),a.addEventListener("keydown",this),this.el=a,this.xy=i,this.nodes=[a.firstChild,a]}set dragging(t){const n=t?document.addEventListener:document.removeEventListener;n(bn?"touchmove":"mousemove",this),n(bn?"touchend":"mouseup",this)}handleEvent(t){switch(t.type){case"mousedown":case"touchstart":if(t.preventDefault(),!Pf(t)||!bn&&t.button!=0)return;this.el.focus(),go(this,t),this.dragging=!0;break;case"mousemove":case"touchmove":t.preventDefault(),go(this,t);break;case"mouseup":case"touchend":this.dragging=!1;break;case"keydown":If(this,t);break}}style(t){t.forEach((n,l)=>{for(const i in n)this.nodes[l].style.setProperty(i,n[i])})}}class $f extends $i{constructor(t){super(t,"hue",'aria-label="Hue" aria-valuemin="0" aria-valuemax="360"',!1)}update({h:t}){this.h=t,this.style([{left:`${t/360*100}%`,color:Ci({h:t,s:100,v:100,a:1})}]),this.el.setAttribute("aria-valuenow",`${Lt(t)}`)}getMove(t,n){return{h:n?yn(this.h+t.x*360,0,360):360*t.x}}}class jf extends $i{constructor(t){super(t,"saturation",'aria-label="Color"',!0)}update(t){this.hsva=t,this.style([{top:`${100-t.v}%`,left:`${t.s}%`,color:Ci(t)},{"background-color":Ci({h:t.h,s:100,v:100,a:1})}]),this.el.setAttribute("aria-valuetext",`Saturation ${Lt(t.s)}%, Brightness ${Lt(t.v)}%`)}getMove(t,n){return{s:n?yn(this.hsva.s+t.x*100,0,100):t.x*100,v:n?yn(this.hsva.v-t.y*100,0,100):Math.round(100-t.y*100)}}}const Hf=':host{display:flex;flex-direction:column;position:relative;width:200px;height:200px;user-select:none;-webkit-user-select:none;cursor:default}:host([hidden]){display:none!important}[role=slider]{position:relative;touch-action:none;user-select:none;-webkit-user-select:none;outline:0}[role=slider]:last-child{border-radius:0 0 8px 8px}[part$=pointer]{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;display:flex;place-content:center center;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}[part$=pointer]::after{content:"";width:100%;height:100%;border-radius:inherit;background-color:currentColor}[role=slider]:focus [part$=pointer]{transform:translate(-50%,-50%) scale(1.1)}',Rf="[part=hue]{flex:0 0 24px;background:linear-gradient(to right,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red 100%)}[part=hue-pointer]{top:50%;z-index:2}",zf="[part=saturation]{flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(to top,#000,transparent),linear-gradient(to right,#fff,rgba(255,255,255,0));box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}[part=saturation-pointer]{z-index:3}",Tl=Symbol("same"),ji=Symbol("color"),vo=Symbol("hsva"),Hi=Symbol("update"),yo=Symbol("parts"),kl=Symbol("css"),Ml=Symbol("sliders");class Ff extends HTMLElement{static get observedAttributes(){return["color"]}get[kl](){return[Hf,Rf,zf]}get[Ml](){return[jf,$f]}get color(){return this[ji]}set color(t){if(!this[Tl](t)){const n=this.colorModel.toHsva(t);this[Hi](n),this[ji]=t}}constructor(){super();const t=Di(`<style>${this[kl].join("")}</style>`),n=this.attachShadow({mode:"open"});n.appendChild(t.content.cloneNode(!0)),n.addEventListener("move",this),this[yo]=this[Ml].map(l=>new l(n))}connectedCallback(){if(this.hasOwnProperty("color")){const t=this.color;delete this.color,this.color=t}else this.color||(this.color=this.colorModel.defaultColor)}attributeChangedCallback(t,n,l){const i=this.colorModel.fromAttr(l);this[Tl](i)||(this.color=i)}handleEvent(t){const n=this[vo],l={...n,...t.detail};this[Hi](l);let i;!po(l,n)&&!this[Tl](i=this.colorModel.fromHsva(l))&&(this[ji]=i,Pi(this,"color-changed",{value:i}))}[Tl](t){return this.color&&this.colorModel.equal(t,this.color)}[Hi](t){this[vo]=t,this[yo].forEach(n=>n.update(t))}}class Vf extends $i{constructor(t){super(t,"alpha",'aria-label="Alpha" aria-valuemin="0" aria-valuemax="1"',!1)}update(t){this.hsva=t;const n=Li({...t,a:0}),l=Li({...t,a:1}),i=t.a*100;this.style([{left:`${i}%`,color:Li(t)},{"--gradient":`linear-gradient(90deg, ${n}, ${l}`}]);const o=Lt(i);this.el.setAttribute("aria-valuenow",`${o}`),this.el.setAttribute("aria-valuetext",`${o}%`)}getMove(t,n){return{a:n?yn(this.hsva.a+t.x):t.x}}}const Nf=`[part=alpha]{flex:0 0 24px}[part=alpha]::after{display:block;content:"";position:absolute;top:0;left:0;right:0;bottom:0;border-radius:inherit;background-image:var(--gradient);box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}[part^=alpha]{background-color:#fff;background-image:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><rect x="8" width="8" height="8"/><rect y="8" width="8" height="8"/></svg>')}[part=alpha-pointer]{top:50%}`;class Bf extends Ff{get[kl](){return[...super[kl],Nf]}get[Ml](){return[...super[Ml],Vf]}}const Wf={defaultColor:"#0001",toHsva:kf,fromHsva:Mf,equal:Df,fromAttr:e=>e};class Gf extends Bf{get colorModel(){return Wf}}class qf extends Gf{}customElements.define("hex-alpha-color-picker",qf);const Yf=/^#?([0-9A-F]{3,8})$/i,Ri=(e,t)=>{const n=Yf.exec(e),l=n?n[1].length:0;return l===3||l===6||!!t&&l===4||!!t&&l===8},Uf=Di('<slot><input part="input" spellcheck="false"></slot>'),bo=(e,t)=>e.replace(/([^0-9A-F]+)/gi,"").substring(0,t?8:6),wo=Symbol("alpha"),Ol=Symbol("color"),So=Symbol("saved"),zi=Symbol("input"),Fi=Symbol("init"),xo=Symbol("prefix"),Kn=Symbol("update");class Kf extends HTMLElement{static get observedAttributes(){return["alpha","color","prefixed"]}get color(){return this[Ol]}set color(t){this[Ol]=t,this[Kn](t)}get alpha(){return this[wo]}set alpha(t){this[wo]=t,this.toggleAttribute("alpha",t);const n=this.color;n&&!Ri(n,t)&&(this.color=n.startsWith("#")?n.substring(0,n.length===5?4:7):n.substring(0,n.length===4?3:6))}get prefixed(){return this[xo]}set prefixed(t){this[xo]=t,this.toggleAttribute("prefixed",t),this[Kn](this.color)}constructor(){super();const t=this.attachShadow({mode:"open"});t.appendChild(Uf.content.cloneNode(!0)),t.firstElementChild.addEventListener("slotchange",()=>this[Fi](t))}connectedCallback(){if(this[Fi](this.shadowRoot),this.hasOwnProperty("alpha")){const t=this.alpha;delete this.alpha,this.alpha=t}else this.alpha=this.hasAttribute("alpha");if(this.hasOwnProperty("prefixed")){const t=this.prefixed;delete this.prefixed,this.prefixed=t}else this.prefixed=this.hasAttribute("prefixed");if(this.hasOwnProperty("color")){const t=this.color;delete this.color,this.color=t}else this.color==null?this.color=this.getAttribute("color")||"":this[Ol]&&this[Kn](this[Ol])}handleEvent(t){const n=t.target,{value:l}=n;switch(t.type){case"input":const i=bo(l,this.alpha);this[So]=this.color,(Ri(i,this.alpha)||l==="")&&(this.color=i,this.dispatchEvent(new CustomEvent("color-changed",{bubbles:!0,detail:{value:i?"#"+i:""}})));break;case"blur":l&&!Ri(l,this.alpha)&&(this.color=this[So])}}attributeChangedCallback(t,n,l){t==="color"&&this.color!==l&&(this.color=l);const i=l!=null;t==="alpha"&&this.alpha!==i&&(this.alpha=i),t==="prefixed"&&this.prefixed!==i&&(this.prefixed=i)}[Fi](t){let n=this.querySelector("input");if(!n){let l;for(;l=this.firstChild;)l.remove();n=t.querySelector("input")}n.addEventListener("input",this),n.addEventListener("blur",this),this[zi]=n,this[Kn](this.color)}[Kn](t){this[zi]&&(this[zi].value=t==null||t==""?"":(this.prefixed?"#":"")+bo(t,this.alpha))}}class Jf extends Kf{}customElements.define("hex-input",Jf);const Zf=Object.entries(Object.assign({"./controllers/color-picker-controller.ts":ya,"./controllers/filter-input-controller.ts":La,"./controllers/form-controller.ts":Da,"./controllers/icon-picker-controller.ts":Pa,"./controllers/incremental-search-controller.ts":oc,"./controllers/line-chart-controller.ts":nf,"./controllers/permission-grid-controller.ts":sf,"./controllers/slugger-controller.ts":of,"./controllers/sortable-controller.ts":Tf})).map(([e,t])=>({identifier:e.match(/\.\/controllers\/(.*)\.ts$/)[1].replace(/\//g,"--").replace(/_/g,"-"),controllerConstructor:t.default}));window.Stimulus.load(Zf)})();
